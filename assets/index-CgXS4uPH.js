const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/firebaseConfig.local-CYBHTYhd.js","assets/index.esm-Cbp7Z_4f.js"])))=>i.map(i=>d[i]);
import{L as iS,a as K,_ as If,C as Mf,r as zc,s as gt,j as kp,c as fi,b as Rr,m as Bc,d as NP,S as OP,e as FP,f as Aa,g as sS,h as Sn,i as Ep,D as rS,q as Br,k as VP,l as zP,n as Rf,o as Pp,p as oS,t as fn,u as BP,v as xu,w as UP,x as jP,y as aS,z as Ip,A as WP,B as Uc,E as HP,F as Da,G as lS,H as cS,I as Ur,J as uS,K as $P,M as Mp,N as en,O as KP,P as Rp,Q as GP,R as YP,T as qP,U as XP,V as QP}from"./index.esm-Cbp7Z_4f.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function JP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vd={exports:{}},Lo={},zd={exports:{}},ve={};var lv;function ZP(){if(lv)return ve;lv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(R){return R===null||typeof R!="object"?null:(R=m&&R[m]||R["@@iterator"],typeof R=="function"?R:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function C(R,z,de){this.props=R,this.context=z,this.refs=S,this.updater=de||v}C.prototype.isReactComponent={},C.prototype.setState=function(R,z){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,z,"setState")},C.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function b(){}b.prototype=C.prototype;function k(R,z,de){this.props=R,this.context=z,this.refs=S,this.updater=de||v}var I=k.prototype=new b;I.constructor=k,x(I,C.prototype),I.isPureReactComponent=!0;var D=Array.isArray,M=Object.prototype.hasOwnProperty,O={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function F(R,z,de){var fe,_e={},ye=null,Ne=null;if(z!=null)for(fe in z.ref!==void 0&&(Ne=z.ref),z.key!==void 0&&(ye=""+z.key),z)M.call(z,fe)&&!V.hasOwnProperty(fe)&&(_e[fe]=z[fe]);var Me=arguments.length-2;if(Me===1)_e.children=de;else if(1<Me){for(var He=Array(Me),Gt=0;Gt<Me;Gt++)He[Gt]=arguments[Gt+2];_e.children=He}if(R&&R.defaultProps)for(fe in Me=R.defaultProps,Me)_e[fe]===void 0&&(_e[fe]=Me[fe]);return{$$typeof:n,type:R,key:ye,ref:Ne,props:_e,_owner:O.current}}function G(R,z){return{$$typeof:n,type:R.type,key:z,ref:R.ref,props:R.props,_owner:R._owner}}function J(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function ie(R){var z={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(de){return z[de]})}var ae=/\/+/g;function Te(R,z){return typeof R=="object"&&R!==null&&R.key!=null?ie(""+R.key):z.toString(36)}function De(R,z,de,fe,_e){var ye=typeof R;(ye==="undefined"||ye==="boolean")&&(R=null);var Ne=!1;if(R===null)Ne=!0;else switch(ye){case"string":case"number":Ne=!0;break;case"object":switch(R.$$typeof){case n:case e:Ne=!0}}if(Ne)return Ne=R,_e=_e(Ne),R=fe===""?"."+Te(Ne,0):fe,D(_e)?(de="",R!=null&&(de=R.replace(ae,"$&/")+"/"),De(_e,z,de,"",function(Gt){return Gt})):_e!=null&&(J(_e)&&(_e=G(_e,de+(!_e.key||Ne&&Ne.key===_e.key?"":(""+_e.key).replace(ae,"$&/")+"/")+R)),z.push(_e)),1;if(Ne=0,fe=fe===""?".":fe+":",D(R))for(var Me=0;Me<R.length;Me++){ye=R[Me];var He=fe+Te(ye,Me);Ne+=De(ye,z,de,He,_e)}else if(He=y(R),typeof He=="function")for(R=He.call(R),Me=0;!(ye=R.next()).done;)ye=ye.value,He=fe+Te(ye,Me++),Ne+=De(ye,z,de,He,_e);else if(ye==="object")throw z=String(R),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Ne}function me(R,z,de){if(R==null)return R;var fe=[],_e=0;return De(R,fe,"","",function(ye){return z.call(de,ye,_e++)}),fe}function ge(R){if(R._status===-1){var z=R._result;z=z(),z.then(function(de){(R._status===0||R._status===-1)&&(R._status=1,R._result=de)},function(de){(R._status===0||R._status===-1)&&(R._status=2,R._result=de)}),R._status===-1&&(R._status=0,R._result=z)}if(R._status===1)return R._result.default;throw R._result}var ee={current:null},j={transition:null},q={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:j,ReactCurrentOwner:O};function Y(){throw Error("act(...) is not supported in production builds of React.")}return ve.Children={map:me,forEach:function(R,z,de){me(R,function(){z.apply(this,arguments)},de)},count:function(R){var z=0;return me(R,function(){z++}),z},toArray:function(R){return me(R,function(z){return z})||[]},only:function(R){if(!J(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},ve.Component=C,ve.Fragment=t,ve.Profiler=s,ve.PureComponent=k,ve.StrictMode=i,ve.Suspense=u,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,ve.act=Y,ve.cloneElement=function(R,z,de){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var fe=x({},R.props),_e=R.key,ye=R.ref,Ne=R._owner;if(z!=null){if(z.ref!==void 0&&(ye=z.ref,Ne=O.current),z.key!==void 0&&(_e=""+z.key),R.type&&R.type.defaultProps)var Me=R.type.defaultProps;for(He in z)M.call(z,He)&&!V.hasOwnProperty(He)&&(fe[He]=z[He]===void 0&&Me!==void 0?Me[He]:z[He])}var He=arguments.length-2;if(He===1)fe.children=de;else if(1<He){Me=Array(He);for(var Gt=0;Gt<He;Gt++)Me[Gt]=arguments[Gt+2];fe.children=Me}return{$$typeof:n,type:R.type,key:_e,ref:ye,props:fe,_owner:Ne}},ve.createContext=function(R){return R={$$typeof:a,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:o,_context:R},R.Consumer=R},ve.createElement=F,ve.createFactory=function(R){var z=F.bind(null,R);return z.type=R,z},ve.createRef=function(){return{current:null}},ve.forwardRef=function(R){return{$$typeof:c,render:R}},ve.isValidElement=J,ve.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:ge}},ve.memo=function(R,z){return{$$typeof:d,type:R,compare:z===void 0?null:z}},ve.startTransition=function(R){var z=j.transition;j.transition={};try{R()}finally{j.transition=z}},ve.unstable_act=Y,ve.useCallback=function(R,z){return ee.current.useCallback(R,z)},ve.useContext=function(R){return ee.current.useContext(R)},ve.useDebugValue=function(){},ve.useDeferredValue=function(R){return ee.current.useDeferredValue(R)},ve.useEffect=function(R,z){return ee.current.useEffect(R,z)},ve.useId=function(){return ee.current.useId()},ve.useImperativeHandle=function(R,z,de){return ee.current.useImperativeHandle(R,z,de)},ve.useInsertionEffect=function(R,z){return ee.current.useInsertionEffect(R,z)},ve.useLayoutEffect=function(R,z){return ee.current.useLayoutEffect(R,z)},ve.useMemo=function(R,z){return ee.current.useMemo(R,z)},ve.useReducer=function(R,z,de){return ee.current.useReducer(R,z,de)},ve.useRef=function(R){return ee.current.useRef(R)},ve.useState=function(R){return ee.current.useState(R)},ve.useSyncExternalStore=function(R,z,de){return ee.current.useSyncExternalStore(R,z,de)},ve.useTransition=function(){return ee.current.useTransition()},ve.version="18.3.1",ve}var cv;function Ap(){return cv||(cv=1,zd.exports=ZP()),zd.exports}var uv;function eI(){if(uv)return Lo;uv=1;var n=Ap(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,d){var p,m={},y=null,v=null;d!==void 0&&(y=""+d),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(v=u.ref);for(p in u)i.call(u,p)&&!o.hasOwnProperty(p)&&(m[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)m[p]===void 0&&(m[p]=u[p]);return{$$typeof:e,type:c,key:y,ref:v,props:m,_owner:s.current}}return Lo.Fragment=t,Lo.jsx=a,Lo.jsxs=a,Lo}var hv;function tI(){return hv||(hv=1,Vd.exports=eI()),Vd.exports}var se=tI(),$=Ap();const nI=JP($);var oc={},Bd={exports:{}},Bt={},Ud={exports:{}},jd={};var dv;function iI(){return dv||(dv=1,(function(n){function e(j,q){var Y=j.length;j.push(q);e:for(;0<Y;){var R=Y-1>>>1,z=j[R];if(0<s(z,q))j[R]=q,j[Y]=z,Y=R;else break e}}function t(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var q=j[0],Y=j.pop();if(Y!==q){j[0]=Y;e:for(var R=0,z=j.length,de=z>>>1;R<de;){var fe=2*(R+1)-1,_e=j[fe],ye=fe+1,Ne=j[ye];if(0>s(_e,Y))ye<z&&0>s(Ne,_e)?(j[R]=Ne,j[ye]=Y,R=ye):(j[R]=_e,j[fe]=Y,R=fe);else if(ye<z&&0>s(Ne,Y))j[R]=Ne,j[ye]=Y,R=ye;else break e}}return q}function s(j,q){var Y=j.sortIndex-q.sortIndex;return Y!==0?Y:j.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var u=[],d=[],p=1,m=null,y=3,v=!1,x=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(j){for(var q=t(d);q!==null;){if(q.callback===null)i(d);else if(q.startTime<=j)i(d),q.sortIndex=q.expirationTime,e(u,q);else break;q=t(d)}}function D(j){if(S=!1,I(j),!x)if(t(u)!==null)x=!0,ge(M);else{var q=t(d);q!==null&&ee(D,q.startTime-j)}}function M(j,q){x=!1,S&&(S=!1,b(F),F=-1),v=!0;var Y=y;try{for(I(q),m=t(u);m!==null&&(!(m.expirationTime>q)||j&&!ie());){var R=m.callback;if(typeof R=="function"){m.callback=null,y=m.priorityLevel;var z=R(m.expirationTime<=q);q=n.unstable_now(),typeof z=="function"?m.callback=z:m===t(u)&&i(u),I(q)}else i(u);m=t(u)}if(m!==null)var de=!0;else{var fe=t(d);fe!==null&&ee(D,fe.startTime-q),de=!1}return de}finally{m=null,y=Y,v=!1}}var O=!1,V=null,F=-1,G=5,J=-1;function ie(){return!(n.unstable_now()-J<G)}function ae(){if(V!==null){var j=n.unstable_now();J=j;var q=!0;try{q=V(!0,j)}finally{q?Te():(O=!1,V=null)}}else O=!1}var Te;if(typeof k=="function")Te=function(){k(ae)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,me=De.port2;De.port1.onmessage=ae,Te=function(){me.postMessage(null)}}else Te=function(){C(ae,0)};function ge(j){V=j,O||(O=!0,Te())}function ee(j,q){F=C(function(){j(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){x||v||(x=!0,ge(M))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(j){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var Y=y;y=q;try{return j()}finally{y=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Y=y;y=j;try{return q()}finally{y=Y}},n.unstable_scheduleCallback=function(j,q,Y){var R=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?R+Y:R):Y=R,j){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Y+z,j={id:p++,callback:q,priorityLevel:j,startTime:Y,expirationTime:z,sortIndex:-1},Y>R?(j.sortIndex=Y,e(d,j),t(u)===null&&j===t(d)&&(S?(b(F),F=-1):S=!0,ee(D,Y-R))):(j.sortIndex=z,e(u,j),x||v||(x=!0,ge(M))),j},n.unstable_shouldYield=ie,n.unstable_wrapCallback=function(j){var q=y;return function(){var Y=y;y=q;try{return j.apply(this,arguments)}finally{y=Y}}}})(jd)),jd}var fv;function sI(){return fv||(fv=1,Ud.exports=iI()),Ud.exports}var pv;function rI(){if(pv)return Bt;pv=1;var n=Ap(),e=sI();function t(r){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+r,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function o(r,l){a(r,l),a(r+"Capture",l)}function a(r,l){for(s[r]=l,r=0;r<l.length;r++)i.add(l[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(r){return u.call(m,r)?!0:u.call(p,r)?!1:d.test(r)?m[r]=!0:(p[r]=!0,!1)}function v(r,l,h,f){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return f?!1:h!==null?!h.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function x(r,l,h,f){if(l===null||typeof l>"u"||v(r,l,h,f))return!0;if(f)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function S(r,l,h,f,g,_,w){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=h,this.propertyName=r,this.type=l,this.sanitizeURL=_,this.removeEmptyString=w}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var l=r[0];C[l]=new S(l,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function k(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var l=r.replace(b,k);C[l]=new S(l,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var l=r.replace(b,k);C[l]=new S(l,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var l=r.replace(b,k);C[l]=new S(l,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function I(r,l,h,f){var g=C.hasOwnProperty(l)?C[l]:null;(g!==null?g.type!==0:f||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(x(l,h,g,f)&&(h=null),f||g===null?y(l)&&(h===null?r.removeAttribute(l):r.setAttribute(l,""+h)):g.mustUseProperty?r[g.propertyName]=h===null?g.type===3?!1:"":h:(l=g.attributeName,f=g.attributeNamespace,h===null?r.removeAttribute(l):(g=g.type,h=g===3||g===4&&h===!0?"":""+h,f?r.setAttributeNS(f,l,h):r.setAttribute(l,h))))}var D=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),O=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),ie=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),j=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var Y=Object.assign,R;function z(r){if(R===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);R=l&&l[1]||""}return`
`+R+r}var de=!1;function fe(r,l){if(!r||de)return"";de=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(N){var f=N}Reflect.construct(r,[],l)}else{try{l.call()}catch(N){f=N}r.call(l.prototype)}else{try{throw Error()}catch(N){f=N}r()}}catch(N){if(N&&f&&typeof N.stack=="string"){for(var g=N.stack.split(`
`),_=f.stack.split(`
`),w=g.length-1,T=_.length-1;1<=w&&0<=T&&g[w]!==_[T];)T--;for(;1<=w&&0<=T;w--,T--)if(g[w]!==_[T]){if(w!==1||T!==1)do if(w--,T--,0>T||g[w]!==_[T]){var E=`
`+g[w].replace(" at new "," at ");return r.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",r.displayName)),E}while(1<=w&&0<=T);break}}}finally{de=!1,Error.prepareStackTrace=h}return(r=r?r.displayName||r.name:"")?z(r):""}function _e(r){switch(r.tag){case 5:return z(r.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return r=fe(r.type,!1),r;case 11:return r=fe(r.type.render,!1),r;case 1:return r=fe(r.type,!0),r;default:return""}}function ye(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case O:return"Portal";case G:return"Profiler";case F:return"StrictMode";case Te:return"Suspense";case De:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ie:return(r.displayName||"Context")+".Consumer";case J:return(r._context.displayName||"Context")+".Provider";case ae:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case me:return l=r.displayName||null,l!==null?l:ye(r.type)||"Memo";case ge:l=r._payload,r=r._init;try{return ye(r(l))}catch{}}return null}function Ne(r){var l=r.type;switch(r.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=l.render,r=r.displayName||r.name||"",l.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(l);case 8:return l===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Me(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function He(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Gt(r){var l=He(r)?"checked":"value",h=Object.getOwnPropertyDescriptor(r.constructor.prototype,l),f=""+r[l];if(!r.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,_=h.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return g.call(this)},set:function(w){f=""+w,_.call(this,w)}}),Object.defineProperty(r,l,{enumerable:h.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function Xa(r){r._valueTracker||(r._valueTracker=Gt(r))}function pg(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var h=l.getValue(),f="";return r&&(f=He(r)?r.checked?"true":"false":r.value),r=f,r!==h?(l.setValue(r),!0):!1}function Qa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function $u(r,l){var h=l.checked;return Y({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??r._wrapperState.initialChecked})}function mg(r,l){var h=l.defaultValue==null?"":l.defaultValue,f=l.checked!=null?l.checked:l.defaultChecked;h=Me(l.value!=null?l.value:h),r._wrapperState={initialChecked:f,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function gg(r,l){l=l.checked,l!=null&&I(r,"checked",l,!1)}function Ku(r,l){gg(r,l);var h=Me(l.value),f=l.type;if(h!=null)f==="number"?(h===0&&r.value===""||r.value!=h)&&(r.value=""+h):r.value!==""+h&&(r.value=""+h);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}l.hasOwnProperty("value")?Gu(r,l.type,h):l.hasOwnProperty("defaultValue")&&Gu(r,l.type,Me(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(r.defaultChecked=!!l.defaultChecked)}function yg(r,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var f=l.type;if(!(f!=="submit"&&f!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+r._wrapperState.initialValue,h||l===r.value||(r.value=l),r.defaultValue=l}h=r.name,h!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,h!==""&&(r.name=h)}function Gu(r,l,h){(l!=="number"||Qa(r.ownerDocument)!==r)&&(h==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+h&&(r.defaultValue=""+h))}var Yr=Array.isArray;function js(r,l,h,f){if(r=r.options,l){l={};for(var g=0;g<h.length;g++)l["$"+h[g]]=!0;for(h=0;h<r.length;h++)g=l.hasOwnProperty("$"+r[h].value),r[h].selected!==g&&(r[h].selected=g),g&&f&&(r[h].defaultSelected=!0)}else{for(h=""+Me(h),l=null,g=0;g<r.length;g++){if(r[g].value===h){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}l!==null||r[g].disabled||(l=r[g])}l!==null&&(l.selected=!0)}}function Yu(r,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return Y({},l,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function _g(r,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(t(92));if(Yr(h)){if(1<h.length)throw Error(t(93));h=h[0]}l=h}l==null&&(l=""),h=l}r._wrapperState={initialValue:Me(h)}}function vg(r,l){var h=Me(l.value),f=Me(l.defaultValue);h!=null&&(h=""+h,h!==r.value&&(r.value=h),l.defaultValue==null&&r.defaultValue!==h&&(r.defaultValue=h)),f!=null&&(r.defaultValue=""+f)}function xg(r){var l=r.textContent;l===r._wrapperState.initialValue&&l!==""&&l!==null&&(r.value=l)}function wg(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qu(r,l){return r==null||r==="http://www.w3.org/1999/xhtml"?wg(l):r==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ja,Sg=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,f,g){MSApp.execUnsafeLocalFunction(function(){return r(l,h,f,g)})}:r})(function(r,l){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=l;else{for(Ja=Ja||document.createElement("div"),Ja.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Ja.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;l.firstChild;)r.appendChild(l.firstChild)}});function qr(r,l){if(l){var h=r.firstChild;if(h&&h===r.lastChild&&h.nodeType===3){h.nodeValue=l;return}}r.textContent=l}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zk=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(r){zk.forEach(function(l){l=l+r.charAt(0).toUpperCase()+r.substring(1),Xr[l]=Xr[r]})});function Cg(r,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||Xr.hasOwnProperty(r)&&Xr[r]?(""+l).trim():l+"px"}function bg(r,l){r=r.style;for(var h in l)if(l.hasOwnProperty(h)){var f=h.indexOf("--")===0,g=Cg(h,l[h],f);h==="float"&&(h="cssFloat"),f?r.setProperty(h,g):r[h]=g}}var Bk=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xu(r,l){if(l){if(Bk[r]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Qu(r,l){if(r.indexOf("-")===-1)return typeof l.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ju=null;function Zu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var eh=null,Ws=null,Hs=null;function Tg(r){if(r=vo(r)){if(typeof eh!="function")throw Error(t(280));var l=r.stateNode;l&&(l=wl(l),eh(r.stateNode,r.type,l))}}function kg(r){Ws?Hs?Hs.push(r):Hs=[r]:Ws=r}function Eg(){if(Ws){var r=Ws,l=Hs;if(Hs=Ws=null,Tg(r),l)for(r=0;r<l.length;r++)Tg(l[r])}}function Pg(r,l){return r(l)}function Ig(){}var th=!1;function Mg(r,l,h){if(th)return r(l,h);th=!0;try{return Pg(r,l,h)}finally{th=!1,(Ws!==null||Hs!==null)&&(Ig(),Eg())}}function Qr(r,l){var h=r.stateNode;if(h===null)return null;var f=wl(h);if(f===null)return null;h=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(h&&typeof h!="function")throw Error(t(231,l,typeof h));return h}var nh=!1;if(c)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){nh=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{nh=!1}function Uk(r,l,h,f,g,_,w,T,E){var N=Array.prototype.slice.call(arguments,3);try{l.apply(h,N)}catch(U){this.onError(U)}}var Zr=!1,Za=null,el=!1,ih=null,jk={onError:function(r){Zr=!0,Za=r}};function Wk(r,l,h,f,g,_,w,T,E){Zr=!1,Za=null,Uk.apply(jk,arguments)}function Hk(r,l,h,f,g,_,w,T,E){if(Wk.apply(this,arguments),Zr){if(Zr){var N=Za;Zr=!1,Za=null}else throw Error(t(198));el||(el=!0,ih=N)}}function es(r){var l=r,h=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(h=l.return),r=l.return;while(r)}return l.tag===3?h:null}function Rg(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function Ag(r){if(es(r)!==r)throw Error(t(188))}function $k(r){var l=r.alternate;if(!l){if(l=es(r),l===null)throw Error(t(188));return l!==r?null:r}for(var h=r,f=l;;){var g=h.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){h=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===h)return Ag(g),r;if(_===f)return Ag(g),l;_=_.sibling}throw Error(t(188))}if(h.return!==f.return)h=g,f=_;else{for(var w=!1,T=g.child;T;){if(T===h){w=!0,h=g,f=_;break}if(T===f){w=!0,f=g,h=_;break}T=T.sibling}if(!w){for(T=_.child;T;){if(T===h){w=!0,h=_,f=g;break}if(T===f){w=!0,f=_,h=g;break}T=T.sibling}if(!w)throw Error(t(189))}}if(h.alternate!==f)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?r:l}function Dg(r){return r=$k(r),r!==null?Lg(r):null}function Lg(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var l=Lg(r);if(l!==null)return l;r=r.sibling}return null}var Ng=e.unstable_scheduleCallback,Og=e.unstable_cancelCallback,Kk=e.unstable_shouldYield,Gk=e.unstable_requestPaint,tt=e.unstable_now,Yk=e.unstable_getCurrentPriorityLevel,sh=e.unstable_ImmediatePriority,Fg=e.unstable_UserBlockingPriority,tl=e.unstable_NormalPriority,qk=e.unstable_LowPriority,Vg=e.unstable_IdlePriority,nl=null,Mn=null;function Xk(r){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(nl,r,void 0,(r.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:Zk,Qk=Math.log,Jk=Math.LN2;function Zk(r){return r>>>=0,r===0?32:31-(Qk(r)/Jk|0)|0}var il=64,sl=4194304;function eo(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function rl(r,l){var h=r.pendingLanes;if(h===0)return 0;var f=0,g=r.suspendedLanes,_=r.pingedLanes,w=h&268435455;if(w!==0){var T=w&~g;T!==0?f=eo(T):(_&=w,_!==0&&(f=eo(_)))}else w=h&~g,w!==0?f=eo(w):_!==0&&(f=eo(_));if(f===0)return 0;if(l!==0&&l!==f&&(l&g)===0&&(g=f&-f,_=l&-l,g>=_||g===16&&(_&4194240)!==0))return l;if((f&4)!==0&&(f|=h&16),l=r.entangledLanes,l!==0)for(r=r.entanglements,l&=f;0<l;)h=31-pn(l),g=1<<h,f|=r[h],l&=~g;return f}function eE(r,l){switch(r){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tE(r,l){for(var h=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,_=r.pendingLanes;0<_;){var w=31-pn(_),T=1<<w,E=g[w];E===-1?((T&h)===0||(T&f)!==0)&&(g[w]=eE(T,l)):E<=l&&(r.expiredLanes|=T),_&=~T}}function rh(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function zg(){var r=il;return il<<=1,(il&4194240)===0&&(il=64),r}function oh(r){for(var l=[],h=0;31>h;h++)l.push(r);return l}function to(r,l,h){r.pendingLanes|=l,l!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,l=31-pn(l),r[l]=h}function nE(r,l){var h=r.pendingLanes&~l;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=l,r.mutableReadLanes&=l,r.entangledLanes&=l,l=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<h;){var g=31-pn(h),_=1<<g;l[g]=0,f[g]=-1,r[g]=-1,h&=~_}}function ah(r,l){var h=r.entangledLanes|=l;for(r=r.entanglements;h;){var f=31-pn(h),g=1<<f;g&l|r[f]&l&&(r[f]|=l),h&=~g}}var Re=0;function Bg(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ug,lh,jg,Wg,Hg,ch=!1,ol=[],mi=null,gi=null,yi=null,no=new Map,io=new Map,_i=[],iE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $g(r,l){switch(r){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":no.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(l.pointerId)}}function so(r,l,h,f,g,_){return r===null||r.nativeEvent!==_?(r={blockedOn:l,domEventName:h,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},l!==null&&(l=vo(l),l!==null&&lh(l)),r):(r.eventSystemFlags|=f,l=r.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),r)}function sE(r,l,h,f,g){switch(l){case"focusin":return mi=so(mi,r,l,h,f,g),!0;case"dragenter":return gi=so(gi,r,l,h,f,g),!0;case"mouseover":return yi=so(yi,r,l,h,f,g),!0;case"pointerover":var _=g.pointerId;return no.set(_,so(no.get(_)||null,r,l,h,f,g)),!0;case"gotpointercapture":return _=g.pointerId,io.set(_,so(io.get(_)||null,r,l,h,f,g)),!0}return!1}function Kg(r){var l=ts(r.target);if(l!==null){var h=es(l);if(h!==null){if(l=h.tag,l===13){if(l=Rg(h),l!==null){r.blockedOn=l,Hg(r.priority,function(){jg(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){r.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}r.blockedOn=null}function al(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var h=hh(r.domEventName,r.eventSystemFlags,l[0],r.nativeEvent);if(h===null){h=r.nativeEvent;var f=new h.constructor(h.type,h);Ju=f,h.target.dispatchEvent(f),Ju=null}else return l=vo(h),l!==null&&lh(l),r.blockedOn=h,!1;l.shift()}return!0}function Gg(r,l,h){al(r)&&h.delete(l)}function rE(){ch=!1,mi!==null&&al(mi)&&(mi=null),gi!==null&&al(gi)&&(gi=null),yi!==null&&al(yi)&&(yi=null),no.forEach(Gg),io.forEach(Gg)}function ro(r,l){r.blockedOn===l&&(r.blockedOn=null,ch||(ch=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rE)))}function oo(r){function l(g){return ro(g,r)}if(0<ol.length){ro(ol[0],r);for(var h=1;h<ol.length;h++){var f=ol[h];f.blockedOn===r&&(f.blockedOn=null)}}for(mi!==null&&ro(mi,r),gi!==null&&ro(gi,r),yi!==null&&ro(yi,r),no.forEach(l),io.forEach(l),h=0;h<_i.length;h++)f=_i[h],f.blockedOn===r&&(f.blockedOn=null);for(;0<_i.length&&(h=_i[0],h.blockedOn===null);)Kg(h),h.blockedOn===null&&_i.shift()}var $s=D.ReactCurrentBatchConfig,ll=!0;function oE(r,l,h,f){var g=Re,_=$s.transition;$s.transition=null;try{Re=1,uh(r,l,h,f)}finally{Re=g,$s.transition=_}}function aE(r,l,h,f){var g=Re,_=$s.transition;$s.transition=null;try{Re=4,uh(r,l,h,f)}finally{Re=g,$s.transition=_}}function uh(r,l,h,f){if(ll){var g=hh(r,l,h,f);if(g===null)Ph(r,l,f,cl,h),$g(r,f);else if(sE(g,r,l,h,f))f.stopPropagation();else if($g(r,f),l&4&&-1<iE.indexOf(r)){for(;g!==null;){var _=vo(g);if(_!==null&&Ug(_),_=hh(r,l,h,f),_===null&&Ph(r,l,f,cl,h),_===g)break;g=_}g!==null&&f.stopPropagation()}else Ph(r,l,f,null,h)}}var cl=null;function hh(r,l,h,f){if(cl=null,r=Zu(f),r=ts(r),r!==null)if(l=es(r),l===null)r=null;else if(h=l.tag,h===13){if(r=Rg(l),r!==null)return r;r=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null);return cl=r,null}function Yg(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yk()){case sh:return 1;case Fg:return 4;case tl:case qk:return 16;case Vg:return 536870912;default:return 16}default:return 16}}var vi=null,dh=null,ul=null;function qg(){if(ul)return ul;var r,l=dh,h=l.length,f,g="value"in vi?vi.value:vi.textContent,_=g.length;for(r=0;r<h&&l[r]===g[r];r++);var w=h-r;for(f=1;f<=w&&l[h-f]===g[_-f];f++);return ul=g.slice(r,1<f?1-f:void 0)}function hl(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function dl(){return!0}function Xg(){return!1}function Yt(r){function l(h,f,g,_,w){this._reactName=h,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=w,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(h=r[T],this[T]=h?h(_):_[T]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?dl:Xg,this.isPropagationStopped=Xg,this}return Y(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),l}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fh=Yt(Ks),ao=Y({},Ks,{view:0,detail:0}),lE=Yt(ao),ph,mh,lo,fl=Y({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==lo&&(lo&&r.type==="mousemove"?(ph=r.screenX-lo.screenX,mh=r.screenY-lo.screenY):mh=ph=0,lo=r),ph)},movementY:function(r){return"movementY"in r?r.movementY:mh}}),Qg=Yt(fl),cE=Y({},fl,{dataTransfer:0}),uE=Yt(cE),hE=Y({},ao,{relatedTarget:0}),gh=Yt(hE),dE=Y({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),fE=Yt(dE),pE=Y({},Ks,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),mE=Yt(pE),gE=Y({},Ks,{data:0}),Jg=Yt(gE),yE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_E={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xE(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=vE[r])?!!l[r]:!1}function yh(){return xE}var wE=Y({},ao,{key:function(r){if(r.key){var l=yE[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=hl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?_E[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yh,charCode:function(r){return r.type==="keypress"?hl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?hl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),SE=Yt(wE),CE=Y({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zg=Yt(CE),bE=Y({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yh}),TE=Yt(bE),kE=Y({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),EE=Yt(kE),PE=Y({},fl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),IE=Yt(PE),ME=[9,13,27,32],_h=c&&"CompositionEvent"in window,co=null;c&&"documentMode"in document&&(co=document.documentMode);var RE=c&&"TextEvent"in window&&!co,ey=c&&(!_h||co&&8<co&&11>=co),ty=" ",ny=!1;function iy(r,l){switch(r){case"keyup":return ME.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sy(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Gs=!1;function AE(r,l){switch(r){case"compositionend":return sy(l);case"keypress":return l.which!==32?null:(ny=!0,ty);case"textInput":return r=l.data,r===ty&&ny?null:r;default:return null}}function DE(r,l){if(Gs)return r==="compositionend"||!_h&&iy(r,l)?(r=qg(),ul=dh=vi=null,Gs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ey&&l.locale!=="ko"?null:l.data;default:return null}}var LE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ry(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!LE[r.type]:l==="textarea"}function oy(r,l,h,f){kg(f),l=_l(l,"onChange"),0<l.length&&(h=new fh("onChange","change",null,h,f),r.push({event:h,listeners:l}))}var uo=null,ho=null;function NE(r){by(r,0)}function pl(r){var l=Js(r);if(pg(l))return r}function OE(r,l){if(r==="change")return l}var ay=!1;if(c){var vh;if(c){var xh="oninput"in document;if(!xh){var ly=document.createElement("div");ly.setAttribute("oninput","return;"),xh=typeof ly.oninput=="function"}vh=xh}else vh=!1;ay=vh&&(!document.documentMode||9<document.documentMode)}function cy(){uo&&(uo.detachEvent("onpropertychange",uy),ho=uo=null)}function uy(r){if(r.propertyName==="value"&&pl(ho)){var l=[];oy(l,ho,r,Zu(r)),Mg(NE,l)}}function FE(r,l,h){r==="focusin"?(cy(),uo=l,ho=h,uo.attachEvent("onpropertychange",uy)):r==="focusout"&&cy()}function VE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return pl(ho)}function zE(r,l){if(r==="click")return pl(l)}function BE(r,l){if(r==="input"||r==="change")return pl(l)}function UE(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var mn=typeof Object.is=="function"?Object.is:UE;function fo(r,l){if(mn(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var h=Object.keys(r),f=Object.keys(l);if(h.length!==f.length)return!1;for(f=0;f<h.length;f++){var g=h[f];if(!u.call(l,g)||!mn(r[g],l[g]))return!1}return!0}function hy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function dy(r,l){var h=hy(r);r=0;for(var f;h;){if(h.nodeType===3){if(f=r+h.textContent.length,r<=l&&f>=l)return{node:h,offset:l-r};r=f}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=hy(h)}}function fy(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?fy(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function py(){for(var r=window,l=Qa();l instanceof r.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)r=l.contentWindow;else break;l=Qa(r.document)}return l}function wh(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}function jE(r){var l=py(),h=r.focusedElem,f=r.selectionRange;if(l!==h&&h&&h.ownerDocument&&fy(h.ownerDocument.documentElement,h)){if(f!==null&&wh(h)){if(l=f.start,r=f.end,r===void 0&&(r=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(r,h.value.length);else if(r=(l=h.ownerDocument||document)&&l.defaultView||window,r.getSelection){r=r.getSelection();var g=h.textContent.length,_=Math.min(f.start,g);f=f.end===void 0?_:Math.min(f.end,g),!r.extend&&_>f&&(g=f,f=_,_=g),g=dy(h,_);var w=dy(h,f);g&&w&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(l=l.createRange(),l.setStart(g.node,g.offset),r.removeAllRanges(),_>f?(r.addRange(l),r.extend(w.node,w.offset)):(l.setEnd(w.node,w.offset),r.addRange(l)))}}for(l=[],r=h;r=r.parentNode;)r.nodeType===1&&l.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)r=l[h],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var WE=c&&"documentMode"in document&&11>=document.documentMode,Ys=null,Sh=null,po=null,Ch=!1;function my(r,l,h){var f=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ch||Ys==null||Ys!==Qa(f)||(f=Ys,"selectionStart"in f&&wh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),po&&fo(po,f)||(po=f,f=_l(Sh,"onSelect"),0<f.length&&(l=new fh("onSelect","select",null,l,h),r.push({event:l,listeners:f}),l.target=Ys)))}function ml(r,l){var h={};return h[r.toLowerCase()]=l.toLowerCase(),h["Webkit"+r]="webkit"+l,h["Moz"+r]="moz"+l,h}var qs={animationend:ml("Animation","AnimationEnd"),animationiteration:ml("Animation","AnimationIteration"),animationstart:ml("Animation","AnimationStart"),transitionend:ml("Transition","TransitionEnd")},bh={},gy={};c&&(gy=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function gl(r){if(bh[r])return bh[r];if(!qs[r])return r;var l=qs[r],h;for(h in l)if(l.hasOwnProperty(h)&&h in gy)return bh[r]=l[h];return r}var yy=gl("animationend"),_y=gl("animationiteration"),vy=gl("animationstart"),xy=gl("transitionend"),wy=new Map,Sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(r,l){wy.set(r,l),o(l,[r])}for(var Th=0;Th<Sy.length;Th++){var kh=Sy[Th],HE=kh.toLowerCase(),$E=kh[0].toUpperCase()+kh.slice(1);xi(HE,"on"+$E)}xi(yy,"onAnimationEnd"),xi(_y,"onAnimationIteration"),xi(vy,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(xy,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KE=new Set("cancel close invalid load scroll toggle".split(" ").concat(mo));function Cy(r,l,h){var f=r.type||"unknown-event";r.currentTarget=h,Hk(f,l,void 0,r),r.currentTarget=null}function by(r,l){l=(l&4)!==0;for(var h=0;h<r.length;h++){var f=r[h],g=f.event;f=f.listeners;e:{var _=void 0;if(l)for(var w=f.length-1;0<=w;w--){var T=f[w],E=T.instance,N=T.currentTarget;if(T=T.listener,E!==_&&g.isPropagationStopped())break e;Cy(g,T,N),_=E}else for(w=0;w<f.length;w++){if(T=f[w],E=T.instance,N=T.currentTarget,T=T.listener,E!==_&&g.isPropagationStopped())break e;Cy(g,T,N),_=E}}}if(el)throw r=ih,el=!1,ih=null,r}function ze(r,l){var h=l[Lh];h===void 0&&(h=l[Lh]=new Set);var f=r+"__bubble";h.has(f)||(Ty(l,r,2,!1),h.add(f))}function Eh(r,l,h){var f=0;l&&(f|=4),Ty(h,r,f,l)}var yl="_reactListening"+Math.random().toString(36).slice(2);function go(r){if(!r[yl]){r[yl]=!0,i.forEach(function(h){h!=="selectionchange"&&(KE.has(h)||Eh(h,!1,r),Eh(h,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[yl]||(l[yl]=!0,Eh("selectionchange",!1,l))}}function Ty(r,l,h,f){switch(Yg(l)){case 1:var g=oE;break;case 4:g=aE;break;default:g=uh}h=g.bind(null,l,h,r),g=void 0,!nh||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(l,h,{capture:!0,passive:g}):r.addEventListener(l,h,!0):g!==void 0?r.addEventListener(l,h,{passive:g}):r.addEventListener(l,h,!1)}function Ph(r,l,h,f,g){var _=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var T=f.stateNode.containerInfo;if(T===g||T.nodeType===8&&T.parentNode===g)break;if(w===4)for(w=f.return;w!==null;){var E=w.tag;if((E===3||E===4)&&(E=w.stateNode.containerInfo,E===g||E.nodeType===8&&E.parentNode===g))return;w=w.return}for(;T!==null;){if(w=ts(T),w===null)return;if(E=w.tag,E===5||E===6){f=_=w;continue e}T=T.parentNode}}f=f.return}Mg(function(){var N=_,U=Zu(h),W=[];e:{var B=wy.get(r);if(B!==void 0){var X=fh,Z=r;switch(r){case"keypress":if(hl(h)===0)break e;case"keydown":case"keyup":X=SE;break;case"focusin":Z="focus",X=gh;break;case"focusout":Z="blur",X=gh;break;case"beforeblur":case"afterblur":X=gh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=uE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=TE;break;case yy:case _y:case vy:X=fE;break;case xy:X=EE;break;case"scroll":X=lE;break;case"wheel":X=IE;break;case"copy":case"cut":case"paste":X=mE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Zg}var te=(l&4)!==0,nt=!te&&r==="scroll",A=te?B!==null?B+"Capture":null:B;te=[];for(var P=N,L;P!==null;){L=P;var H=L.stateNode;if(L.tag===5&&H!==null&&(L=H,A!==null&&(H=Qr(P,A),H!=null&&te.push(yo(P,H,L)))),nt)break;P=P.return}0<te.length&&(B=new X(B,Z,null,h,U),W.push({event:B,listeners:te}))}}if((l&7)===0){e:{if(B=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",B&&h!==Ju&&(Z=h.relatedTarget||h.fromElement)&&(ts(Z)||Z[jn]))break e;if((X||B)&&(B=U.window===U?U:(B=U.ownerDocument)?B.defaultView||B.parentWindow:window,X?(Z=h.relatedTarget||h.toElement,X=N,Z=Z?ts(Z):null,Z!==null&&(nt=es(Z),Z!==nt||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(X=null,Z=N),X!==Z)){if(te=Qg,H="onMouseLeave",A="onMouseEnter",P="mouse",(r==="pointerout"||r==="pointerover")&&(te=Zg,H="onPointerLeave",A="onPointerEnter",P="pointer"),nt=X==null?B:Js(X),L=Z==null?B:Js(Z),B=new te(H,P+"leave",X,h,U),B.target=nt,B.relatedTarget=L,H=null,ts(U)===N&&(te=new te(A,P+"enter",Z,h,U),te.target=L,te.relatedTarget=nt,H=te),nt=H,X&&Z)t:{for(te=X,A=Z,P=0,L=te;L;L=Xs(L))P++;for(L=0,H=A;H;H=Xs(H))L++;for(;0<P-L;)te=Xs(te),P--;for(;0<L-P;)A=Xs(A),L--;for(;P--;){if(te===A||A!==null&&te===A.alternate)break t;te=Xs(te),A=Xs(A)}te=null}else te=null;X!==null&&ky(W,B,X,te,!1),Z!==null&&nt!==null&&ky(W,nt,Z,te,!0)}}e:{if(B=N?Js(N):window,X=B.nodeName&&B.nodeName.toLowerCase(),X==="select"||X==="input"&&B.type==="file")var ne=OE;else if(ry(B))if(ay)ne=BE;else{ne=VE;var re=FE}else(X=B.nodeName)&&X.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(ne=zE);if(ne&&(ne=ne(r,N))){oy(W,ne,h,U);break e}re&&re(r,B,N),r==="focusout"&&(re=B._wrapperState)&&re.controlled&&B.type==="number"&&Gu(B,"number",B.value)}switch(re=N?Js(N):window,r){case"focusin":(ry(re)||re.contentEditable==="true")&&(Ys=re,Sh=N,po=null);break;case"focusout":po=Sh=Ys=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,my(W,h,U);break;case"selectionchange":if(WE)break;case"keydown":case"keyup":my(W,h,U)}var oe;if(_h)e:{switch(r){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Gs?iy(r,h)&&(ue="onCompositionEnd"):r==="keydown"&&h.keyCode===229&&(ue="onCompositionStart");ue&&(ey&&h.locale!=="ko"&&(Gs||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Gs&&(oe=qg()):(vi=U,dh="value"in vi?vi.value:vi.textContent,Gs=!0)),re=_l(N,ue),0<re.length&&(ue=new Jg(ue,r,null,h,U),W.push({event:ue,listeners:re}),oe?ue.data=oe:(oe=sy(h),oe!==null&&(ue.data=oe)))),(oe=RE?AE(r,h):DE(r,h))&&(N=_l(N,"onBeforeInput"),0<N.length&&(U=new Jg("onBeforeInput","beforeinput",null,h,U),W.push({event:U,listeners:N}),U.data=oe))}by(W,l)})}function yo(r,l,h){return{instance:r,listener:l,currentTarget:h}}function _l(r,l){for(var h=l+"Capture",f=[];r!==null;){var g=r,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=Qr(r,h),_!=null&&f.unshift(yo(r,_,g)),_=Qr(r,l),_!=null&&f.push(yo(r,_,g))),r=r.return}return f}function Xs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ky(r,l,h,f,g){for(var _=l._reactName,w=[];h!==null&&h!==f;){var T=h,E=T.alternate,N=T.stateNode;if(E!==null&&E===f)break;T.tag===5&&N!==null&&(T=N,g?(E=Qr(h,_),E!=null&&w.unshift(yo(h,E,T))):g||(E=Qr(h,_),E!=null&&w.push(yo(h,E,T)))),h=h.return}w.length!==0&&r.push({event:l,listeners:w})}var GE=/\r\n?/g,YE=/\u0000|\uFFFD/g;function Ey(r){return(typeof r=="string"?r:""+r).replace(GE,`
`).replace(YE,"")}function vl(r,l,h){if(l=Ey(l),Ey(r)!==l&&h)throw Error(t(425))}function xl(){}var Ih=null,Mh=null;function Rh(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ah=typeof setTimeout=="function"?setTimeout:void 0,qE=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,XE=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(r){return Py.resolve(null).then(r).catch(QE)}:Ah;function QE(r){setTimeout(function(){throw r})}function Dh(r,l){var h=l,f=0;do{var g=h.nextSibling;if(r.removeChild(h),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(f===0){r.removeChild(g),oo(l);return}f--}else h!=="$"&&h!=="$?"&&h!=="$!"||f++;h=g}while(h);oo(l)}function wi(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return r}function Iy(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var h=r.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return r;l--}else h==="/$"&&l++}r=r.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),Rn="__reactFiber$"+Qs,_o="__reactProps$"+Qs,jn="__reactContainer$"+Qs,Lh="__reactEvents$"+Qs,JE="__reactListeners$"+Qs,ZE="__reactHandles$"+Qs;function ts(r){var l=r[Rn];if(l)return l;for(var h=r.parentNode;h;){if(l=h[jn]||h[Rn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(r=Iy(r);r!==null;){if(h=r[Rn])return h;r=Iy(r)}return l}r=h,h=r.parentNode}return null}function vo(r){return r=r[Rn]||r[jn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Js(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function wl(r){return r[_o]||null}var Nh=[],Zs=-1;function Si(r){return{current:r}}function Be(r){0>Zs||(r.current=Nh[Zs],Nh[Zs]=null,Zs--)}function Oe(r,l){Zs++,Nh[Zs]=r.current,r.current=l}var Ci={},wt=Si(Ci),Nt=Si(!1),ns=Ci;function er(r,l){var h=r.type.contextTypes;if(!h)return Ci;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===l)return f.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in h)g[_]=l[_];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=l,r.__reactInternalMemoizedMaskedChildContext=g),g}function Ot(r){return r=r.childContextTypes,r!=null}function Sl(){Be(Nt),Be(wt)}function My(r,l,h){if(wt.current!==Ci)throw Error(t(168));Oe(wt,l),Oe(Nt,h)}function Ry(r,l,h){var f=r.stateNode;if(l=l.childContextTypes,typeof f.getChildContext!="function")return h;f=f.getChildContext();for(var g in f)if(!(g in l))throw Error(t(108,Ne(r)||"Unknown",g));return Y({},h,f)}function Cl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ci,ns=wt.current,Oe(wt,r),Oe(Nt,Nt.current),!0}function Ay(r,l,h){var f=r.stateNode;if(!f)throw Error(t(169));h?(r=Ry(r,l,ns),f.__reactInternalMemoizedMergedChildContext=r,Be(Nt),Be(wt),Oe(wt,r)):Be(Nt),Oe(Nt,h)}var Wn=null,bl=!1,Oh=!1;function Dy(r){Wn===null?Wn=[r]:Wn.push(r)}function eP(r){bl=!0,Dy(r)}function bi(){if(!Oh&&Wn!==null){Oh=!0;var r=0,l=Re;try{var h=Wn;for(Re=1;r<h.length;r++){var f=h[r];do f=f(!0);while(f!==null)}Wn=null,bl=!1}catch(g){throw Wn!==null&&(Wn=Wn.slice(r+1)),Ng(sh,bi),g}finally{Re=l,Oh=!1}}return null}var tr=[],nr=0,Tl=null,kl=0,tn=[],nn=0,is=null,Hn=1,$n="";function ss(r,l){tr[nr++]=kl,tr[nr++]=Tl,Tl=r,kl=l}function Ly(r,l,h){tn[nn++]=Hn,tn[nn++]=$n,tn[nn++]=is,is=r;var f=Hn;r=$n;var g=32-pn(f)-1;f&=~(1<<g),h+=1;var _=32-pn(l)+g;if(30<_){var w=g-g%5;_=(f&(1<<w)-1).toString(32),f>>=w,g-=w,Hn=1<<32-pn(l)+g|h<<g|f,$n=_+r}else Hn=1<<_|h<<g|f,$n=r}function Fh(r){r.return!==null&&(ss(r,1),Ly(r,1,0))}function Vh(r){for(;r===Tl;)Tl=tr[--nr],tr[nr]=null,kl=tr[--nr],tr[nr]=null;for(;r===is;)is=tn[--nn],tn[nn]=null,$n=tn[--nn],tn[nn]=null,Hn=tn[--nn],tn[nn]=null}var qt=null,Xt=null,$e=!1,gn=null;function Ny(r,l){var h=an(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=r,l=r.deletions,l===null?(r.deletions=[h],r.flags|=16):l.push(h)}function Oy(r,l){switch(r.tag){case 5:var h=r.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(r.stateNode=l,qt=r,Xt=wi(l.firstChild),!0):!1;case 6:return l=r.pendingProps===""||l.nodeType!==3?null:l,l!==null?(r.stateNode=l,qt=r,Xt=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=is!==null?{id:Hn,overflow:$n}:null,r.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=an(18,null,null,0),h.stateNode=l,h.return=r,r.child=h,qt=r,Xt=null,!0):!1;default:return!1}}function zh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Bh(r){if($e){var l=Xt;if(l){var h=l;if(!Oy(r,l)){if(zh(r))throw Error(t(418));l=wi(h.nextSibling);var f=qt;l&&Oy(r,l)?Ny(f,h):(r.flags=r.flags&-4097|2,$e=!1,qt=r)}}else{if(zh(r))throw Error(t(418));r.flags=r.flags&-4097|2,$e=!1,qt=r}}}function Fy(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;qt=r}function El(r){if(r!==qt)return!1;if(!$e)return Fy(r),$e=!0,!1;var l;if((l=r.tag!==3)&&!(l=r.tag!==5)&&(l=r.type,l=l!=="head"&&l!=="body"&&!Rh(r.type,r.memoizedProps)),l&&(l=Xt)){if(zh(r))throw Vy(),Error(t(418));for(;l;)Ny(r,l),l=wi(l.nextSibling)}if(Fy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,l=0;r;){if(r.nodeType===8){var h=r.data;if(h==="/$"){if(l===0){Xt=wi(r.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}r=r.nextSibling}Xt=null}}else Xt=qt?wi(r.stateNode.nextSibling):null;return!0}function Vy(){for(var r=Xt;r;)r=wi(r.nextSibling)}function ir(){Xt=qt=null,$e=!1}function Uh(r){gn===null?gn=[r]:gn.push(r)}var tP=D.ReactCurrentBatchConfig;function xo(r,l,h){if(r=h.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var f=h.stateNode}if(!f)throw Error(t(147,r));var g=f,_=""+r;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(w){var T=g.refs;w===null?delete T[_]:T[_]=w},l._stringRef=_,l)}if(typeof r!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,r))}return r}function Pl(r,l){throw r=Object.prototype.toString.call(l),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r))}function zy(r){var l=r._init;return l(r._payload)}function By(r){function l(A,P){if(r){var L=A.deletions;L===null?(A.deletions=[P],A.flags|=16):L.push(P)}}function h(A,P){if(!r)return null;for(;P!==null;)l(A,P),P=P.sibling;return null}function f(A,P){for(A=new Map;P!==null;)P.key!==null?A.set(P.key,P):A.set(P.index,P),P=P.sibling;return A}function g(A,P){return A=Ai(A,P),A.index=0,A.sibling=null,A}function _(A,P,L){return A.index=L,r?(L=A.alternate,L!==null?(L=L.index,L<P?(A.flags|=2,P):L):(A.flags|=2,P)):(A.flags|=1048576,P)}function w(A){return r&&A.alternate===null&&(A.flags|=2),A}function T(A,P,L,H){return P===null||P.tag!==6?(P=Ad(L,A.mode,H),P.return=A,P):(P=g(P,L),P.return=A,P)}function E(A,P,L,H){var ne=L.type;return ne===V?U(A,P,L.props.children,H,L.key):P!==null&&(P.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ge&&zy(ne)===P.type)?(H=g(P,L.props),H.ref=xo(A,P,L),H.return=A,H):(H=Jl(L.type,L.key,L.props,null,A.mode,H),H.ref=xo(A,P,L),H.return=A,H)}function N(A,P,L,H){return P===null||P.tag!==4||P.stateNode.containerInfo!==L.containerInfo||P.stateNode.implementation!==L.implementation?(P=Dd(L,A.mode,H),P.return=A,P):(P=g(P,L.children||[]),P.return=A,P)}function U(A,P,L,H,ne){return P===null||P.tag!==7?(P=ds(L,A.mode,H,ne),P.return=A,P):(P=g(P,L),P.return=A,P)}function W(A,P,L){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Ad(""+P,A.mode,L),P.return=A,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case M:return L=Jl(P.type,P.key,P.props,null,A.mode,L),L.ref=xo(A,null,P),L.return=A,L;case O:return P=Dd(P,A.mode,L),P.return=A,P;case ge:var H=P._init;return W(A,H(P._payload),L)}if(Yr(P)||q(P))return P=ds(P,A.mode,L,null),P.return=A,P;Pl(A,P)}return null}function B(A,P,L,H){var ne=P!==null?P.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ne!==null?null:T(A,P,""+L,H);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return L.key===ne?E(A,P,L,H):null;case O:return L.key===ne?N(A,P,L,H):null;case ge:return ne=L._init,B(A,P,ne(L._payload),H)}if(Yr(L)||q(L))return ne!==null?null:U(A,P,L,H,null);Pl(A,L)}return null}function X(A,P,L,H,ne){if(typeof H=="string"&&H!==""||typeof H=="number")return A=A.get(L)||null,T(P,A,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return A=A.get(H.key===null?L:H.key)||null,E(P,A,H,ne);case O:return A=A.get(H.key===null?L:H.key)||null,N(P,A,H,ne);case ge:var re=H._init;return X(A,P,L,re(H._payload),ne)}if(Yr(H)||q(H))return A=A.get(L)||null,U(P,A,H,ne,null);Pl(P,H)}return null}function Z(A,P,L,H){for(var ne=null,re=null,oe=P,ue=P=0,ft=null;oe!==null&&ue<L.length;ue++){oe.index>ue?(ft=oe,oe=null):ft=oe.sibling;var Ee=B(A,oe,L[ue],H);if(Ee===null){oe===null&&(oe=ft);break}r&&oe&&Ee.alternate===null&&l(A,oe),P=_(Ee,P,ue),re===null?ne=Ee:re.sibling=Ee,re=Ee,oe=ft}if(ue===L.length)return h(A,oe),$e&&ss(A,ue),ne;if(oe===null){for(;ue<L.length;ue++)oe=W(A,L[ue],H),oe!==null&&(P=_(oe,P,ue),re===null?ne=oe:re.sibling=oe,re=oe);return $e&&ss(A,ue),ne}for(oe=f(A,oe);ue<L.length;ue++)ft=X(oe,A,ue,L[ue],H),ft!==null&&(r&&ft.alternate!==null&&oe.delete(ft.key===null?ue:ft.key),P=_(ft,P,ue),re===null?ne=ft:re.sibling=ft,re=ft);return r&&oe.forEach(function(Di){return l(A,Di)}),$e&&ss(A,ue),ne}function te(A,P,L,H){var ne=q(L);if(typeof ne!="function")throw Error(t(150));if(L=ne.call(L),L==null)throw Error(t(151));for(var re=ne=null,oe=P,ue=P=0,ft=null,Ee=L.next();oe!==null&&!Ee.done;ue++,Ee=L.next()){oe.index>ue?(ft=oe,oe=null):ft=oe.sibling;var Di=B(A,oe,Ee.value,H);if(Di===null){oe===null&&(oe=ft);break}r&&oe&&Di.alternate===null&&l(A,oe),P=_(Di,P,ue),re===null?ne=Di:re.sibling=Di,re=Di,oe=ft}if(Ee.done)return h(A,oe),$e&&ss(A,ue),ne;if(oe===null){for(;!Ee.done;ue++,Ee=L.next())Ee=W(A,Ee.value,H),Ee!==null&&(P=_(Ee,P,ue),re===null?ne=Ee:re.sibling=Ee,re=Ee);return $e&&ss(A,ue),ne}for(oe=f(A,oe);!Ee.done;ue++,Ee=L.next())Ee=X(oe,A,ue,Ee.value,H),Ee!==null&&(r&&Ee.alternate!==null&&oe.delete(Ee.key===null?ue:Ee.key),P=_(Ee,P,ue),re===null?ne=Ee:re.sibling=Ee,re=Ee);return r&&oe.forEach(function(LP){return l(A,LP)}),$e&&ss(A,ue),ne}function nt(A,P,L,H){if(typeof L=="object"&&L!==null&&L.type===V&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case M:e:{for(var ne=L.key,re=P;re!==null;){if(re.key===ne){if(ne=L.type,ne===V){if(re.tag===7){h(A,re.sibling),P=g(re,L.props.children),P.return=A,A=P;break e}}else if(re.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ge&&zy(ne)===re.type){h(A,re.sibling),P=g(re,L.props),P.ref=xo(A,re,L),P.return=A,A=P;break e}h(A,re);break}else l(A,re);re=re.sibling}L.type===V?(P=ds(L.props.children,A.mode,H,L.key),P.return=A,A=P):(H=Jl(L.type,L.key,L.props,null,A.mode,H),H.ref=xo(A,P,L),H.return=A,A=H)}return w(A);case O:e:{for(re=L.key;P!==null;){if(P.key===re)if(P.tag===4&&P.stateNode.containerInfo===L.containerInfo&&P.stateNode.implementation===L.implementation){h(A,P.sibling),P=g(P,L.children||[]),P.return=A,A=P;break e}else{h(A,P);break}else l(A,P);P=P.sibling}P=Dd(L,A.mode,H),P.return=A,A=P}return w(A);case ge:return re=L._init,nt(A,P,re(L._payload),H)}if(Yr(L))return Z(A,P,L,H);if(q(L))return te(A,P,L,H);Pl(A,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,P!==null&&P.tag===6?(h(A,P.sibling),P=g(P,L),P.return=A,A=P):(h(A,P),P=Ad(L,A.mode,H),P.return=A,A=P),w(A)):h(A,P)}return nt}var sr=By(!0),Uy=By(!1),Il=Si(null),Ml=null,rr=null,jh=null;function Wh(){jh=rr=Ml=null}function Hh(r){var l=Il.current;Be(Il),r._currentValue=l}function $h(r,l,h){for(;r!==null;){var f=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),r===h)break;r=r.return}}function or(r,l){Ml=r,jh=rr=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&l)!==0&&(Ft=!0),r.firstContext=null)}function sn(r){var l=r._currentValue;if(jh!==r)if(r={context:r,memoizedValue:l,next:null},rr===null){if(Ml===null)throw Error(t(308));rr=r,Ml.dependencies={lanes:0,firstContext:r}}else rr=rr.next=r;return l}var rs=null;function Kh(r){rs===null?rs=[r]:rs.push(r)}function jy(r,l,h,f){var g=l.interleaved;return g===null?(h.next=h,Kh(l)):(h.next=g.next,g.next=h),l.interleaved=h,Kn(r,f)}function Kn(r,l){r.lanes|=l;var h=r.alternate;for(h!==null&&(h.lanes|=l),h=r,r=r.return;r!==null;)r.childLanes|=l,h=r.alternate,h!==null&&(h.childLanes|=l),h=r,r=r.return;return h.tag===3?h.stateNode:null}var Ti=!1;function Gh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wy(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Gn(r,l){return{eventTime:r,lane:l,tag:0,payload:null,callback:null,next:null}}function ki(r,l,h){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(ke&2)!==0){var g=f.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),f.pending=l,Kn(r,h)}return g=f.interleaved,g===null?(l.next=l,Kh(f)):(l.next=g.next,g.next=l),f.interleaved=l,Kn(r,h)}function Rl(r,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var f=l.lanes;f&=r.pendingLanes,h|=f,l.lanes=h,ah(r,h)}}function Hy(r,l){var h=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,h===f)){var g=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var w={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};_===null?g=_=w:_=_.next=w,h=h.next}while(h!==null);_===null?g=_=l:_=_.next=l}else g=_=l;h={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,effects:f.effects},r.updateQueue=h;return}r=h.lastBaseUpdate,r===null?h.firstBaseUpdate=l:r.next=l,h.lastBaseUpdate=l}function Al(r,l,h,f){var g=r.updateQueue;Ti=!1;var _=g.firstBaseUpdate,w=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var E=T,N=E.next;E.next=null,w===null?_=N:w.next=N,w=E;var U=r.alternate;U!==null&&(U=U.updateQueue,T=U.lastBaseUpdate,T!==w&&(T===null?U.firstBaseUpdate=N:T.next=N,U.lastBaseUpdate=E))}if(_!==null){var W=g.baseState;w=0,U=N=E=null,T=_;do{var B=T.lane,X=T.eventTime;if((f&B)===B){U!==null&&(U=U.next={eventTime:X,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var Z=r,te=T;switch(B=l,X=h,te.tag){case 1:if(Z=te.payload,typeof Z=="function"){W=Z.call(X,W,B);break e}W=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=te.payload,B=typeof Z=="function"?Z.call(X,W,B):Z,B==null)break e;W=Y({},W,B);break e;case 2:Ti=!0}}T.callback!==null&&T.lane!==0&&(r.flags|=64,B=g.effects,B===null?g.effects=[T]:B.push(T))}else X={eventTime:X,lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},U===null?(N=U=X,E=W):U=U.next=X,w|=B;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;B=T,T=B.next,B.next=null,g.lastBaseUpdate=B,g.shared.pending=null}}while(!0);if(U===null&&(E=W),g.baseState=E,g.firstBaseUpdate=N,g.lastBaseUpdate=U,l=g.shared.interleaved,l!==null){g=l;do w|=g.lane,g=g.next;while(g!==l)}else _===null&&(g.shared.lanes=0);ls|=w,r.lanes=w,r.memoizedState=W}}function $y(r,l,h){if(r=l.effects,l.effects=null,r!==null)for(l=0;l<r.length;l++){var f=r[l],g=f.callback;if(g!==null){if(f.callback=null,f=h,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var wo={},An=Si(wo),So=Si(wo),Co=Si(wo);function os(r){if(r===wo)throw Error(t(174));return r}function Yh(r,l){switch(Oe(Co,l),Oe(So,r),Oe(An,wo),r=l.nodeType,r){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:qu(null,"");break;default:r=r===8?l.parentNode:l,l=r.namespaceURI||null,r=r.tagName,l=qu(l,r)}Be(An),Oe(An,l)}function ar(){Be(An),Be(So),Be(Co)}function Ky(r){os(Co.current);var l=os(An.current),h=qu(l,r.type);l!==h&&(Oe(So,r),Oe(An,h))}function qh(r){So.current===r&&(Be(An),Be(So))}var Ye=Si(0);function Dl(r){for(var l=r;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Xh=[];function Qh(){for(var r=0;r<Xh.length;r++)Xh[r]._workInProgressVersionPrimary=null;Xh.length=0}var Ll=D.ReactCurrentDispatcher,Jh=D.ReactCurrentBatchConfig,as=0,qe=null,at=null,ht=null,Nl=!1,bo=!1,To=0,nP=0;function St(){throw Error(t(321))}function Zh(r,l){if(l===null)return!1;for(var h=0;h<l.length&&h<r.length;h++)if(!mn(r[h],l[h]))return!1;return!0}function ed(r,l,h,f,g,_){if(as=_,qe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Ll.current=r===null||r.memoizedState===null?oP:aP,r=h(f,g),bo){_=0;do{if(bo=!1,To=0,25<=_)throw Error(t(301));_+=1,ht=at=null,l.updateQueue=null,Ll.current=lP,r=h(f,g)}while(bo)}if(Ll.current=Vl,l=at!==null&&at.next!==null,as=0,ht=at=qe=null,Nl=!1,l)throw Error(t(300));return r}function td(){var r=To!==0;return To=0,r}function Dn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?qe.memoizedState=ht=r:ht=ht.next=r,ht}function rn(){if(at===null){var r=qe.alternate;r=r!==null?r.memoizedState:null}else r=at.next;var l=ht===null?qe.memoizedState:ht.next;if(l!==null)ht=l,at=r;else{if(r===null)throw Error(t(310));at=r,r={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ht===null?qe.memoizedState=ht=r:ht=ht.next=r}return ht}function ko(r,l){return typeof l=="function"?l(r):l}function nd(r){var l=rn(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=r;var f=at,g=f.baseQueue,_=h.pending;if(_!==null){if(g!==null){var w=g.next;g.next=_.next,_.next=w}f.baseQueue=g=_,h.pending=null}if(g!==null){_=g.next,f=f.baseState;var T=w=null,E=null,N=_;do{var U=N.lane;if((as&U)===U)E!==null&&(E=E.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),f=N.hasEagerState?N.eagerState:r(f,N.action);else{var W={lane:U,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};E===null?(T=E=W,w=f):E=E.next=W,qe.lanes|=U,ls|=U}N=N.next}while(N!==null&&N!==_);E===null?w=f:E.next=T,mn(f,l.memoizedState)||(Ft=!0),l.memoizedState=f,l.baseState=w,l.baseQueue=E,h.lastRenderedState=f}if(r=h.interleaved,r!==null){g=r;do _=g.lane,qe.lanes|=_,ls|=_,g=g.next;while(g!==r)}else g===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function id(r){var l=rn(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=r;var f=h.dispatch,g=h.pending,_=l.memoizedState;if(g!==null){h.pending=null;var w=g=g.next;do _=r(_,w.action),w=w.next;while(w!==g);mn(_,l.memoizedState)||(Ft=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),h.lastRenderedState=_}return[_,f]}function Gy(){}function Yy(r,l){var h=qe,f=rn(),g=l(),_=!mn(f.memoizedState,g);if(_&&(f.memoizedState=g,Ft=!0),f=f.queue,sd(Qy.bind(null,h,f,r),[r]),f.getSnapshot!==l||_||ht!==null&&ht.memoizedState.tag&1){if(h.flags|=2048,Eo(9,Xy.bind(null,h,f,g,l),void 0,null),dt===null)throw Error(t(349));(as&30)!==0||qy(h,l,g)}return g}function qy(r,l,h){r.flags|=16384,r={getSnapshot:l,value:h},l=qe.updateQueue,l===null?(l={lastEffect:null,stores:null},qe.updateQueue=l,l.stores=[r]):(h=l.stores,h===null?l.stores=[r]:h.push(r))}function Xy(r,l,h,f){l.value=h,l.getSnapshot=f,Jy(l)&&Zy(r)}function Qy(r,l,h){return h(function(){Jy(l)&&Zy(r)})}function Jy(r){var l=r.getSnapshot;r=r.value;try{var h=l();return!mn(r,h)}catch{return!0}}function Zy(r){var l=Kn(r,1);l!==null&&xn(l,r,1,-1)}function e_(r){var l=Dn();return typeof r=="function"&&(r=r()),l.memoizedState=l.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:r},l.queue=r,r=r.dispatch=rP.bind(null,qe,r),[l.memoizedState,r]}function Eo(r,l,h,f){return r={tag:r,create:l,destroy:h,deps:f,next:null},l=qe.updateQueue,l===null?(l={lastEffect:null,stores:null},qe.updateQueue=l,l.lastEffect=r.next=r):(h=l.lastEffect,h===null?l.lastEffect=r.next=r:(f=h.next,h.next=r,r.next=f,l.lastEffect=r)),r}function t_(){return rn().memoizedState}function Ol(r,l,h,f){var g=Dn();qe.flags|=r,g.memoizedState=Eo(1|l,h,void 0,f===void 0?null:f)}function Fl(r,l,h,f){var g=rn();f=f===void 0?null:f;var _=void 0;if(at!==null){var w=at.memoizedState;if(_=w.destroy,f!==null&&Zh(f,w.deps)){g.memoizedState=Eo(l,h,_,f);return}}qe.flags|=r,g.memoizedState=Eo(1|l,h,_,f)}function n_(r,l){return Ol(8390656,8,r,l)}function sd(r,l){return Fl(2048,8,r,l)}function i_(r,l){return Fl(4,2,r,l)}function s_(r,l){return Fl(4,4,r,l)}function r_(r,l){if(typeof l=="function")return r=r(),l(r),function(){l(null)};if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function o_(r,l,h){return h=h!=null?h.concat([r]):null,Fl(4,4,r_.bind(null,l,r),h)}function rd(){}function a_(r,l){var h=rn();l=l===void 0?null:l;var f=h.memoizedState;return f!==null&&l!==null&&Zh(l,f[1])?f[0]:(h.memoizedState=[r,l],r)}function l_(r,l){var h=rn();l=l===void 0?null:l;var f=h.memoizedState;return f!==null&&l!==null&&Zh(l,f[1])?f[0]:(r=r(),h.memoizedState=[r,l],r)}function c_(r,l,h){return(as&21)===0?(r.baseState&&(r.baseState=!1,Ft=!0),r.memoizedState=h):(mn(h,l)||(h=zg(),qe.lanes|=h,ls|=h,r.baseState=!0),l)}function iP(r,l){var h=Re;Re=h!==0&&4>h?h:4,r(!0);var f=Jh.transition;Jh.transition={};try{r(!1),l()}finally{Re=h,Jh.transition=f}}function u_(){return rn().memoizedState}function sP(r,l,h){var f=Mi(r);if(h={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null},h_(r))d_(l,h);else if(h=jy(r,l,h,f),h!==null){var g=Dt();xn(h,r,f,g),f_(h,l,f)}}function rP(r,l,h){var f=Mi(r),g={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null};if(h_(r))d_(l,g);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var w=l.lastRenderedState,T=_(w,h);if(g.hasEagerState=!0,g.eagerState=T,mn(T,w)){var E=l.interleaved;E===null?(g.next=g,Kh(l)):(g.next=E.next,E.next=g),l.interleaved=g;return}}catch{}finally{}h=jy(r,l,g,f),h!==null&&(g=Dt(),xn(h,r,f,g),f_(h,l,f))}}function h_(r){var l=r.alternate;return r===qe||l!==null&&l===qe}function d_(r,l){bo=Nl=!0;var h=r.pending;h===null?l.next=l:(l.next=h.next,h.next=l),r.pending=l}function f_(r,l,h){if((h&4194240)!==0){var f=l.lanes;f&=r.pendingLanes,h|=f,l.lanes=h,ah(r,h)}}var Vl={readContext:sn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},oP={readContext:sn,useCallback:function(r,l){return Dn().memoizedState=[r,l===void 0?null:l],r},useContext:sn,useEffect:n_,useImperativeHandle:function(r,l,h){return h=h!=null?h.concat([r]):null,Ol(4194308,4,r_.bind(null,l,r),h)},useLayoutEffect:function(r,l){return Ol(4194308,4,r,l)},useInsertionEffect:function(r,l){return Ol(4,2,r,l)},useMemo:function(r,l){var h=Dn();return l=l===void 0?null:l,r=r(),h.memoizedState=[r,l],r},useReducer:function(r,l,h){var f=Dn();return l=h!==void 0?h(l):l,f.memoizedState=f.baseState=l,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:l},f.queue=r,r=r.dispatch=sP.bind(null,qe,r),[f.memoizedState,r]},useRef:function(r){var l=Dn();return r={current:r},l.memoizedState=r},useState:e_,useDebugValue:rd,useDeferredValue:function(r){return Dn().memoizedState=r},useTransition:function(){var r=e_(!1),l=r[0];return r=iP.bind(null,r[1]),Dn().memoizedState=r,[l,r]},useMutableSource:function(){},useSyncExternalStore:function(r,l,h){var f=qe,g=Dn();if($e){if(h===void 0)throw Error(t(407));h=h()}else{if(h=l(),dt===null)throw Error(t(349));(as&30)!==0||qy(f,l,h)}g.memoizedState=h;var _={value:h,getSnapshot:l};return g.queue=_,n_(Qy.bind(null,f,_,r),[r]),f.flags|=2048,Eo(9,Xy.bind(null,f,_,h,l),void 0,null),h},useId:function(){var r=Dn(),l=dt.identifierPrefix;if($e){var h=$n,f=Hn;h=(f&~(1<<32-pn(f)-1)).toString(32)+h,l=":"+l+"R"+h,h=To++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=nP++,l=":"+l+"r"+h.toString(32)+":";return r.memoizedState=l},unstable_isNewReconciler:!1},aP={readContext:sn,useCallback:a_,useContext:sn,useEffect:sd,useImperativeHandle:o_,useInsertionEffect:i_,useLayoutEffect:s_,useMemo:l_,useReducer:nd,useRef:t_,useState:function(){return nd(ko)},useDebugValue:rd,useDeferredValue:function(r){var l=rn();return c_(l,at.memoizedState,r)},useTransition:function(){var r=nd(ko)[0],l=rn().memoizedState;return[r,l]},useMutableSource:Gy,useSyncExternalStore:Yy,useId:u_,unstable_isNewReconciler:!1},lP={readContext:sn,useCallback:a_,useContext:sn,useEffect:sd,useImperativeHandle:o_,useInsertionEffect:i_,useLayoutEffect:s_,useMemo:l_,useReducer:id,useRef:t_,useState:function(){return id(ko)},useDebugValue:rd,useDeferredValue:function(r){var l=rn();return at===null?l.memoizedState=r:c_(l,at.memoizedState,r)},useTransition:function(){var r=id(ko)[0],l=rn().memoizedState;return[r,l]},useMutableSource:Gy,useSyncExternalStore:Yy,useId:u_,unstable_isNewReconciler:!1};function yn(r,l){if(r&&r.defaultProps){l=Y({},l),r=r.defaultProps;for(var h in r)l[h]===void 0&&(l[h]=r[h]);return l}return l}function od(r,l,h,f){l=r.memoizedState,h=h(f,l),h=h==null?l:Y({},l,h),r.memoizedState=h,r.lanes===0&&(r.updateQueue.baseState=h)}var zl={isMounted:function(r){return(r=r._reactInternals)?es(r)===r:!1},enqueueSetState:function(r,l,h){r=r._reactInternals;var f=Dt(),g=Mi(r),_=Gn(f,g);_.payload=l,h!=null&&(_.callback=h),l=ki(r,_,g),l!==null&&(xn(l,r,g,f),Rl(l,r,g))},enqueueReplaceState:function(r,l,h){r=r._reactInternals;var f=Dt(),g=Mi(r),_=Gn(f,g);_.tag=1,_.payload=l,h!=null&&(_.callback=h),l=ki(r,_,g),l!==null&&(xn(l,r,g,f),Rl(l,r,g))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var h=Dt(),f=Mi(r),g=Gn(h,f);g.tag=2,l!=null&&(g.callback=l),l=ki(r,g,f),l!==null&&(xn(l,r,f,h),Rl(l,r,f))}};function p_(r,l,h,f,g,_,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,_,w):l.prototype&&l.prototype.isPureReactComponent?!fo(h,f)||!fo(g,_):!0}function m_(r,l,h){var f=!1,g=Ci,_=l.contextType;return typeof _=="object"&&_!==null?_=sn(_):(g=Ot(l)?ns:wt.current,f=l.contextTypes,_=(f=f!=null)?er(r,g):Ci),l=new l(h,_),r.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=zl,r.stateNode=l,l._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=_),l}function g_(r,l,h,f){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,f),l.state!==r&&zl.enqueueReplaceState(l,l.state,null)}function ad(r,l,h,f){var g=r.stateNode;g.props=h,g.state=r.memoizedState,g.refs={},Gh(r);var _=l.contextType;typeof _=="object"&&_!==null?g.context=sn(_):(_=Ot(l)?ns:wt.current,g.context=er(r,_)),g.state=r.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(od(r,l,_,h),g.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(l=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),l!==g.state&&zl.enqueueReplaceState(g,g.state,null),Al(r,h,g,f),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function lr(r,l){try{var h="",f=l;do h+=_e(f),f=f.return;while(f);var g=h}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:r,source:l,stack:g,digest:null}}function ld(r,l,h){return{value:r,source:null,stack:h??null,digest:l??null}}function cd(r,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var cP=typeof WeakMap=="function"?WeakMap:Map;function y_(r,l,h){h=Gn(-1,h),h.tag=3,h.payload={element:null};var f=l.value;return h.callback=function(){Kl||(Kl=!0,bd=f),cd(r,l)},h}function __(r,l,h){h=Gn(-1,h),h.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=l.value;h.payload=function(){return f(g)},h.callback=function(){cd(r,l)}}var _=r.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(h.callback=function(){cd(r,l),typeof f!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})}),h}function v_(r,l,h){var f=r.pingCache;if(f===null){f=r.pingCache=new cP;var g=new Set;f.set(l,g)}else g=f.get(l),g===void 0&&(g=new Set,f.set(l,g));g.has(h)||(g.add(h),r=CP.bind(null,r,l,h),l.then(r,r))}function x_(r){do{var l;if((l=r.tag===13)&&(l=r.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return r;r=r.return}while(r!==null);return null}function w_(r,l,h,f,g){return(r.mode&1)===0?(r===l?r.flags|=65536:(r.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=Gn(-1,1),l.tag=2,ki(h,l,1))),h.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var uP=D.ReactCurrentOwner,Ft=!1;function At(r,l,h,f){l.child=r===null?Uy(l,null,h,f):sr(l,r.child,h,f)}function S_(r,l,h,f,g){h=h.render;var _=l.ref;return or(l,g),f=ed(r,l,h,f,_,g),h=td(),r!==null&&!Ft?(l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~g,Yn(r,l,g)):($e&&h&&Fh(l),l.flags|=1,At(r,l,f,g),l.child)}function C_(r,l,h,f,g){if(r===null){var _=h.type;return typeof _=="function"&&!Rd(_)&&_.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=_,b_(r,l,_,f,g)):(r=Jl(h.type,null,f,l,l.mode,g),r.ref=l.ref,r.return=l,l.child=r)}if(_=r.child,(r.lanes&g)===0){var w=_.memoizedProps;if(h=h.compare,h=h!==null?h:fo,h(w,f)&&r.ref===l.ref)return Yn(r,l,g)}return l.flags|=1,r=Ai(_,f),r.ref=l.ref,r.return=l,l.child=r}function b_(r,l,h,f,g){if(r!==null){var _=r.memoizedProps;if(fo(_,f)&&r.ref===l.ref)if(Ft=!1,l.pendingProps=f=_,(r.lanes&g)!==0)(r.flags&131072)!==0&&(Ft=!0);else return l.lanes=r.lanes,Yn(r,l,g)}return ud(r,l,h,f,g)}function T_(r,l,h){var f=l.pendingProps,g=f.children,_=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(ur,Qt),Qt|=h;else{if((h&1073741824)===0)return r=_!==null?_.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:r,cachePool:null,transitions:null},l.updateQueue=null,Oe(ur,Qt),Qt|=r,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:h,Oe(ur,Qt),Qt|=f}else _!==null?(f=_.baseLanes|h,l.memoizedState=null):f=h,Oe(ur,Qt),Qt|=f;return At(r,l,g,h),l.child}function k_(r,l){var h=l.ref;(r===null&&h!==null||r!==null&&r.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function ud(r,l,h,f,g){var _=Ot(h)?ns:wt.current;return _=er(l,_),or(l,g),h=ed(r,l,h,f,_,g),f=td(),r!==null&&!Ft?(l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~g,Yn(r,l,g)):($e&&f&&Fh(l),l.flags|=1,At(r,l,h,g),l.child)}function E_(r,l,h,f,g){if(Ot(h)){var _=!0;Cl(l)}else _=!1;if(or(l,g),l.stateNode===null)Ul(r,l),m_(l,h,f),ad(l,h,f,g),f=!0;else if(r===null){var w=l.stateNode,T=l.memoizedProps;w.props=T;var E=w.context,N=h.contextType;typeof N=="object"&&N!==null?N=sn(N):(N=Ot(h)?ns:wt.current,N=er(l,N));var U=h.getDerivedStateFromProps,W=typeof U=="function"||typeof w.getSnapshotBeforeUpdate=="function";W||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==f||E!==N)&&g_(l,w,f,N),Ti=!1;var B=l.memoizedState;w.state=B,Al(l,f,w,g),E=l.memoizedState,T!==f||B!==E||Nt.current||Ti?(typeof U=="function"&&(od(l,h,U,f),E=l.memoizedState),(T=Ti||p_(l,h,T,f,B,E,N))?(W||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=E),w.props=f,w.state=E,w.context=N,f=T):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{w=l.stateNode,Wy(r,l),T=l.memoizedProps,N=l.type===l.elementType?T:yn(l.type,T),w.props=N,W=l.pendingProps,B=w.context,E=h.contextType,typeof E=="object"&&E!==null?E=sn(E):(E=Ot(h)?ns:wt.current,E=er(l,E));var X=h.getDerivedStateFromProps;(U=typeof X=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==W||B!==E)&&g_(l,w,f,E),Ti=!1,B=l.memoizedState,w.state=B,Al(l,f,w,g);var Z=l.memoizedState;T!==W||B!==Z||Nt.current||Ti?(typeof X=="function"&&(od(l,h,X,f),Z=l.memoizedState),(N=Ti||p_(l,h,N,f,B,Z,E)||!1)?(U||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,Z,E),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,Z,E)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||T===r.memoizedProps&&B===r.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&B===r.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=Z),w.props=f,w.state=Z,w.context=E,f=N):(typeof w.componentDidUpdate!="function"||T===r.memoizedProps&&B===r.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&B===r.memoizedState||(l.flags|=1024),f=!1)}return hd(r,l,h,f,_,g)}function hd(r,l,h,f,g,_){k_(r,l);var w=(l.flags&128)!==0;if(!f&&!w)return g&&Ay(l,h,!1),Yn(r,l,_);f=l.stateNode,uP.current=l;var T=w&&typeof h.getDerivedStateFromError!="function"?null:f.render();return l.flags|=1,r!==null&&w?(l.child=sr(l,r.child,null,_),l.child=sr(l,null,T,_)):At(r,l,T,_),l.memoizedState=f.state,g&&Ay(l,h,!0),l.child}function P_(r){var l=r.stateNode;l.pendingContext?My(r,l.pendingContext,l.pendingContext!==l.context):l.context&&My(r,l.context,!1),Yh(r,l.containerInfo)}function I_(r,l,h,f,g){return ir(),Uh(g),l.flags|=256,At(r,l,h,f),l.child}var dd={dehydrated:null,treeContext:null,retryLane:0};function fd(r){return{baseLanes:r,cachePool:null,transitions:null}}function M_(r,l,h){var f=l.pendingProps,g=Ye.current,_=!1,w=(l.flags&128)!==0,T;if((T=w)||(T=r!==null&&r.memoizedState===null?!1:(g&2)!==0),T?(_=!0,l.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),Oe(Ye,g&1),r===null)return Bh(l),r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((l.mode&1)===0?l.lanes=1:r.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(w=f.children,r=f.fallback,_?(f=l.mode,_=l.child,w={mode:"hidden",children:w},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=w):_=Zl(w,f,0,null),r=ds(r,f,h,null),_.return=l,r.return=l,_.sibling=r,l.child=_,l.child.memoizedState=fd(h),l.memoizedState=dd,r):pd(l,w));if(g=r.memoizedState,g!==null&&(T=g.dehydrated,T!==null))return hP(r,l,w,f,T,g,h);if(_){_=f.fallback,w=l.mode,g=r.child,T=g.sibling;var E={mode:"hidden",children:f.children};return(w&1)===0&&l.child!==g?(f=l.child,f.childLanes=0,f.pendingProps=E,l.deletions=null):(f=Ai(g,E),f.subtreeFlags=g.subtreeFlags&14680064),T!==null?_=Ai(T,_):(_=ds(_,w,h,null),_.flags|=2),_.return=l,f.return=l,f.sibling=_,l.child=f,f=_,_=l.child,w=r.child.memoizedState,w=w===null?fd(h):{baseLanes:w.baseLanes|h,cachePool:null,transitions:w.transitions},_.memoizedState=w,_.childLanes=r.childLanes&~h,l.memoizedState=dd,f}return _=r.child,r=_.sibling,f=Ai(_,{mode:"visible",children:f.children}),(l.mode&1)===0&&(f.lanes=h),f.return=l,f.sibling=null,r!==null&&(h=l.deletions,h===null?(l.deletions=[r],l.flags|=16):h.push(r)),l.child=f,l.memoizedState=null,f}function pd(r,l){return l=Zl({mode:"visible",children:l},r.mode,0,null),l.return=r,r.child=l}function Bl(r,l,h,f){return f!==null&&Uh(f),sr(l,r.child,null,h),r=pd(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function hP(r,l,h,f,g,_,w){if(h)return l.flags&256?(l.flags&=-257,f=ld(Error(t(422))),Bl(r,l,w,f)):l.memoizedState!==null?(l.child=r.child,l.flags|=128,null):(_=f.fallback,g=l.mode,f=Zl({mode:"visible",children:f.children},g,0,null),_=ds(_,g,w,null),_.flags|=2,f.return=l,_.return=l,f.sibling=_,l.child=f,(l.mode&1)!==0&&sr(l,r.child,null,w),l.child.memoizedState=fd(w),l.memoizedState=dd,_);if((l.mode&1)===0)return Bl(r,l,w,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var T=f.dgst;return f=T,_=Error(t(419)),f=ld(_,f,void 0),Bl(r,l,w,f)}if(T=(w&r.childLanes)!==0,Ft||T){if(f=dt,f!==null){switch(w&-w){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|w))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,Kn(r,g),xn(f,r,g,-1))}return Md(),f=ld(Error(t(421))),Bl(r,l,w,f)}return g.data==="$?"?(l.flags|=128,l.child=r.child,l=bP.bind(null,r),g._reactRetry=l,null):(r=_.treeContext,Xt=wi(g.nextSibling),qt=l,$e=!0,gn=null,r!==null&&(tn[nn++]=Hn,tn[nn++]=$n,tn[nn++]=is,Hn=r.id,$n=r.overflow,is=l),l=pd(l,f.children),l.flags|=4096,l)}function R_(r,l,h){r.lanes|=l;var f=r.alternate;f!==null&&(f.lanes|=l),$h(r.return,l,h)}function md(r,l,h,f,g){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:h,tailMode:g}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=h,_.tailMode=g)}function A_(r,l,h){var f=l.pendingProps,g=f.revealOrder,_=f.tail;if(At(r,l,f.children,h),f=Ye.current,(f&2)!==0)f=f&1|2,l.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&R_(r,h,l);else if(r.tag===19)R_(r,h,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(Oe(Ye,f),(l.mode&1)===0)l.memoizedState=null;else switch(g){case"forwards":for(h=l.child,g=null;h!==null;)r=h.alternate,r!==null&&Dl(r)===null&&(g=h),h=h.sibling;h=g,h===null?(g=l.child,l.child=null):(g=h.sibling,h.sibling=null),md(l,!1,g,h,_);break;case"backwards":for(h=null,g=l.child,l.child=null;g!==null;){if(r=g.alternate,r!==null&&Dl(r)===null){l.child=g;break}r=g.sibling,g.sibling=h,h=g,g=r}md(l,!0,h,null,_);break;case"together":md(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ul(r,l){(l.mode&1)===0&&r!==null&&(r.alternate=null,l.alternate=null,l.flags|=2)}function Yn(r,l,h){if(r!==null&&(l.dependencies=r.dependencies),ls|=l.lanes,(h&l.childLanes)===0)return null;if(r!==null&&l.child!==r.child)throw Error(t(153));if(l.child!==null){for(r=l.child,h=Ai(r,r.pendingProps),l.child=h,h.return=l;r.sibling!==null;)r=r.sibling,h=h.sibling=Ai(r,r.pendingProps),h.return=l;h.sibling=null}return l.child}function dP(r,l,h){switch(l.tag){case 3:P_(l),ir();break;case 5:Ky(l);break;case 1:Ot(l.type)&&Cl(l);break;case 4:Yh(l,l.stateNode.containerInfo);break;case 10:var f=l.type._context,g=l.memoizedProps.value;Oe(Il,f._currentValue),f._currentValue=g;break;case 13:if(f=l.memoizedState,f!==null)return f.dehydrated!==null?(Oe(Ye,Ye.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?M_(r,l,h):(Oe(Ye,Ye.current&1),r=Yn(r,l,h),r!==null?r.sibling:null);Oe(Ye,Ye.current&1);break;case 19:if(f=(h&l.childLanes)!==0,(r.flags&128)!==0){if(f)return A_(r,l,h);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Oe(Ye,Ye.current),f)break;return null;case 22:case 23:return l.lanes=0,T_(r,l,h)}return Yn(r,l,h)}var D_,gd,L_,N_;D_=function(r,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},gd=function(){},L_=function(r,l,h,f){var g=r.memoizedProps;if(g!==f){r=l.stateNode,os(An.current);var _=null;switch(h){case"input":g=$u(r,g),f=$u(r,f),_=[];break;case"select":g=Y({},g,{value:void 0}),f=Y({},f,{value:void 0}),_=[];break;case"textarea":g=Yu(r,g),f=Yu(r,f),_=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=xl)}Xu(h,f);var w;h=null;for(N in g)if(!f.hasOwnProperty(N)&&g.hasOwnProperty(N)&&g[N]!=null)if(N==="style"){var T=g[N];for(w in T)T.hasOwnProperty(w)&&(h||(h={}),h[w]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(s.hasOwnProperty(N)?_||(_=[]):(_=_||[]).push(N,null));for(N in f){var E=f[N];if(T=g?.[N],f.hasOwnProperty(N)&&E!==T&&(E!=null||T!=null))if(N==="style")if(T){for(w in T)!T.hasOwnProperty(w)||E&&E.hasOwnProperty(w)||(h||(h={}),h[w]="");for(w in E)E.hasOwnProperty(w)&&T[w]!==E[w]&&(h||(h={}),h[w]=E[w])}else h||(_||(_=[]),_.push(N,h)),h=E;else N==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,T=T?T.__html:void 0,E!=null&&T!==E&&(_=_||[]).push(N,E)):N==="children"?typeof E!="string"&&typeof E!="number"||(_=_||[]).push(N,""+E):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(s.hasOwnProperty(N)?(E!=null&&N==="onScroll"&&ze("scroll",r),_||T===E||(_=[])):(_=_||[]).push(N,E))}h&&(_=_||[]).push("style",h);var N=_;(l.updateQueue=N)&&(l.flags|=4)}},N_=function(r,l,h,f){h!==f&&(l.flags|=4)};function Po(r,l){if(!$e)switch(r.tailMode){case"hidden":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?r.tail=null:h.sibling=null;break;case"collapsed":h=r.tail;for(var f=null;h!==null;)h.alternate!==null&&(f=h),h=h.sibling;f===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Ct(r){var l=r.alternate!==null&&r.alternate.child===r.child,h=0,f=0;if(l)for(var g=r.child;g!==null;)h|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)h|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=h,l}function fP(r,l,h){var f=l.pendingProps;switch(Vh(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(l),null;case 1:return Ot(l.type)&&Sl(),Ct(l),null;case 3:return f=l.stateNode,ar(),Be(Nt),Be(wt),Qh(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(El(l)?l.flags|=4:r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,gn!==null&&(Ed(gn),gn=null))),gd(r,l),Ct(l),null;case 5:qh(l);var g=os(Co.current);if(h=l.type,r!==null&&l.stateNode!=null)L_(r,l,h,f,g),r.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!f){if(l.stateNode===null)throw Error(t(166));return Ct(l),null}if(r=os(An.current),El(l)){f=l.stateNode,h=l.type;var _=l.memoizedProps;switch(f[Rn]=l,f[_o]=_,r=(l.mode&1)!==0,h){case"dialog":ze("cancel",f),ze("close",f);break;case"iframe":case"object":case"embed":ze("load",f);break;case"video":case"audio":for(g=0;g<mo.length;g++)ze(mo[g],f);break;case"source":ze("error",f);break;case"img":case"image":case"link":ze("error",f),ze("load",f);break;case"details":ze("toggle",f);break;case"input":mg(f,_),ze("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},ze("invalid",f);break;case"textarea":_g(f,_),ze("invalid",f)}Xu(h,_),g=null;for(var w in _)if(_.hasOwnProperty(w)){var T=_[w];w==="children"?typeof T=="string"?f.textContent!==T&&(_.suppressHydrationWarning!==!0&&vl(f.textContent,T,r),g=["children",T]):typeof T=="number"&&f.textContent!==""+T&&(_.suppressHydrationWarning!==!0&&vl(f.textContent,T,r),g=["children",""+T]):s.hasOwnProperty(w)&&T!=null&&w==="onScroll"&&ze("scroll",f)}switch(h){case"input":Xa(f),yg(f,_,!0);break;case"textarea":Xa(f),xg(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=xl)}f=g,l.updateQueue=f,f!==null&&(l.flags|=4)}else{w=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=wg(h)),r==="http://www.w3.org/1999/xhtml"?h==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=w.createElement(h,{is:f.is}):(r=w.createElement(h),h==="select"&&(w=r,f.multiple?w.multiple=!0:f.size&&(w.size=f.size))):r=w.createElementNS(r,h),r[Rn]=l,r[_o]=f,D_(r,l,!1,!1),l.stateNode=r;e:{switch(w=Qu(h,f),h){case"dialog":ze("cancel",r),ze("close",r),g=f;break;case"iframe":case"object":case"embed":ze("load",r),g=f;break;case"video":case"audio":for(g=0;g<mo.length;g++)ze(mo[g],r);g=f;break;case"source":ze("error",r),g=f;break;case"img":case"image":case"link":ze("error",r),ze("load",r),g=f;break;case"details":ze("toggle",r),g=f;break;case"input":mg(r,f),g=$u(r,f),ze("invalid",r);break;case"option":g=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},g=Y({},f,{value:void 0}),ze("invalid",r);break;case"textarea":_g(r,f),g=Yu(r,f),ze("invalid",r);break;default:g=f}Xu(h,g),T=g;for(_ in T)if(T.hasOwnProperty(_)){var E=T[_];_==="style"?bg(r,E):_==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Sg(r,E)):_==="children"?typeof E=="string"?(h!=="textarea"||E!=="")&&qr(r,E):typeof E=="number"&&qr(r,""+E):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?E!=null&&_==="onScroll"&&ze("scroll",r):E!=null&&I(r,_,E,w))}switch(h){case"input":Xa(r),yg(r,f,!1);break;case"textarea":Xa(r),xg(r);break;case"option":f.value!=null&&r.setAttribute("value",""+Me(f.value));break;case"select":r.multiple=!!f.multiple,_=f.value,_!=null?js(r,!!f.multiple,_,!1):f.defaultValue!=null&&js(r,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=xl)}switch(h){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Ct(l),null;case 6:if(r&&l.stateNode!=null)N_(r,l,r.memoizedProps,f);else{if(typeof f!="string"&&l.stateNode===null)throw Error(t(166));if(h=os(Co.current),os(An.current),El(l)){if(f=l.stateNode,h=l.memoizedProps,f[Rn]=l,(_=f.nodeValue!==h)&&(r=qt,r!==null))switch(r.tag){case 3:vl(f.nodeValue,h,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&vl(f.nodeValue,h,(r.mode&1)!==0)}_&&(l.flags|=4)}else f=(h.nodeType===9?h:h.ownerDocument).createTextNode(f),f[Rn]=l,l.stateNode=f}return Ct(l),null;case 13:if(Be(Ye),f=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if($e&&Xt!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Vy(),ir(),l.flags|=98560,_=!1;else if(_=El(l),f!==null&&f.dehydrated!==null){if(r===null){if(!_)throw Error(t(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Rn]=l}else ir(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ct(l),_=!1}else gn!==null&&(Ed(gn),gn=null),_=!0;if(!_)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(l.child.flags|=8192,(l.mode&1)!==0&&(r===null||(Ye.current&1)!==0?lt===0&&(lt=3):Md())),l.updateQueue!==null&&(l.flags|=4),Ct(l),null);case 4:return ar(),gd(r,l),r===null&&go(l.stateNode.containerInfo),Ct(l),null;case 10:return Hh(l.type._context),Ct(l),null;case 17:return Ot(l.type)&&Sl(),Ct(l),null;case 19:if(Be(Ye),_=l.memoizedState,_===null)return Ct(l),null;if(f=(l.flags&128)!==0,w=_.rendering,w===null)if(f)Po(_,!1);else{if(lt!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(w=Dl(r),w!==null){for(l.flags|=128,Po(_,!1),f=w.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),l.subtreeFlags=0,f=h,h=l.child;h!==null;)_=h,r=f,_.flags&=14680066,w=_.alternate,w===null?(_.childLanes=0,_.lanes=r,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=w.childLanes,_.lanes=w.lanes,_.child=w.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=w.memoizedProps,_.memoizedState=w.memoizedState,_.updateQueue=w.updateQueue,_.type=w.type,r=w.dependencies,_.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),h=h.sibling;return Oe(Ye,Ye.current&1|2),l.child}r=r.sibling}_.tail!==null&&tt()>hr&&(l.flags|=128,f=!0,Po(_,!1),l.lanes=4194304)}else{if(!f)if(r=Dl(w),r!==null){if(l.flags|=128,f=!0,h=r.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Po(_,!0),_.tail===null&&_.tailMode==="hidden"&&!w.alternate&&!$e)return Ct(l),null}else 2*tt()-_.renderingStartTime>hr&&h!==1073741824&&(l.flags|=128,f=!0,Po(_,!1),l.lanes=4194304);_.isBackwards?(w.sibling=l.child,l.child=w):(h=_.last,h!==null?h.sibling=w:l.child=w,_.last=w)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=tt(),l.sibling=null,h=Ye.current,Oe(Ye,f?h&1|2:h&1),l):(Ct(l),null);case 22:case 23:return Id(),f=l.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(l.flags|=8192),f&&(l.mode&1)!==0?(Qt&1073741824)!==0&&(Ct(l),l.subtreeFlags&6&&(l.flags|=8192)):Ct(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function pP(r,l){switch(Vh(l),l.tag){case 1:return Ot(l.type)&&Sl(),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return ar(),Be(Nt),Be(wt),Qh(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 5:return qh(l),null;case 13:if(Be(Ye),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(t(340));ir()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return Be(Ye),null;case 4:return ar(),null;case 10:return Hh(l.type._context),null;case 22:case 23:return Id(),null;case 24:return null;default:return null}}var jl=!1,bt=!1,mP=typeof WeakSet=="function"?WeakSet:Set,Q=null;function cr(r,l){var h=r.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(f){Qe(r,l,f)}else h.current=null}function yd(r,l,h){try{h()}catch(f){Qe(r,l,f)}}var O_=!1;function gP(r,l){if(Ih=ll,r=py(),wh(r)){if("selectionStart"in r)var h={start:r.selectionStart,end:r.selectionEnd};else e:{h=(h=r.ownerDocument)&&h.defaultView||window;var f=h.getSelection&&h.getSelection();if(f&&f.rangeCount!==0){h=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var w=0,T=-1,E=-1,N=0,U=0,W=r,B=null;t:for(;;){for(var X;W!==h||g!==0&&W.nodeType!==3||(T=w+g),W!==_||f!==0&&W.nodeType!==3||(E=w+f),W.nodeType===3&&(w+=W.nodeValue.length),(X=W.firstChild)!==null;)B=W,W=X;for(;;){if(W===r)break t;if(B===h&&++N===g&&(T=w),B===_&&++U===f&&(E=w),(X=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=X}h=T===-1||E===-1?null:{start:T,end:E}}else h=null}h=h||{start:0,end:0}}else h=null;for(Mh={focusedElem:r,selectionRange:h},ll=!1,Q=l;Q!==null;)if(l=Q,r=l.child,(l.subtreeFlags&1028)!==0&&r!==null)r.return=l,Q=r;else for(;Q!==null;){l=Q;try{var Z=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var te=Z.memoizedProps,nt=Z.memoizedState,A=l.stateNode,P=A.getSnapshotBeforeUpdate(l.elementType===l.type?te:yn(l.type,te),nt);A.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var L=l.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(H){Qe(l,l.return,H)}if(r=l.sibling,r!==null){r.return=l.return,Q=r;break}Q=l.return}return Z=O_,O_=!1,Z}function Io(r,l,h){var f=l.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&r)===r){var _=g.destroy;g.destroy=void 0,_!==void 0&&yd(l,h,_)}g=g.next}while(g!==f)}}function Wl(r,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&r)===r){var f=h.create;h.destroy=f()}h=h.next}while(h!==l)}}function _d(r){var l=r.ref;if(l!==null){var h=r.stateNode;switch(r.tag){case 5:r=h;break;default:r=h}typeof l=="function"?l(r):l.current=r}}function F_(r){var l=r.alternate;l!==null&&(r.alternate=null,F_(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&(delete l[Rn],delete l[_o],delete l[Lh],delete l[JE],delete l[ZE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function V_(r){return r.tag===5||r.tag===3||r.tag===4}function z_(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||V_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function vd(r,l,h){var f=r.tag;if(f===5||f===6)r=r.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(r,l):h.insertBefore(r,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(r,h)):(l=h,l.appendChild(r)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=xl));else if(f!==4&&(r=r.child,r!==null))for(vd(r,l,h),r=r.sibling;r!==null;)vd(r,l,h),r=r.sibling}function xd(r,l,h){var f=r.tag;if(f===5||f===6)r=r.stateNode,l?h.insertBefore(r,l):h.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(xd(r,l,h),r=r.sibling;r!==null;)xd(r,l,h),r=r.sibling}var _t=null,_n=!1;function Ei(r,l,h){for(h=h.child;h!==null;)B_(r,l,h),h=h.sibling}function B_(r,l,h){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(nl,h)}catch{}switch(h.tag){case 5:bt||cr(h,l);case 6:var f=_t,g=_n;_t=null,Ei(r,l,h),_t=f,_n=g,_t!==null&&(_n?(r=_t,h=h.stateNode,r.nodeType===8?r.parentNode.removeChild(h):r.removeChild(h)):_t.removeChild(h.stateNode));break;case 18:_t!==null&&(_n?(r=_t,h=h.stateNode,r.nodeType===8?Dh(r.parentNode,h):r.nodeType===1&&Dh(r,h),oo(r)):Dh(_t,h.stateNode));break;case 4:f=_t,g=_n,_t=h.stateNode.containerInfo,_n=!0,Ei(r,l,h),_t=f,_n=g;break;case 0:case 11:case 14:case 15:if(!bt&&(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var _=g,w=_.destroy;_=_.tag,w!==void 0&&((_&2)!==0||(_&4)!==0)&&yd(h,l,w),g=g.next}while(g!==f)}Ei(r,l,h);break;case 1:if(!bt&&(cr(h,l),f=h.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(T){Qe(h,l,T)}Ei(r,l,h);break;case 21:Ei(r,l,h);break;case 22:h.mode&1?(bt=(f=bt)||h.memoizedState!==null,Ei(r,l,h),bt=f):Ei(r,l,h);break;default:Ei(r,l,h)}}function U_(r){var l=r.updateQueue;if(l!==null){r.updateQueue=null;var h=r.stateNode;h===null&&(h=r.stateNode=new mP),l.forEach(function(f){var g=TP.bind(null,r,f);h.has(f)||(h.add(f),f.then(g,g))})}}function vn(r,l){var h=l.deletions;if(h!==null)for(var f=0;f<h.length;f++){var g=h[f];try{var _=r,w=l,T=w;e:for(;T!==null;){switch(T.tag){case 5:_t=T.stateNode,_n=!1;break e;case 3:_t=T.stateNode.containerInfo,_n=!0;break e;case 4:_t=T.stateNode.containerInfo,_n=!0;break e}T=T.return}if(_t===null)throw Error(t(160));B_(_,w,g),_t=null,_n=!1;var E=g.alternate;E!==null&&(E.return=null),g.return=null}catch(N){Qe(g,l,N)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)j_(l,r),l=l.sibling}function j_(r,l){var h=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(vn(l,r),Ln(r),f&4){try{Io(3,r,r.return),Wl(3,r)}catch(te){Qe(r,r.return,te)}try{Io(5,r,r.return)}catch(te){Qe(r,r.return,te)}}break;case 1:vn(l,r),Ln(r),f&512&&h!==null&&cr(h,h.return);break;case 5:if(vn(l,r),Ln(r),f&512&&h!==null&&cr(h,h.return),r.flags&32){var g=r.stateNode;try{qr(g,"")}catch(te){Qe(r,r.return,te)}}if(f&4&&(g=r.stateNode,g!=null)){var _=r.memoizedProps,w=h!==null?h.memoizedProps:_,T=r.type,E=r.updateQueue;if(r.updateQueue=null,E!==null)try{T==="input"&&_.type==="radio"&&_.name!=null&&gg(g,_),Qu(T,w);var N=Qu(T,_);for(w=0;w<E.length;w+=2){var U=E[w],W=E[w+1];U==="style"?bg(g,W):U==="dangerouslySetInnerHTML"?Sg(g,W):U==="children"?qr(g,W):I(g,U,W,N)}switch(T){case"input":Ku(g,_);break;case"textarea":vg(g,_);break;case"select":var B=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var X=_.value;X!=null?js(g,!!_.multiple,X,!1):B!==!!_.multiple&&(_.defaultValue!=null?js(g,!!_.multiple,_.defaultValue,!0):js(g,!!_.multiple,_.multiple?[]:"",!1))}g[_o]=_}catch(te){Qe(r,r.return,te)}}break;case 6:if(vn(l,r),Ln(r),f&4){if(r.stateNode===null)throw Error(t(162));g=r.stateNode,_=r.memoizedProps;try{g.nodeValue=_}catch(te){Qe(r,r.return,te)}}break;case 3:if(vn(l,r),Ln(r),f&4&&h!==null&&h.memoizedState.isDehydrated)try{oo(l.containerInfo)}catch(te){Qe(r,r.return,te)}break;case 4:vn(l,r),Ln(r);break;case 13:vn(l,r),Ln(r),g=r.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(Cd=tt())),f&4&&U_(r);break;case 22:if(U=h!==null&&h.memoizedState!==null,r.mode&1?(bt=(N=bt)||U,vn(l,r),bt=N):vn(l,r),Ln(r),f&8192){if(N=r.memoizedState!==null,(r.stateNode.isHidden=N)&&!U&&(r.mode&1)!==0)for(Q=r,U=r.child;U!==null;){for(W=Q=U;Q!==null;){switch(B=Q,X=B.child,B.tag){case 0:case 11:case 14:case 15:Io(4,B,B.return);break;case 1:cr(B,B.return);var Z=B.stateNode;if(typeof Z.componentWillUnmount=="function"){f=B,h=B.return;try{l=f,Z.props=l.memoizedProps,Z.state=l.memoizedState,Z.componentWillUnmount()}catch(te){Qe(f,h,te)}}break;case 5:cr(B,B.return);break;case 22:if(B.memoizedState!==null){$_(W);continue}}X!==null?(X.return=B,Q=X):$_(W)}U=U.sibling}e:for(U=null,W=r;;){if(W.tag===5){if(U===null){U=W;try{g=W.stateNode,N?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(T=W.stateNode,E=W.memoizedProps.style,w=E!=null&&E.hasOwnProperty("display")?E.display:null,T.style.display=Cg("display",w))}catch(te){Qe(r,r.return,te)}}}else if(W.tag===6){if(U===null)try{W.stateNode.nodeValue=N?"":W.memoizedProps}catch(te){Qe(r,r.return,te)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===r)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===r)break e;for(;W.sibling===null;){if(W.return===null||W.return===r)break e;U===W&&(U=null),W=W.return}U===W&&(U=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:vn(l,r),Ln(r),f&4&&U_(r);break;case 21:break;default:vn(l,r),Ln(r)}}function Ln(r){var l=r.flags;if(l&2){try{e:{for(var h=r.return;h!==null;){if(V_(h)){var f=h;break e}h=h.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(qr(g,""),f.flags&=-33);var _=z_(r);xd(r,_,g);break;case 3:case 4:var w=f.stateNode.containerInfo,T=z_(r);vd(r,T,w);break;default:throw Error(t(161))}}catch(E){Qe(r,r.return,E)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function yP(r,l,h){Q=r,W_(r)}function W_(r,l,h){for(var f=(r.mode&1)!==0;Q!==null;){var g=Q,_=g.child;if(g.tag===22&&f){var w=g.memoizedState!==null||jl;if(!w){var T=g.alternate,E=T!==null&&T.memoizedState!==null||bt;T=jl;var N=bt;if(jl=w,(bt=E)&&!N)for(Q=g;Q!==null;)w=Q,E=w.child,w.tag===22&&w.memoizedState!==null?K_(g):E!==null?(E.return=w,Q=E):K_(g);for(;_!==null;)Q=_,W_(_),_=_.sibling;Q=g,jl=T,bt=N}H_(r)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,Q=_):H_(r)}}function H_(r){for(;Q!==null;){var l=Q;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:bt||Wl(5,l);break;case 1:var f=l.stateNode;if(l.flags&4&&!bt)if(h===null)f.componentDidMount();else{var g=l.elementType===l.type?h.memoizedProps:yn(l.type,h.memoizedProps);f.componentDidUpdate(g,h.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&$y(l,_,f);break;case 3:var w=l.updateQueue;if(w!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}$y(l,w,h)}break;case 5:var T=l.stateNode;if(h===null&&l.flags&4){h=T;var E=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&h.focus();break;case"img":E.src&&(h.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var N=l.alternate;if(N!==null){var U=N.memoizedState;if(U!==null){var W=U.dehydrated;W!==null&&oo(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}bt||l.flags&512&&_d(l)}catch(B){Qe(l,l.return,B)}}if(l===r){Q=null;break}if(h=l.sibling,h!==null){h.return=l.return,Q=h;break}Q=l.return}}function $_(r){for(;Q!==null;){var l=Q;if(l===r){Q=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Q=h;break}Q=l.return}}function K_(r){for(;Q!==null;){var l=Q;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{Wl(4,l)}catch(E){Qe(l,h,E)}break;case 1:var f=l.stateNode;if(typeof f.componentDidMount=="function"){var g=l.return;try{f.componentDidMount()}catch(E){Qe(l,g,E)}}var _=l.return;try{_d(l)}catch(E){Qe(l,_,E)}break;case 5:var w=l.return;try{_d(l)}catch(E){Qe(l,w,E)}}}catch(E){Qe(l,l.return,E)}if(l===r){Q=null;break}var T=l.sibling;if(T!==null){T.return=l.return,Q=T;break}Q=l.return}}var _P=Math.ceil,Hl=D.ReactCurrentDispatcher,wd=D.ReactCurrentOwner,on=D.ReactCurrentBatchConfig,ke=0,dt=null,rt=null,vt=0,Qt=0,ur=Si(0),lt=0,Mo=null,ls=0,$l=0,Sd=0,Ro=null,Vt=null,Cd=0,hr=1/0,qn=null,Kl=!1,bd=null,Pi=null,Gl=!1,Ii=null,Yl=0,Ao=0,Td=null,ql=-1,Xl=0;function Dt(){return(ke&6)!==0?tt():ql!==-1?ql:ql=tt()}function Mi(r){return(r.mode&1)===0?1:(ke&2)!==0&&vt!==0?vt&-vt:tP.transition!==null?(Xl===0&&(Xl=zg()),Xl):(r=Re,r!==0||(r=window.event,r=r===void 0?16:Yg(r.type)),r)}function xn(r,l,h,f){if(50<Ao)throw Ao=0,Td=null,Error(t(185));to(r,h,f),((ke&2)===0||r!==dt)&&(r===dt&&((ke&2)===0&&($l|=h),lt===4&&Ri(r,vt)),zt(r,f),h===1&&ke===0&&(l.mode&1)===0&&(hr=tt()+500,bl&&bi()))}function zt(r,l){var h=r.callbackNode;tE(r,l);var f=rl(r,r===dt?vt:0);if(f===0)h!==null&&Og(h),r.callbackNode=null,r.callbackPriority=0;else if(l=f&-f,r.callbackPriority!==l){if(h!=null&&Og(h),l===1)r.tag===0?eP(Y_.bind(null,r)):Dy(Y_.bind(null,r)),XE(function(){(ke&6)===0&&bi()}),h=null;else{switch(Bg(f)){case 1:h=sh;break;case 4:h=Fg;break;case 16:h=tl;break;case 536870912:h=Vg;break;default:h=tl}h=nv(h,G_.bind(null,r))}r.callbackPriority=l,r.callbackNode=h}}function G_(r,l){if(ql=-1,Xl=0,(ke&6)!==0)throw Error(t(327));var h=r.callbackNode;if(dr()&&r.callbackNode!==h)return null;var f=rl(r,r===dt?vt:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||l)l=Ql(r,f);else{l=f;var g=ke;ke|=2;var _=X_();(dt!==r||vt!==l)&&(qn=null,hr=tt()+500,us(r,l));do try{wP();break}catch(T){q_(r,T)}while(!0);Wh(),Hl.current=_,ke=g,rt!==null?l=0:(dt=null,vt=0,l=lt)}if(l!==0){if(l===2&&(g=rh(r),g!==0&&(f=g,l=kd(r,g))),l===1)throw h=Mo,us(r,0),Ri(r,f),zt(r,tt()),h;if(l===6)Ri(r,f);else{if(g=r.current.alternate,(f&30)===0&&!vP(g)&&(l=Ql(r,f),l===2&&(_=rh(r),_!==0&&(f=_,l=kd(r,_))),l===1))throw h=Mo,us(r,0),Ri(r,f),zt(r,tt()),h;switch(r.finishedWork=g,r.finishedLanes=f,l){case 0:case 1:throw Error(t(345));case 2:hs(r,Vt,qn);break;case 3:if(Ri(r,f),(f&130023424)===f&&(l=Cd+500-tt(),10<l)){if(rl(r,0)!==0)break;if(g=r.suspendedLanes,(g&f)!==f){Dt(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=Ah(hs.bind(null,r,Vt,qn),l);break}hs(r,Vt,qn);break;case 4:if(Ri(r,f),(f&4194240)===f)break;for(l=r.eventTimes,g=-1;0<f;){var w=31-pn(f);_=1<<w,w=l[w],w>g&&(g=w),f&=~_}if(f=g,f=tt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*_P(f/1960))-f,10<f){r.timeoutHandle=Ah(hs.bind(null,r,Vt,qn),f);break}hs(r,Vt,qn);break;case 5:hs(r,Vt,qn);break;default:throw Error(t(329))}}}return zt(r,tt()),r.callbackNode===h?G_.bind(null,r):null}function kd(r,l){var h=Ro;return r.current.memoizedState.isDehydrated&&(us(r,l).flags|=256),r=Ql(r,l),r!==2&&(l=Vt,Vt=h,l!==null&&Ed(l)),r}function Ed(r){Vt===null?Vt=r:Vt.push.apply(Vt,r)}function vP(r){for(var l=r;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var f=0;f<h.length;f++){var g=h[f],_=g.getSnapshot;g=g.value;try{if(!mn(_(),g))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ri(r,l){for(l&=~Sd,l&=~$l,r.suspendedLanes|=l,r.pingedLanes&=~l,r=r.expirationTimes;0<l;){var h=31-pn(l),f=1<<h;r[h]=-1,l&=~f}}function Y_(r){if((ke&6)!==0)throw Error(t(327));dr();var l=rl(r,0);if((l&1)===0)return zt(r,tt()),null;var h=Ql(r,l);if(r.tag!==0&&h===2){var f=rh(r);f!==0&&(l=f,h=kd(r,f))}if(h===1)throw h=Mo,us(r,0),Ri(r,l),zt(r,tt()),h;if(h===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=l,hs(r,Vt,qn),zt(r,tt()),null}function Pd(r,l){var h=ke;ke|=1;try{return r(l)}finally{ke=h,ke===0&&(hr=tt()+500,bl&&bi())}}function cs(r){Ii!==null&&Ii.tag===0&&(ke&6)===0&&dr();var l=ke;ke|=1;var h=on.transition,f=Re;try{if(on.transition=null,Re=1,r)return r()}finally{Re=f,on.transition=h,ke=l,(ke&6)===0&&bi()}}function Id(){Qt=ur.current,Be(ur)}function us(r,l){r.finishedWork=null,r.finishedLanes=0;var h=r.timeoutHandle;if(h!==-1&&(r.timeoutHandle=-1,qE(h)),rt!==null)for(h=rt.return;h!==null;){var f=h;switch(Vh(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Sl();break;case 3:ar(),Be(Nt),Be(wt),Qh();break;case 5:qh(f);break;case 4:ar();break;case 13:Be(Ye);break;case 19:Be(Ye);break;case 10:Hh(f.type._context);break;case 22:case 23:Id()}h=h.return}if(dt=r,rt=r=Ai(r.current,null),vt=Qt=l,lt=0,Mo=null,Sd=$l=ls=0,Vt=Ro=null,rs!==null){for(l=0;l<rs.length;l++)if(h=rs[l],f=h.interleaved,f!==null){h.interleaved=null;var g=f.next,_=h.pending;if(_!==null){var w=_.next;_.next=g,f.next=w}h.pending=f}rs=null}return r}function q_(r,l){do{var h=rt;try{if(Wh(),Ll.current=Vl,Nl){for(var f=qe.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Nl=!1}if(as=0,ht=at=qe=null,bo=!1,To=0,wd.current=null,h===null||h.return===null){lt=1,Mo=l,rt=null;break}e:{var _=r,w=h.return,T=h,E=l;if(l=vt,T.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var N=E,U=T,W=U.tag;if((U.mode&1)===0&&(W===0||W===11||W===15)){var B=U.alternate;B?(U.updateQueue=B.updateQueue,U.memoizedState=B.memoizedState,U.lanes=B.lanes):(U.updateQueue=null,U.memoizedState=null)}var X=x_(w);if(X!==null){X.flags&=-257,w_(X,w,T,_,l),X.mode&1&&v_(_,N,l),l=X,E=N;var Z=l.updateQueue;if(Z===null){var te=new Set;te.add(E),l.updateQueue=te}else Z.add(E);break e}else{if((l&1)===0){v_(_,N,l),Md();break e}E=Error(t(426))}}else if($e&&T.mode&1){var nt=x_(w);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),w_(nt,w,T,_,l),Uh(lr(E,T));break e}}_=E=lr(E,T),lt!==4&&(lt=2),Ro===null?Ro=[_]:Ro.push(_),_=w;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l;var A=y_(_,E,l);Hy(_,A);break e;case 1:T=E;var P=_.type,L=_.stateNode;if((_.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Pi===null||!Pi.has(L)))){_.flags|=65536,l&=-l,_.lanes|=l;var H=__(_,T,l);Hy(_,H);break e}}_=_.return}while(_!==null)}J_(h)}catch(ne){l=ne,rt===h&&h!==null&&(rt=h=h.return);continue}break}while(!0)}function X_(){var r=Hl.current;return Hl.current=Vl,r===null?Vl:r}function Md(){(lt===0||lt===3||lt===2)&&(lt=4),dt===null||(ls&268435455)===0&&($l&268435455)===0||Ri(dt,vt)}function Ql(r,l){var h=ke;ke|=2;var f=X_();(dt!==r||vt!==l)&&(qn=null,us(r,l));do try{xP();break}catch(g){q_(r,g)}while(!0);if(Wh(),ke=h,Hl.current=f,rt!==null)throw Error(t(261));return dt=null,vt=0,lt}function xP(){for(;rt!==null;)Q_(rt)}function wP(){for(;rt!==null&&!Kk();)Q_(rt)}function Q_(r){var l=tv(r.alternate,r,Qt);r.memoizedProps=r.pendingProps,l===null?J_(r):rt=l,wd.current=null}function J_(r){var l=r;do{var h=l.alternate;if(r=l.return,(l.flags&32768)===0){if(h=fP(h,l,Qt),h!==null){rt=h;return}}else{if(h=pP(h,l),h!==null){h.flags&=32767,rt=h;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{lt=6,rt=null;return}}if(l=l.sibling,l!==null){rt=l;return}rt=l=r}while(l!==null);lt===0&&(lt=5)}function hs(r,l,h){var f=Re,g=on.transition;try{on.transition=null,Re=1,SP(r,l,h,f)}finally{on.transition=g,Re=f}return null}function SP(r,l,h,f){do dr();while(Ii!==null);if((ke&6)!==0)throw Error(t(327));h=r.finishedWork;var g=r.finishedLanes;if(h===null)return null;if(r.finishedWork=null,r.finishedLanes=0,h===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var _=h.lanes|h.childLanes;if(nE(r,_),r===dt&&(rt=dt=null,vt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Gl||(Gl=!0,nv(tl,function(){return dr(),null})),_=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||_){_=on.transition,on.transition=null;var w=Re;Re=1;var T=ke;ke|=4,wd.current=null,gP(r,h),j_(h,r),jE(Mh),ll=!!Ih,Mh=Ih=null,r.current=h,yP(h),Gk(),ke=T,Re=w,on.transition=_}else r.current=h;if(Gl&&(Gl=!1,Ii=r,Yl=g),_=r.pendingLanes,_===0&&(Pi=null),Xk(h.stateNode),zt(r,tt()),l!==null)for(f=r.onRecoverableError,h=0;h<l.length;h++)g=l[h],f(g.value,{componentStack:g.stack,digest:g.digest});if(Kl)throw Kl=!1,r=bd,bd=null,r;return(Yl&1)!==0&&r.tag!==0&&dr(),_=r.pendingLanes,(_&1)!==0?r===Td?Ao++:(Ao=0,Td=r):Ao=0,bi(),null}function dr(){if(Ii!==null){var r=Bg(Yl),l=on.transition,h=Re;try{if(on.transition=null,Re=16>r?16:r,Ii===null)var f=!1;else{if(r=Ii,Ii=null,Yl=0,(ke&6)!==0)throw Error(t(331));var g=ke;for(ke|=4,Q=r.current;Q!==null;){var _=Q,w=_.child;if((Q.flags&16)!==0){var T=_.deletions;if(T!==null){for(var E=0;E<T.length;E++){var N=T[E];for(Q=N;Q!==null;){var U=Q;switch(U.tag){case 0:case 11:case 15:Io(8,U,_)}var W=U.child;if(W!==null)W.return=U,Q=W;else for(;Q!==null;){U=Q;var B=U.sibling,X=U.return;if(F_(U),U===N){Q=null;break}if(B!==null){B.return=X,Q=B;break}Q=X}}}var Z=_.alternate;if(Z!==null){var te=Z.child;if(te!==null){Z.child=null;do{var nt=te.sibling;te.sibling=null,te=nt}while(te!==null)}}Q=_}}if((_.subtreeFlags&2064)!==0&&w!==null)w.return=_,Q=w;else e:for(;Q!==null;){if(_=Q,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Io(9,_,_.return)}var A=_.sibling;if(A!==null){A.return=_.return,Q=A;break e}Q=_.return}}var P=r.current;for(Q=P;Q!==null;){w=Q;var L=w.child;if((w.subtreeFlags&2064)!==0&&L!==null)L.return=w,Q=L;else e:for(w=P;Q!==null;){if(T=Q,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Wl(9,T)}}catch(ne){Qe(T,T.return,ne)}if(T===w){Q=null;break e}var H=T.sibling;if(H!==null){H.return=T.return,Q=H;break e}Q=T.return}}if(ke=g,bi(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(nl,r)}catch{}f=!0}return f}finally{Re=h,on.transition=l}}return!1}function Z_(r,l,h){l=lr(h,l),l=y_(r,l,1),r=ki(r,l,1),l=Dt(),r!==null&&(to(r,1,l),zt(r,l))}function Qe(r,l,h){if(r.tag===3)Z_(r,r,h);else for(;l!==null;){if(l.tag===3){Z_(l,r,h);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Pi===null||!Pi.has(f))){r=lr(h,r),r=__(l,r,1),l=ki(l,r,1),r=Dt(),l!==null&&(to(l,1,r),zt(l,r));break}}l=l.return}}function CP(r,l,h){var f=r.pingCache;f!==null&&f.delete(l),l=Dt(),r.pingedLanes|=r.suspendedLanes&h,dt===r&&(vt&h)===h&&(lt===4||lt===3&&(vt&130023424)===vt&&500>tt()-Cd?us(r,0):Sd|=h),zt(r,l)}function ev(r,l){l===0&&((r.mode&1)===0?l=1:(l=sl,sl<<=1,(sl&130023424)===0&&(sl=4194304)));var h=Dt();r=Kn(r,l),r!==null&&(to(r,l,h),zt(r,h))}function bP(r){var l=r.memoizedState,h=0;l!==null&&(h=l.retryLane),ev(r,h)}function TP(r,l){var h=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(h=g.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(l),ev(r,h)}var tv;tv=function(r,l,h){if(r!==null)if(r.memoizedProps!==l.pendingProps||Nt.current)Ft=!0;else{if((r.lanes&h)===0&&(l.flags&128)===0)return Ft=!1,dP(r,l,h);Ft=(r.flags&131072)!==0}else Ft=!1,$e&&(l.flags&1048576)!==0&&Ly(l,kl,l.index);switch(l.lanes=0,l.tag){case 2:var f=l.type;Ul(r,l),r=l.pendingProps;var g=er(l,wt.current);or(l,h),g=ed(null,l,f,r,g,h);var _=td();return l.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Ot(f)?(_=!0,Cl(l)):_=!1,l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Gh(l),g.updater=zl,l.stateNode=g,g._reactInternals=l,ad(l,f,r,h),l=hd(null,l,f,!0,_,h)):(l.tag=0,$e&&_&&Fh(l),At(null,l,g,h),l=l.child),l;case 16:f=l.elementType;e:{switch(Ul(r,l),r=l.pendingProps,g=f._init,f=g(f._payload),l.type=f,g=l.tag=EP(f),r=yn(f,r),g){case 0:l=ud(null,l,f,r,h);break e;case 1:l=E_(null,l,f,r,h);break e;case 11:l=S_(null,l,f,r,h);break e;case 14:l=C_(null,l,f,yn(f.type,r),h);break e}throw Error(t(306,f,""))}return l;case 0:return f=l.type,g=l.pendingProps,g=l.elementType===f?g:yn(f,g),ud(r,l,f,g,h);case 1:return f=l.type,g=l.pendingProps,g=l.elementType===f?g:yn(f,g),E_(r,l,f,g,h);case 3:e:{if(P_(l),r===null)throw Error(t(387));f=l.pendingProps,_=l.memoizedState,g=_.element,Wy(r,l),Al(l,f,null,h);var w=l.memoizedState;if(f=w.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){g=lr(Error(t(423)),l),l=I_(r,l,f,h,g);break e}else if(f!==g){g=lr(Error(t(424)),l),l=I_(r,l,f,h,g);break e}else for(Xt=wi(l.stateNode.containerInfo.firstChild),qt=l,$e=!0,gn=null,h=Uy(l,null,f,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(ir(),f===g){l=Yn(r,l,h);break e}At(r,l,f,h)}l=l.child}return l;case 5:return Ky(l),r===null&&Bh(l),f=l.type,g=l.pendingProps,_=r!==null?r.memoizedProps:null,w=g.children,Rh(f,g)?w=null:_!==null&&Rh(f,_)&&(l.flags|=32),k_(r,l),At(r,l,w,h),l.child;case 6:return r===null&&Bh(l),null;case 13:return M_(r,l,h);case 4:return Yh(l,l.stateNode.containerInfo),f=l.pendingProps,r===null?l.child=sr(l,null,f,h):At(r,l,f,h),l.child;case 11:return f=l.type,g=l.pendingProps,g=l.elementType===f?g:yn(f,g),S_(r,l,f,g,h);case 7:return At(r,l,l.pendingProps,h),l.child;case 8:return At(r,l,l.pendingProps.children,h),l.child;case 12:return At(r,l,l.pendingProps.children,h),l.child;case 10:e:{if(f=l.type._context,g=l.pendingProps,_=l.memoizedProps,w=g.value,Oe(Il,f._currentValue),f._currentValue=w,_!==null)if(mn(_.value,w)){if(_.children===g.children&&!Nt.current){l=Yn(r,l,h);break e}}else for(_=l.child,_!==null&&(_.return=l);_!==null;){var T=_.dependencies;if(T!==null){w=_.child;for(var E=T.firstContext;E!==null;){if(E.context===f){if(_.tag===1){E=Gn(-1,h&-h),E.tag=2;var N=_.updateQueue;if(N!==null){N=N.shared;var U=N.pending;U===null?E.next=E:(E.next=U.next,U.next=E),N.pending=E}}_.lanes|=h,E=_.alternate,E!==null&&(E.lanes|=h),$h(_.return,h,l),T.lanes|=h;break}E=E.next}}else if(_.tag===10)w=_.type===l.type?null:_.child;else if(_.tag===18){if(w=_.return,w===null)throw Error(t(341));w.lanes|=h,T=w.alternate,T!==null&&(T.lanes|=h),$h(w,h,l),w=_.sibling}else w=_.child;if(w!==null)w.return=_;else for(w=_;w!==null;){if(w===l){w=null;break}if(_=w.sibling,_!==null){_.return=w.return,w=_;break}w=w.return}_=w}At(r,l,g.children,h),l=l.child}return l;case 9:return g=l.type,f=l.pendingProps.children,or(l,h),g=sn(g),f=f(g),l.flags|=1,At(r,l,f,h),l.child;case 14:return f=l.type,g=yn(f,l.pendingProps),g=yn(f.type,g),C_(r,l,f,g,h);case 15:return b_(r,l,l.type,l.pendingProps,h);case 17:return f=l.type,g=l.pendingProps,g=l.elementType===f?g:yn(f,g),Ul(r,l),l.tag=1,Ot(f)?(r=!0,Cl(l)):r=!1,or(l,h),m_(l,f,g),ad(l,f,g,h),hd(null,l,f,!0,r,h);case 19:return A_(r,l,h);case 22:return T_(r,l,h)}throw Error(t(156,l.tag))};function nv(r,l){return Ng(r,l)}function kP(r,l,h,f){this.tag=r,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(r,l,h,f){return new kP(r,l,h,f)}function Rd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function EP(r){if(typeof r=="function")return Rd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ae)return 11;if(r===me)return 14}return 2}function Ai(r,l){var h=r.alternate;return h===null?(h=an(r.tag,l,r.key,r.mode),h.elementType=r.elementType,h.type=r.type,h.stateNode=r.stateNode,h.alternate=r,r.alternate=h):(h.pendingProps=l,h.type=r.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=r.flags&14680064,h.childLanes=r.childLanes,h.lanes=r.lanes,h.child=r.child,h.memoizedProps=r.memoizedProps,h.memoizedState=r.memoizedState,h.updateQueue=r.updateQueue,l=r.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=r.sibling,h.index=r.index,h.ref=r.ref,h}function Jl(r,l,h,f,g,_){var w=2;if(f=r,typeof r=="function")Rd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case V:return ds(h.children,g,_,l);case F:w=8,g|=8;break;case G:return r=an(12,h,l,g|2),r.elementType=G,r.lanes=_,r;case Te:return r=an(13,h,l,g),r.elementType=Te,r.lanes=_,r;case De:return r=an(19,h,l,g),r.elementType=De,r.lanes=_,r;case ee:return Zl(h,g,_,l);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case J:w=10;break e;case ie:w=9;break e;case ae:w=11;break e;case me:w=14;break e;case ge:w=16,f=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return l=an(w,h,l,g),l.elementType=r,l.type=f,l.lanes=_,l}function ds(r,l,h,f){return r=an(7,r,f,l),r.lanes=h,r}function Zl(r,l,h,f){return r=an(22,r,f,l),r.elementType=ee,r.lanes=h,r.stateNode={isHidden:!1},r}function Ad(r,l,h){return r=an(6,r,null,l),r.lanes=h,r}function Dd(r,l,h){return l=an(4,r.children!==null?r.children:[],r.key,l),l.lanes=h,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}function PP(r,l,h,f,g){this.tag=l,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oh(0),this.expirationTimes=oh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oh(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Ld(r,l,h,f,g,_,w,T,E){return r=new PP(r,l,h,T,E),l===1?(l=1,_===!0&&(l|=8)):l=0,_=an(3,null,null,l),r.current=_,_.stateNode=r,_.memoizedState={element:f,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gh(_),r}function IP(r,l,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:f==null?null:""+f,children:r,containerInfo:l,implementation:h}}function iv(r){if(!r)return Ci;r=r._reactInternals;e:{if(es(r)!==r||r.tag!==1)throw Error(t(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Ot(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(r.tag===1){var h=r.type;if(Ot(h))return Ry(r,h,l)}return l}function sv(r,l,h,f,g,_,w,T,E){return r=Ld(h,f,!0,r,g,_,w,T,E),r.context=iv(null),h=r.current,f=Dt(),g=Mi(h),_=Gn(f,g),_.callback=l??null,ki(h,_,g),r.current.lanes=g,to(r,g,f),zt(r,f),r}function ec(r,l,h,f){var g=l.current,_=Dt(),w=Mi(g);return h=iv(h),l.context===null?l.context=h:l.pendingContext=h,l=Gn(_,w),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ki(g,l,w),r!==null&&(xn(r,g,w,_),Rl(r,g,w)),w}function tc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function rv(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var h=r.retryLane;r.retryLane=h!==0&&h<l?h:l}}function Nd(r,l){rv(r,l),(r=r.alternate)&&rv(r,l)}function MP(){return null}var ov=typeof reportError=="function"?reportError:function(r){console.error(r)};function Od(r){this._internalRoot=r}nc.prototype.render=Od.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(t(409));ec(r,l,null,null)},nc.prototype.unmount=Od.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;cs(function(){ec(null,r,null,null)}),l[jn]=null}};function nc(r){this._internalRoot=r}nc.prototype.unstable_scheduleHydration=function(r){if(r){var l=Wg();r={blockedOn:null,target:r,priority:l};for(var h=0;h<_i.length&&l!==0&&l<_i[h].priority;h++);_i.splice(h,0,r),h===0&&Kg(r)}};function Fd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ic(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function av(){}function RP(r,l,h,f,g){if(g){if(typeof f=="function"){var _=f;f=function(){var N=tc(w);_.call(N)}}var w=sv(l,f,r,0,null,!1,!1,"",av);return r._reactRootContainer=w,r[jn]=w.current,go(r.nodeType===8?r.parentNode:r),cs(),w}for(;g=r.lastChild;)r.removeChild(g);if(typeof f=="function"){var T=f;f=function(){var N=tc(E);T.call(N)}}var E=Ld(r,0,!1,null,null,!1,!1,"",av);return r._reactRootContainer=E,r[jn]=E.current,go(r.nodeType===8?r.parentNode:r),cs(function(){ec(l,E,h,f)}),E}function sc(r,l,h,f,g){var _=h._reactRootContainer;if(_){var w=_;if(typeof g=="function"){var T=g;g=function(){var E=tc(w);T.call(E)}}ec(l,w,r,g)}else w=RP(h,l,r,g,f);return tc(w)}Ug=function(r){switch(r.tag){case 3:var l=r.stateNode;if(l.current.memoizedState.isDehydrated){var h=eo(l.pendingLanes);h!==0&&(ah(l,h|1),zt(l,tt()),(ke&6)===0&&(hr=tt()+500,bi()))}break;case 13:cs(function(){var f=Kn(r,1);if(f!==null){var g=Dt();xn(f,r,1,g)}}),Nd(r,1)}},lh=function(r){if(r.tag===13){var l=Kn(r,134217728);if(l!==null){var h=Dt();xn(l,r,134217728,h)}Nd(r,134217728)}},jg=function(r){if(r.tag===13){var l=Mi(r),h=Kn(r,l);if(h!==null){var f=Dt();xn(h,r,l,f)}Nd(r,l)}},Wg=function(){return Re},Hg=function(r,l){var h=Re;try{return Re=r,l()}finally{Re=h}},eh=function(r,l,h){switch(l){case"input":if(Ku(r,h),l=h.name,h.type==="radio"&&l!=null){for(h=r;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var f=h[l];if(f!==r&&f.form===r.form){var g=wl(f);if(!g)throw Error(t(90));pg(f),Ku(f,g)}}}break;case"textarea":vg(r,h);break;case"select":l=h.value,l!=null&&js(r,!!h.multiple,l,!1)}},Pg=Pd,Ig=cs;var AP={usingClientEntryPoint:!1,Events:[vo,Js,wl,kg,Eg,Pd]},Do={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DP={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Dg(r),r===null?null:r.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||MP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{nl=rc.inject(DP),Mn=rc}catch{}}return Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AP,Bt.createPortal=function(r,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fd(l))throw Error(t(200));return IP(r,l,null,h)},Bt.createRoot=function(r,l){if(!Fd(r))throw Error(t(299));var h=!1,f="",g=ov;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onRecoverableError!==void 0&&(g=l.onRecoverableError)),l=Ld(r,1,!1,null,null,h,!1,f,g),r[jn]=l.current,go(r.nodeType===8?r.parentNode:r),new Od(l)},Bt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Dg(l),r=r===null?null:r.stateNode,r},Bt.flushSync=function(r){return cs(r)},Bt.hydrate=function(r,l,h){if(!ic(l))throw Error(t(200));return sc(null,r,l,!0,h)},Bt.hydrateRoot=function(r,l,h){if(!Fd(r))throw Error(t(405));var f=h!=null&&h.hydratedSources||null,g=!1,_="",w=ov;if(h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onRecoverableError!==void 0&&(w=h.onRecoverableError)),l=sv(l,null,r,1,h??null,g,!1,_,w),r[jn]=l.current,go(r),f)for(r=0;r<f.length;r++)h=f[r],g=h._getVersion,g=g(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,g]:l.mutableSourceEagerHydrationData.push(h,g);return new nc(l)},Bt.render=function(r,l,h){if(!ic(l))throw Error(t(200));return sc(null,r,l,!1,h)},Bt.unmountComponentAtNode=function(r){if(!ic(r))throw Error(t(40));return r._reactRootContainer?(cs(function(){sc(null,null,r,!1,function(){r._reactRootContainer=null,r[jn]=null})}),!0):!1},Bt.unstable_batchedUpdates=Pd,Bt.unstable_renderSubtreeIntoContainer=function(r,l,h,f){if(!ic(h))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return sc(r,l,h,!1,f)},Bt.version="18.3.1-next-f1338f8080-20240426",Bt}var mv;function oI(){if(mv)return Bd.exports;mv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bd.exports=rI(),Bd.exports}var gv;function aI(){if(gv)return oc;gv=1;var n=oI();return oc.createRoot=n.createRoot,oc.hydrateRoot=n.hydrateRoot,oc}var lI=aI(),yv={};const _v="@firebase/database",vv="1.1.0";let hS="";function cI(n){hS=n}class uI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),gt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:kp(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class hI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return fi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const dS=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new uI(e)}}catch{}return new hI},Ss=dS("localStorage"),dI=dS("sessionStorage");const Cr=new iS("@firebase/database"),fI=(function(){let n=1;return function(){return n++}})(),fS=function(n){const e=NP(n),t=new OP;t.update(e);const i=t.digest();return FP.encodeByteArray(i)},La=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=La.apply(null,i):typeof i=="object"?e+=gt(i):e+=i,e+=" "}return e};let Xo=null,xv=!0;const pI=function(n,e){K(!0,"Can't turn on custom loggers persistently."),Cr.logLevel=Ep.VERBOSE,Xo=Cr.log.bind(Cr)},Et=function(...n){if(xv===!0&&(xv=!1,Xo===null&&dI.get("logging_enabled")===!0&&pI()),Xo){const e=La.apply(null,n);Xo(e)}},Na=function(n){return function(...e){Et(n,...e)}},Af=function(...n){const e="FIREBASE INTERNAL ERROR: "+La(...n);Cr.error(e)},li=function(...n){const e=`FIREBASE FATAL ERROR: ${La(...n)}`;throw Cr.error(e),new Error(e)},Zt=function(...n){const e="FIREBASE WARNING: "+La(...n);Cr.warn(e)},mI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Zt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},pS=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},gI=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Ar="[MIN_NAME]",Rs="[MAX_NAME]",jr=function(n,e){if(n===e)return 0;if(n===Ar||e===Rs)return-1;if(e===Ar||n===Rs)return 1;{const t=wv(n),i=wv(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},yI=function(n,e){return n===e?0:n<e?-1:1},No=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+gt(e))},Dp=function(n){if(typeof n!="object"||n===null)return gt(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=gt(e[i]),t+=":",t+=Dp(n[e[i]]);return t+="}",t},mS=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let s=0;s<t;s+=e)s+e>t?i.push(n.substring(s,t)):i.push(n.substring(s,s+e));return i};function Kt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const gS=function(n){K(!pS(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let s,o,a,c,u;n===0?(o=0,a=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=c+i,a=Math.round(n*Math.pow(2,t-c)-Math.pow(2,t))):(o=0,a=Math.round(n/Math.pow(2,1-i-t))));const d=[];for(u=t;u;u-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(u=e;u;u-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(s?1:0),d.reverse();const p=d.join("");let m="";for(u=0;u<64;u+=8){let y=parseInt(p.substr(u,8),2).toString(16);y.length===1&&(y="0"+y),m=m+y}return m.toLowerCase()},_I=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function xI(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const wI=new RegExp("^-?(0*)\\d{1,10}$"),SI=-2147483648,CI=2147483647,wv=function(n){if(wI.test(n)){const e=Number(n);if(e>=SI&&e<=CI)return e}return null},Oa=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Zt("Exception was thrown by user callback.",t),e},Math.floor(0))}},bI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Qo=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};class TI{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Sn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Zt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class kI{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Zt(e)}}class Pc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Pc.OWNER="owner";const Lp="5",yS="v",_S="s",vS="r",xS="f",wS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,SS="ls",CS="p",Df="ac",bS="websocket",TS="long_polling";class kS{constructor(e,t,i,s,o=!1,a="",c=!1,u=!1,d=null){this.secure=t,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ss.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ss.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function EI(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function ES(n,e,t){K(typeof e=="string","typeof type must == string"),K(typeof t=="object","typeof params must == object");let i;if(e===bS)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===TS)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);EI(n)&&(t.ns=n.namespace);const s=[];return Kt(t,(o,a)=>{s.push(o+"="+a)}),i+s.join("&")}class PI{constructor(){this.counters_={}}incrementCounter(e,t=1){fi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return BP(this.counters_)}}const Wd={},Hd={};function Np(n){const e=n.toString();return Wd[e]||(Wd[e]=new PI),Wd[e]}function II(n,e){const t=n.toString();return Hd[t]||(Hd[t]=e()),Hd[t]}class MI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Oa(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Sv="start",RI="close",AI="pLPCommand",DI="pRTLPCB",PS="id",IS="pw",MS="ser",LI="cb",NI="seg",OI="ts",FI="d",VI="dframe",RS=1870,AS=30,zI=RS-AS,BI=25e3,UI=3e4;class gr{constructor(e,t,i,s,o,a,c){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Na(e),this.stats_=Np(t),this.urlFn=u=>(this.appCheckToken&&(u[Df]=this.appCheckToken),ES(t,TS,u))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new MI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(UI)),gI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Op((...o)=>{const[a,c,u,d,p]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Sv)this.id=c,this.password=u;else if(a===RI)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const i={};i[Sv]="t",i[MS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[LI]=this.scriptTagHolder.uniqueCallbackIdentifier),i[yS]=Lp,this.transportSessionId&&(i[_S]=this.transportSessionId),this.lastSessionId&&(i[SS]=this.lastSessionId),this.applicationId&&(i[CS]=this.applicationId),this.appCheckToken&&(i[Df]=this.appCheckToken),typeof location<"u"&&location.hostname&&wS.test(location.hostname)&&(i[vS]=xS);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gr.forceAllow_=!0}static forceDisallow(){gr.forceDisallow_=!0}static isAvailable(){return gr.forceAllow_?!0:!gr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_I()&&!vI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=gt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=UP(t),s=mS(i,zI);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[VI]="t",i[PS]=e,i[IS]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=gt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Op{constructor(e,t,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=fI(),window[AI+this.uniqueCallbackIdentifier]=e,window[DI+this.uniqueCallbackIdentifier]=t,this.myIFrame=Op.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){Et("frame writing exception"),c.stack&&Et(c.stack),Et(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Et("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[PS]=this.myID,e[IS]=this.myPW,e[MS]=this.currentSerial;let t=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+AS+i.length<=RS;){const a=this.pendingSegs.shift();i=i+"&"+NI+s+"="+a.seg+"&"+OI+s+"="+a.ts+"&"+FI+s+"="+a.d,s++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(i,Math.floor(BI)),o=()=>{clearTimeout(s),i()};this.addTag(e,o)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Et("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}const jI=16384,WI=45e3;let jc=null;typeof MozWebSocket<"u"?jc=MozWebSocket:typeof WebSocket<"u"&&(jc=WebSocket);class Cn{constructor(e,t,i,s,o,a,c){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Na(this.connId),this.stats_=Np(t),this.connURL=Cn.connectionURL_(t,a,c,s,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,s,o){const a={};return a[yS]=Lp,typeof location<"u"&&location.hostname&&wS.test(location.hostname)&&(a[vS]=xS),t&&(a[_S]=t),i&&(a[SS]=i),s&&(a[Df]=s),o&&(a[CS]=o),ES(e,bS,a)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ss.set("previous_websocket_failure",!0);try{let i;jP(),this.mySock=new jc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Cn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&jc!==null&&!Cn.forceDisallow_}static previouslyFailed(){return Ss.isInMemoryStorage||Ss.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ss.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=kp(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=gt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=mS(t,jI);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WI))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Cn.responsesRequiredToBeHealthy=2;Cn.healthyTimeout=3e4;class da{static get ALL_TRANSPORTS(){return[gr,Cn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Cn&&Cn.isAvailable();let i=t&&!Cn.previouslyFailed();if(e.webSocketOnly&&(t||Zt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Cn];else{const s=this.transports_=[];for(const o of da.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);da.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}da.globalTransportInitialized_=!1;const HI=6e4,$I=5e3,KI=10*1024,GI=100*1024,$d="t",Cv="d",YI="s",bv="r",qI="e",Tv="o",kv="a",Ev="n",Pv="p",XI="h";class QI{constructor(e,t,i,s,o,a,c,u,d,p){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=u,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Na("c:"+this.id+":"),this.transportManager_=new da(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Qo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>GI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>KI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if($d in e){const t=e[$d];t===kv?this.upgradeIfSecondaryHealthy_():t===bv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===Tv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=No("t",e),i=No("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Pv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:kv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ev,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=No("t",e),i=No("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=No($d,e);if(Cv in e){const i=e[Cv];if(t===XI){const s={...i};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===Ev){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===YI?this.onConnectionShutdown_(i):t===bv?this.onReset_(i):t===qI?Af("Server Error: "+i):t===Tv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Af("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Lp!==i&&Zt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Qo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(HI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($I))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Pv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ss.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class DS{put(e,t,i,s){}merge(e,t,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class LS{constructor(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const s=this.getInitialEvent(e);s&&t.apply(i,s)}off(e,t,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===t&&(!i||i===s[o].context)){s.splice(o,1);return}}validateEventType_(e){K(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Wc extends LS{static getInstance(){return new Wc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Pp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return K(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Iv=32,Mv=768;class Le{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ie(){return new Le("")}function we(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function $i(n){return n.pieces_.length-n.pieceNum_}function Ve(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Le(n.pieces_,e)}function NS(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function JI(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function OS(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function FS(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Le(e,0)}function ct(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Le)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&t.push(i[s])}return new Le(t,0)}function Se(n){return n.pieceNum_>=n.pieces_.length}function Wt(n,e){const t=we(n),i=we(e);if(t===null)return e;if(t===i)return Wt(Ve(n),Ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Fp(n,e){if($i(n)!==$i(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function bn(n,e){let t=n.pieceNum_,i=e.pieceNum_;if($i(n)>$i(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class ZI{constructor(e,t){this.errorPrefix_=t,this.parts_=OS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=xu(this.parts_[i]);VS(this)}}function e1(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=xu(e),VS(n)}function t1(n){const e=n.parts_.pop();n.byteLength_-=xu(e),n.parts_.length>0&&(n.byteLength_-=1)}function VS(n){if(n.byteLength_>Mv)throw new Error(n.errorPrefix_+"has a key path longer than "+Mv+" bytes ("+n.byteLength_+").");if(n.parts_.length>Iv)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Iv+") or object contains a cycle "+_s(n))}function _s(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}class Vp extends LS{static getInstance(){return new Vp}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return K(e==="visible","Unknown event type: "+e),[this.visible_]}}const Oo=1e3,n1=300*1e3,Rv=30*1e3,i1=1.3,s1=3e4,r1="server_kill",Av=3;class ai extends DS{constructor(e,t,i,s,o,a,c,u){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=ai.nextPersistentConnectionId_++,this.log_=Na("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Oo,this.maxReconnectDelay_=n1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Wc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const s=++this.requestNumber_,o={r:s,a:e,b:t};this.log_(gt(o)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const t=new rS,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;a.s==="ok"?t.resolve(c):t.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),t.promise}listen(e,t,i,s){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:t,query:e,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i},a="q";e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(a,o,c=>{const u=c.d,d=c.s;ai.warnOnListenWarnings_(u,t),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",c),d!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(d,u))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&fi(e,"w")){const i=Rr(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',o=t._path.toString();Zt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||VP(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Rv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=zP(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,t)}sendUnlisten_(e,t,i,s){this.log_("Unlisten on "+e+" for "+t);const o={p:e},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,s){const o={p:t,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,t,i,s){this.putInternal("p",e,t,i,s)}merge(e,t,i,s){this.putInternal("m",e,t,i,s)}putInternal(e,t,i,s,o){this.initConnection_();const a={p:t,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,o=>{this.log_(t+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+gt(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Af("Unrecognized action received from server: "+gt(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Oo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Oo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>s1&&(this.reconnectDelay_=Oo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*i1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+ai.nextConnectionId_++,o=this.lastSessionId;let a=!1,c=null;const u=function(){c?c.close():(a=!0,i())},d=function(m){K(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(m)};this.realtime_={close:u,sendRequest:d};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,y]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?Et("getToken() completed but was canceled"):(Et("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,c=new QI(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,v=>{Zt(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(r1)},o))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&Zt(m),u())}}}interrupt(e){Et("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Et("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Rf(this.interruptReasons_)&&(this.reconnectDelay_=Oo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(o=>Dp(o)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const i=new Le(e).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(t),o.delete(t),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,t){Et("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Av&&(this.reconnectDelay_=Rv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Et("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Av&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+hS.replace(/\./g,"-")]=1,Pp()?e["framework.cordova"]=1:oS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Wc.getInstance().currentlyOnline();return Rf(this.interruptReasons_)&&e}}ai.nextPersistentConnectionId_=0;ai.nextConnectionId_=0;class xe{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new xe(e,t)}}class wu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new xe(Ar,e),s=new xe(Ar,t);return this.compare(i,s)!==0}minPost(){return xe.MIN}}let ac;class zS extends wu{static get __EMPTY_NODE(){return ac}static set __EMPTY_NODE(e){ac=e}compare(e,t){return jr(e.name,t.name)}isDefinedOn(e){throw Aa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return xe.MIN}maxPost(){return new xe(Rs,ac)}makePost(e,t){return K(typeof e=="string","KeyIndex indexValue must always be a string."),new xe(e,ac)}toString(){return".key"}}const br=new zS;class lc{constructor(e,t,i,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=t?i(e.key,t):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class mt{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??mt.RED,this.left=s??Ht.EMPTY_NODE,this.right=o??Ht.EMPTY_NODE}copy(e,t,i,s,o){return new mt(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ht.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,s;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}mt.RED=!0;mt.BLACK=!1;class o1{copy(e,t,i,s,o){return this}insert(e,t,i){return new mt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ht{constructor(e,t=Ht.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ht(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,mt.BLACK,null,null))}remove(e){return new Ht(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,mt.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,s=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new lc(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new lc(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new lc(this.root_,null,this.comparator_,!0,e)}}Ht.EMPTY_NODE=new o1;function a1(n,e){return jr(n.name,e.name)}function zp(n,e){return jr(n,e)}let Lf;function l1(n){Lf=n}const BS=function(n){return typeof n=="number"?"number:"+gS(n):"string:"+n},US=function(n){if(n.isLeafNode()){const e=n.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&fi(e,".sv"),"Priority must be a string or number.")}else K(n===Lf||n.isEmpty(),"priority of unexpected type.");K(n===Lf||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Dv;class pt{static set __childrenNodeConstructor(e){Dv=e}static get __childrenNodeConstructor(){return Dv}constructor(e,t=pt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),US(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Se(e)?this:we(e)===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:pt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=we(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(K(i!==".priority"||$i(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,pt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ve(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+BS(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=gS(this.value_):e+=this.value_,this.lazyHash_=fS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pt.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,s=pt.VALUE_TYPE_ORDER.indexOf(t),o=pt.VALUE_TYPE_ORDER.indexOf(i);return K(s>=0,"Unknown leaf type: "+t),K(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}pt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let jS,WS;function c1(n){jS=n}function u1(n){WS=n}class h1 extends wu{compare(e,t){const i=e.node.getPriority(),s=t.node.getPriority(),o=i.compareTo(s);return o===0?jr(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return xe.MIN}maxPost(){return new xe(Rs,new pt("[PRIORITY-POST]",WS))}makePost(e,t){const i=jS(e);return new xe(t,new pt("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ze=new h1;const d1=Math.log(2);class f1{constructor(e){const t=o=>parseInt(Math.log(o)/d1,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Hc=function(n,e,t,i){n.sort(e);const s=function(u,d){const p=d-u;let m,y;if(p===0)return null;if(p===1)return m=n[u],y=t?t(m):m,new mt(y,m.node,mt.BLACK,null,null);{const v=parseInt(p/2,10)+u,x=s(u,v),S=s(v+1,d);return m=n[v],y=t?t(m):m,new mt(y,m.node,mt.BLACK,x,S)}},o=function(u){let d=null,p=null,m=n.length;const y=function(x,S){const C=m-x,b=m;m-=x;const k=s(C+1,b),I=n[C],D=t?t(I):I;v(new mt(D,I.node,S,null,k))},v=function(x){d?(d.left=x,d=x):(p=x,d=x)};for(let x=0;x<u.count;++x){const S=u.nextBitIsOne(),C=Math.pow(2,u.count-(x+1));S?y(C,mt.BLACK):(y(C,mt.BLACK),y(C,mt.RED))}return p},a=new f1(n.length),c=o(a);return new Ht(i||e,c)};let Kd;const fr={};class ti{static get Default(){return K(fr&&Ze,"ChildrenNode.ts has not been loaded"),Kd=Kd||new ti({".priority":fr},{".priority":Ze}),Kd}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Rr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ht?t:null}hasIndex(e){return fi(this.indexSet_,e.toString())}addIndex(e,t){K(e!==br,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const o=t.getIterator(xe.Wrap);let a=o.getNext();for(;a;)s=s||e.isDefinedOn(a.node),i.push(a),a=o.getNext();let c;s?c=Hc(i,e.getCompare()):c=fr;const u=e.toString(),d={...this.indexSet_};d[u]=e;const p={...this.indexes_};return p[u]=c,new ti(p,d)}addToIndexes(e,t){const i=Bc(this.indexes_,(s,o)=>{const a=Rr(this.indexSet_,o);if(K(a,"Missing index implementation for "+o),s===fr)if(a.isDefinedOn(e.node)){const c=[],u=t.getIterator(xe.Wrap);let d=u.getNext();for(;d;)d.name!==e.name&&c.push(d),d=u.getNext();return c.push(e),Hc(c,a.getCompare())}else return fr;else{const c=t.get(e.name);let u=s;return c&&(u=u.remove(new xe(e.name,c))),u.insert(e,e.node)}});return new ti(i,this.indexSet_)}removeFromIndexes(e,t){const i=Bc(this.indexes_,s=>{if(s===fr)return s;{const o=t.get(e.name);return o?s.remove(new xe(e.name,o)):s}});return new ti(i,this.indexSet_)}}let Fo;class ce{static get EMPTY_NODE(){return Fo||(Fo=new ce(new Ht(zp),null,ti.Default))}constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&US(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fo}updatePriority(e){return this.children_.isEmpty()?this:new ce(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Fo:t}}getChild(e){const t=we(e);return t===null?this:this.getImmediateChild(t).getChild(Ve(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(K(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new xe(e,t);let s,o;t.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Fo:this.priorityNode_;return new ce(s,a,o)}}updateChild(e,t){const i=we(e);if(i===null)return t;{K(we(e)!==".priority"||$i(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ve(e),t);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,s=0,o=!0;if(this.forEachChild(Ze,(a,c)=>{t[a]=c.val(e),i++,o&&ce.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!e&&o&&s<2*i){const a=[];for(const c in t)a[c]=t[c];return a}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+BS(this.getPriority().val())+":"),this.forEachChild(Ze,(t,i)=>{const s=i.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":fS(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new xe(e,t));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new xe(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new xe(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,xe.Wrap);let o=s.peek();for(;o!=null&&t.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,xe.Wrap);let o=s.peek();for(;o!=null&&t.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fa?-1:0}withIndex(e){if(e===br||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new ce(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===br||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(Ze),s=t.getIterator(Ze);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===br?null:this.indexMap_.get(e.toString())}}ce.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class p1 extends ce{constructor(){super(new Ht(zp),ce.EMPTY_NODE,ti.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ce.EMPTY_NODE}isEmpty(){return!1}}const Fa=new p1;Object.defineProperties(xe,{MIN:{value:new xe(Ar,ce.EMPTY_NODE)},MAX:{value:new xe(Rs,Fa)}});zS.__EMPTY_NODE=ce.EMPTY_NODE;pt.__childrenNodeConstructor=ce;l1(Fa);u1(Fa);const m1=!0;function Pt(n,e=null){if(n===null)return ce.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new pt(t,Pt(e))}if(!(n instanceof Array)&&m1){const t=[];let i=!1;if(Kt(n,(a,c)=>{if(a.substring(0,1)!=="."){const u=Pt(c);u.isEmpty()||(i=i||!u.getPriority().isEmpty(),t.push(new xe(a,u)))}}),t.length===0)return ce.EMPTY_NODE;const o=Hc(t,a1,a=>a.name,zp);if(i){const a=Hc(t,Ze.getCompare());return new ce(o,Pt(e),new ti({".priority":a},{".priority":Ze}))}else return new ce(o,Pt(e),ti.Default)}else{let t=ce.EMPTY_NODE;return Kt(n,(i,s)=>{if(fi(n,i)&&i.substring(0,1)!=="."){const o=Pt(s);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(Pt(e))}}c1(Pt);class g1 extends wu{constructor(e){super(),this.indexPath_=e,K(!Se(e)&&we(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),s=this.extractChild(t.node),o=i.compareTo(s);return o===0?jr(e.name,t.name):o}makePost(e,t){const i=Pt(e),s=ce.EMPTY_NODE.updateChild(this.indexPath_,i);return new xe(t,s)}maxPost(){const e=ce.EMPTY_NODE.updateChild(this.indexPath_,Fa);return new xe(Rs,e)}toString(){return OS(this.indexPath_,0).join("/")}}class y1 extends wu{compare(e,t){const i=e.node.compareTo(t.node);return i===0?jr(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return xe.MIN}maxPost(){return xe.MAX}makePost(e,t){const i=Pt(e);return new xe(t,i)}toString(){return".value"}}const _1=new y1;function HS(n){return{type:"value",snapshotNode:n}}function Dr(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function fa(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function pa(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function v1(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}class Bp{constructor(e){this.index_=e}updateChild(e,t,i,s,o,a){K(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(s).equals(i.getChild(s))&&c.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?e.hasChild(t)?a.trackChildChange(fa(t,c)):K(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(Dr(t,i)):a.trackChildChange(pa(t,i,c))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ze,(s,o)=>{t.hasChild(s)||i.trackChildChange(fa(s,o))}),t.isLeafNode()||t.forEachChild(Ze,(s,o)=>{if(e.hasChild(s)){const a=e.getImmediateChild(s);a.equals(o)||i.trackChildChange(pa(s,o,a))}else i.trackChildChange(Dr(s,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ce.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ma{constructor(e){this.indexedFilter_=new Bp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ma.getStartPost_(e),this.endPost_=ma.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,s,o,a){return this.matches(new xe(t,i))||(i=ce.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,s,o,a)}updateFullNode(e,t,i){t.isLeafNode()&&(t=ce.EMPTY_NODE);let s=t.withIndex(this.index_);s=s.updatePriority(ce.EMPTY_NODE);const o=this;return t.forEachChild(Ze,(a,c)=>{o.matches(new xe(a,c))||(s=s.updateImmediateChild(a,ce.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}class x1{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new ma(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,s,o,a){return this.rangedFilter_.matches(new xe(t,i))||(i=ce.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,s,o,a):this.fullLimitUpdateChild_(e,t,i,o,a)}updateFullNode(e,t,i){let s;if(t.isLeafNode()||t.isEmpty())s=ce.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){s=ce.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const c=o.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))s=s.updateImmediateChild(c.name,c.node),a++;else break;else continue}}else{s=t.withIndex(this.index_),s=s.updatePriority(ce.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let a=0;for(;o.hasNext();){const c=o.getNext();a<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?a++:s=s.updateImmediateChild(c.name,ce.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,s,o){let a;if(this.reverse_){const m=this.index_.getCompare();a=(y,v)=>m(v,y)}else a=this.index_.getCompare();const c=e;K(c.numChildren()===this.limit_,"");const u=new xe(t,i),d=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(u);if(c.hasChild(t)){const m=c.getImmediateChild(t);let y=s.getChildAfterChild(this.index_,d,this.reverse_);for(;y!=null&&(y.name===t||c.hasChild(y.name));)y=s.getChildAfterChild(this.index_,y,this.reverse_);const v=y==null?1:a(y,u);if(p&&!i.isEmpty()&&v>=0)return o?.trackChildChange(pa(t,i,m)),c.updateImmediateChild(t,i);{o?.trackChildChange(fa(t,m));const S=c.updateImmediateChild(t,ce.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(o?.trackChildChange(Dr(y.name,y.node)),S.updateImmediateChild(y.name,y.node)):S}}else return i.isEmpty()?e:p&&a(d,u)>=0?(o!=null&&(o.trackChildChange(fa(d.name,d.node)),o.trackChildChange(Dr(t,i))),c.updateImmediateChild(t,i).updateImmediateChild(d.name,ce.EMPTY_NODE)):e}}class Up{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ar}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Rs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ze}copy(){const e=new Up;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function w1(n){return n.loadsAllData()?new Bp(n.getIndex()):n.hasLimit()?new x1(n):new ma(n)}function Lv(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Ze?t="$priority":n.index_===_1?t="$value":n.index_===br?t="$key":(K(n.index_ instanceof g1,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=gt(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=gt(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+gt(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=gt(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+gt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Nv(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Ze&&(e.i=n.index_.toString()),e}class $c extends DS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(K(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Na("p:rest:"),this.listens_={}}listen(e,t,i,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const a=$c.getListenId_(e,i),c={};this.listens_[a]=c;const u=Lv(e._queryParams);this.restRequest_(o+".json",u,(d,p)=>{let m=p;if(d===404&&(m=null,d=null),d===null&&this.onDataUpdate_(o,m,!1,i),Rr(this.listens_,a)===c){let y;d?d===401?y="permission_denied":y="rest_error:"+d:y="ok",s(y,null)}})}unlisten(e,t){const i=$c.getListenId_(e,t);delete this.listens_[i]}get(e){const t=Lv(e._queryParams),i=e._path.toString(),s=new rS;return this.restRequest_(i+".json",t,(o,a)=>{let c=a;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(i,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(t.auth=s.accessToken),o&&o.token&&(t.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Br(t);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=kp(c.responseText)}catch{Zt("Failed to parse JSON response for "+a+": "+c.responseText)}i(null,u)}else c.status!==401&&c.status!==404&&Zt("Got unsuccessful REST response for "+a+" Status: "+c.status),i(c.status);i=null}},c.open("GET",a,!0),c.send()})}}class S1{constructor(){this.rootNode_=ce.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Kc(){return{value:null,children:new Map}}function $S(n,e,t){if(Se(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=we(e);n.children.has(i)||n.children.set(i,Kc());const s=n.children.get(i);e=Ve(e),$S(s,e,t)}}function Nf(n,e,t){n.value!==null?t(e,n.value):C1(n,(i,s)=>{const o=new Le(e.toString()+"/"+i);Nf(s,o,t)})}function C1(n,e){n.children.forEach((t,i)=>{e(i,t)})}class b1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&Kt(this.last_,(i,s)=>{t[i]=t[i]-s}),this.last_=e,t}}const Ov=10*1e3,T1=30*1e3,k1=300*1e3;class E1{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new b1(e);const i=Ov+(T1-Ov)*Math.random();Qo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Kt(e,(s,o)=>{o>0&&fi(this.statsToReport_,s)&&(t[s]=o,i=!0)}),i&&this.server_.reportStats(t),Qo(this.reportStats_.bind(this),Math.floor(Math.random()*2*k1))}}var Tn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Tn||(Tn={}));function KS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function jp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Gc{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Tn.ACK_USER_WRITE,this.source=KS()}operationForChild(e){if(Se(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Le(e));return new Gc(Ie(),t,this.revert)}}else return K(we(this.path)===e,"operationForChild called for unrelated child."),new Gc(Ve(this.path),this.affectedTree,this.revert)}}class ga{constructor(e,t){this.source=e,this.path=t,this.type=Tn.LISTEN_COMPLETE}operationForChild(e){return Se(this.path)?new ga(this.source,Ie()):new ga(this.source,Ve(this.path))}}class As{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Tn.OVERWRITE}operationForChild(e){return Se(this.path)?new As(this.source,Ie(),this.snap.getImmediateChild(e)):new As(this.source,Ve(this.path),this.snap)}}class ya{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Tn.MERGE}operationForChild(e){if(Se(this.path)){const t=this.children.subtree(new Le(e));return t.isEmpty()?null:t.value?new As(this.source,Ie(),t.value):new ya(this.source,Ie(),t)}else return K(we(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ya(this.source,Ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ds{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;const t=we(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class P1{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function I1(n,e,t,i){const s=[],o=[];return e.forEach(a=>{a.type==="child_changed"&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(v1(a.childName,a.snapshotNode))}),Vo(n,s,"child_removed",e,i,t),Vo(n,s,"child_added",e,i,t),Vo(n,s,"child_moved",o,i,t),Vo(n,s,"child_changed",e,i,t),Vo(n,s,"value",e,i,t),s}function Vo(n,e,t,i,s,o){const a=i.filter(c=>c.type===t);a.sort((c,u)=>R1(n,c,u)),a.forEach(c=>{const u=M1(n,c,o);s.forEach(d=>{d.respondsTo(c.type)&&e.push(d.createEvent(u,n.query_))})})}function M1(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function R1(n,e,t){if(e.childName==null||t.childName==null)throw Aa("Should only compare child_ events.");const i=new xe(e.childName,e.snapshotNode),s=new xe(t.childName,t.snapshotNode);return n.index_.compare(i,s)}function Su(n,e){return{eventCache:n,serverCache:e}}function Jo(n,e,t,i){return Su(new Ds(e,t,i),n.serverCache)}function GS(n,e,t,i){return Su(n.eventCache,new Ds(e,t,i))}function Of(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ls(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Gd;const A1=()=>(Gd||(Gd=new Ht(yI)),Gd);class Ue{static fromObject(e){let t=new Ue(null);return Kt(e,(i,s)=>{t=t.set(new Le(i),s)}),t}constructor(e,t=A1()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Ie(),value:this.value};if(Se(e))return null;{const i=we(e),s=this.children.get(i);if(s!==null){const o=s.findRootMostMatchingPathAndValue(Ve(e),t);return o!=null?{path:ct(new Le(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{const t=we(e),i=this.children.get(t);return i!==null?i.subtree(Ve(e)):new Ue(null)}}set(e,t){if(Se(e))return new Ue(t,this.children);{const i=we(e),o=(this.children.get(i)||new Ue(null)).set(Ve(e),t),a=this.children.insert(i,o);return new Ue(this.value,a)}}remove(e){if(Se(e))return this.children.isEmpty()?new Ue(null):new Ue(null,this.children);{const t=we(e),i=this.children.get(t);if(i){const s=i.remove(Ve(e));let o;return s.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,s),this.value===null&&o.isEmpty()?new Ue(null):new Ue(this.value,o)}else return this}}get(e){if(Se(e))return this.value;{const t=we(e),i=this.children.get(t);return i?i.get(Ve(e)):null}}setTree(e,t){if(Se(e))return t;{const i=we(e),o=(this.children.get(i)||new Ue(null)).setTree(Ve(e),t);let a;return o.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,o),new Ue(this.value,a)}}fold(e){return this.fold_(Ie(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((s,o)=>{i[s]=o.fold_(ct(e,s),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Ie(),t)}findOnPath_(e,t,i){const s=this.value?i(t,this.value):!1;if(s)return s;if(Se(e))return null;{const o=we(e),a=this.children.get(o);return a?a.findOnPath_(Ve(e),ct(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ie(),t)}foreachOnPath_(e,t,i){if(Se(e))return this;{this.value&&i(t,this.value);const s=we(e),o=this.children.get(s);return o?o.foreachOnPath_(Ve(e),ct(t,s),i):new Ue(null)}}foreach(e){this.foreach_(Ie(),e)}foreach_(e,t){this.children.inorderTraversal((i,s)=>{s.foreach_(ct(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Pn{constructor(e){this.writeTree_=e}static empty(){return new Pn(new Ue(null))}}function Zo(n,e,t){if(Se(e))return new Pn(new Ue(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let o=i.value;const a=Wt(s,e);return o=o.updateChild(a,t),new Pn(n.writeTree_.set(s,o))}else{const s=new Ue(t),o=n.writeTree_.setTree(e,s);return new Pn(o)}}}function Fv(n,e,t){let i=n;return Kt(t,(s,o)=>{i=Zo(i,ct(e,s),o)}),i}function Vv(n,e){if(Se(e))return Pn.empty();{const t=n.writeTree_.setTree(e,new Ue(null));return new Pn(t)}}function Ff(n,e){return zs(n,e)!=null}function zs(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Wt(t.path,e)):null}function zv(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Ze,(i,s)=>{e.push(new xe(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new xe(i,s.value))}),e}function Wi(n,e){if(Se(e))return n;{const t=zs(n,e);return t!=null?new Pn(new Ue(t)):new Pn(n.writeTree_.subtree(e))}}function Vf(n){return n.writeTree_.isEmpty()}function Lr(n,e){return YS(Ie(),n.writeTree_,e)}function YS(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(K(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=YS(ct(n,s),o,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(ct(n,".priority"),i)),t}}function Hp(n,e){return JS(e,n)}function D1(n,e,t,i,s){K(i>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:s}),s&&(n.visibleWrites=Zo(n.visibleWrites,e,t)),n.lastWriteId=i}function L1(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function N1(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);K(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let s=i.visible,o=!1,a=n.allWrites.length-1;for(;s&&a>=0;){const c=n.allWrites[a];c.visible&&(a>=t&&O1(c,i.path)?s=!1:bn(i.path,c.path)&&(o=!0)),a--}if(s){if(o)return F1(n),!0;if(i.snap)n.visibleWrites=Vv(n.visibleWrites,i.path);else{const c=i.children;Kt(c,u=>{n.visibleWrites=Vv(n.visibleWrites,ct(i.path,u))})}return!0}else return!1}function O1(n,e){if(n.snap)return bn(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&bn(ct(n.path,t),e))return!0;return!1}function F1(n){n.visibleWrites=qS(n.allWrites,V1,Ie()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function V1(n){return n.visible}function qS(n,e,t){let i=Pn.empty();for(let s=0;s<n.length;++s){const o=n[s];if(e(o)){const a=o.path;let c;if(o.snap)bn(t,a)?(c=Wt(t,a),i=Zo(i,c,o.snap)):bn(a,t)&&(c=Wt(a,t),i=Zo(i,Ie(),o.snap.getChild(c)));else if(o.children){if(bn(t,a))c=Wt(t,a),i=Fv(i,c,o.children);else if(bn(a,t))if(c=Wt(a,t),Se(c))i=Fv(i,Ie(),o.children);else{const u=Rr(o.children,we(c));if(u){const d=u.getChild(Ve(c));i=Zo(i,Ie(),d)}}}else throw Aa("WriteRecord should have .snap or .children")}}return i}function XS(n,e,t,i,s){if(!i&&!s){const o=zs(n.visibleWrites,e);if(o!=null)return o;{const a=Wi(n.visibleWrites,e);if(Vf(a))return t;if(t==null&&!Ff(a,Ie()))return null;{const c=t||ce.EMPTY_NODE;return Lr(a,c)}}}else{const o=Wi(n.visibleWrites,e);if(!s&&Vf(o))return t;if(!s&&t==null&&!Ff(o,Ie()))return null;{const a=function(d){return(d.visible||s)&&(!i||!~i.indexOf(d.writeId))&&(bn(d.path,e)||bn(e,d.path))},c=qS(n.allWrites,a,e),u=t||ce.EMPTY_NODE;return Lr(c,u)}}}function z1(n,e,t){let i=ce.EMPTY_NODE;const s=zs(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ze,(o,a)=>{i=i.updateImmediateChild(o,a)}),i;if(t){const o=Wi(n.visibleWrites,e);return t.forEachChild(Ze,(a,c)=>{const u=Lr(Wi(o,new Le(a)),c);i=i.updateImmediateChild(a,u)}),zv(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const o=Wi(n.visibleWrites,e);return zv(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function B1(n,e,t,i,s){K(i||s,"Either existingEventSnap or existingServerSnap must exist");const o=ct(e,t);if(Ff(n.visibleWrites,o))return null;{const a=Wi(n.visibleWrites,o);return Vf(a)?s.getChild(t):Lr(a,s.getChild(t))}}function U1(n,e,t,i){const s=ct(e,t),o=zs(n.visibleWrites,s);if(o!=null)return o;if(i.isCompleteForChild(t)){const a=Wi(n.visibleWrites,s);return Lr(a,i.getNode().getImmediateChild(t))}else return null}function j1(n,e){return zs(n.visibleWrites,e)}function W1(n,e,t,i,s,o,a){let c;const u=Wi(n.visibleWrites,e),d=zs(u,Ie());if(d!=null)c=d;else if(t!=null)c=Lr(u,t);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){const p=[],m=a.getCompare(),y=o?c.getReverseIteratorFrom(i,a):c.getIteratorFrom(i,a);let v=y.getNext();for(;v&&p.length<s;)m(v,i)!==0&&p.push(v),v=y.getNext();return p}else return[]}function H1(){return{visibleWrites:Pn.empty(),allWrites:[],lastWriteId:-1}}function Yc(n,e,t,i){return XS(n.writeTree,n.treePath,e,t,i)}function $p(n,e){return z1(n.writeTree,n.treePath,e)}function Bv(n,e,t,i){return B1(n.writeTree,n.treePath,e,t,i)}function qc(n,e){return j1(n.writeTree,ct(n.treePath,e))}function $1(n,e,t,i,s,o){return W1(n.writeTree,n.treePath,e,t,i,s,o)}function Kp(n,e,t){return U1(n.writeTree,n.treePath,e,t)}function QS(n,e){return JS(ct(n.treePath,e),n.writeTree)}function JS(n,e){return{treePath:n,writeTree:e}}class K1{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;K(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),K(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const o=s.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,pa(i,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,fa(i,s.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,Dr(i,e.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,pa(i,e.snapshotNode,s.oldSnap));else throw Aa("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}class G1{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const ZS=new G1;class Gp{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Ds(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Kp(this.writes_,e,i)}}getChildAfterChild(e,t,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ls(this.viewCache_),o=$1(this.writes_,s,t,1,i,e);return o.length===0?null:o[0]}}function Y1(n){return{filter:n}}function q1(n,e){K(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function X1(n,e,t,i,s){const o=new K1;let a,c;if(t.type===Tn.OVERWRITE){const d=t;d.source.fromUser?a=zf(n,e,d.path,d.snap,i,s,o):(K(d.source.fromServer,"Unknown source."),c=d.source.tagged||e.serverCache.isFiltered()&&!Se(d.path),a=Xc(n,e,d.path,d.snap,i,s,c,o))}else if(t.type===Tn.MERGE){const d=t;d.source.fromUser?a=J1(n,e,d.path,d.children,i,s,o):(K(d.source.fromServer,"Unknown source."),c=d.source.tagged||e.serverCache.isFiltered(),a=Bf(n,e,d.path,d.children,i,s,c,o))}else if(t.type===Tn.ACK_USER_WRITE){const d=t;d.revert?a=tM(n,e,d.path,i,s,o):a=Z1(n,e,d.path,d.affectedTree,i,s,o)}else if(t.type===Tn.LISTEN_COMPLETE)a=eM(n,e,t.path,i,o);else throw Aa("Unknown operation type: "+t.type);const u=o.getChanges();return Q1(e,a,u),{viewCache:a,changes:u}}function Q1(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Of(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(HS(Of(e)))}}function eC(n,e,t,i,s,o){const a=e.eventCache;if(qc(i,t)!=null)return e;{let c,u;if(Se(t))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=Ls(e),p=d instanceof ce?d:ce.EMPTY_NODE,m=$p(i,p);c=n.filter.updateFullNode(e.eventCache.getNode(),m,o)}else{const d=Yc(i,Ls(e));c=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const d=we(t);if(d===".priority"){K($i(t)===1,"Can't have a priority with additional path components");const p=a.getNode();u=e.serverCache.getNode();const m=Bv(i,t,p,u);m!=null?c=n.filter.updatePriority(p,m):c=a.getNode()}else{const p=Ve(t);let m;if(a.isCompleteForChild(d)){u=e.serverCache.getNode();const y=Bv(i,t,a.getNode(),u);y!=null?m=a.getNode().getImmediateChild(d).updateChild(p,y):m=a.getNode().getImmediateChild(d)}else m=Kp(i,d,e.serverCache);m!=null?c=n.filter.updateChild(a.getNode(),d,m,p,s,o):c=a.getNode()}}return Jo(e,c,a.isFullyInitialized()||Se(t),n.filter.filtersNodes())}}function Xc(n,e,t,i,s,o,a,c){const u=e.serverCache;let d;const p=a?n.filter:n.filter.getIndexedFilter();if(Se(t))d=p.updateFullNode(u.getNode(),i,null);else if(p.filtersNodes()&&!u.isFiltered()){const v=u.getNode().updateChild(t,i);d=p.updateFullNode(u.getNode(),v,null)}else{const v=we(t);if(!u.isCompleteForPath(t)&&$i(t)>1)return e;const x=Ve(t),C=u.getNode().getImmediateChild(v).updateChild(x,i);v===".priority"?d=p.updatePriority(u.getNode(),C):d=p.updateChild(u.getNode(),v,C,x,ZS,null)}const m=GS(e,d,u.isFullyInitialized()||Se(t),p.filtersNodes()),y=new Gp(s,m,o);return eC(n,m,t,s,y,c)}function zf(n,e,t,i,s,o,a){const c=e.eventCache;let u,d;const p=new Gp(s,e,o);if(Se(t))d=n.filter.updateFullNode(e.eventCache.getNode(),i,a),u=Jo(e,d,!0,n.filter.filtersNodes());else{const m=we(t);if(m===".priority")d=n.filter.updatePriority(e.eventCache.getNode(),i),u=Jo(e,d,c.isFullyInitialized(),c.isFiltered());else{const y=Ve(t),v=c.getNode().getImmediateChild(m);let x;if(Se(y))x=i;else{const S=p.getCompleteChild(m);S!=null?NS(y)===".priority"&&S.getChild(FS(y)).isEmpty()?x=S:x=S.updateChild(y,i):x=ce.EMPTY_NODE}if(v.equals(x))u=e;else{const S=n.filter.updateChild(c.getNode(),m,x,y,p,a);u=Jo(e,S,c.isFullyInitialized(),n.filter.filtersNodes())}}}return u}function Uv(n,e){return n.eventCache.isCompleteForChild(e)}function J1(n,e,t,i,s,o,a){let c=e;return i.foreach((u,d)=>{const p=ct(t,u);Uv(e,we(p))&&(c=zf(n,c,p,d,s,o,a))}),i.foreach((u,d)=>{const p=ct(t,u);Uv(e,we(p))||(c=zf(n,c,p,d,s,o,a))}),c}function jv(n,e,t){return t.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Bf(n,e,t,i,s,o,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,d;Se(t)?d=i:d=new Ue(null).setTree(t,i);const p=e.serverCache.getNode();return d.children.inorderTraversal((m,y)=>{if(p.hasChild(m)){const v=e.serverCache.getNode().getImmediateChild(m),x=jv(n,v,y);u=Xc(n,u,new Le(m),x,s,o,a,c)}}),d.children.inorderTraversal((m,y)=>{const v=!e.serverCache.isCompleteForChild(m)&&y.value===null;if(!p.hasChild(m)&&!v){const x=e.serverCache.getNode().getImmediateChild(m),S=jv(n,x,y);u=Xc(n,u,new Le(m),S,s,o,a,c)}}),u}function Z1(n,e,t,i,s,o,a){if(qc(s,t)!=null)return e;const c=e.serverCache.isFiltered(),u=e.serverCache;if(i.value!=null){if(Se(t)&&u.isFullyInitialized()||u.isCompleteForPath(t))return Xc(n,e,t,u.getNode().getChild(t),s,o,c,a);if(Se(t)){let d=new Ue(null);return u.getNode().forEachChild(br,(p,m)=>{d=d.set(new Le(p),m)}),Bf(n,e,t,d,s,o,c,a)}else return e}else{let d=new Ue(null);return i.foreach((p,m)=>{const y=ct(t,p);u.isCompleteForPath(y)&&(d=d.set(p,u.getNode().getChild(y)))}),Bf(n,e,t,d,s,o,c,a)}}function eM(n,e,t,i,s){const o=e.serverCache,a=GS(e,o.getNode(),o.isFullyInitialized()||Se(t),o.isFiltered());return eC(n,a,t,i,ZS,s)}function tM(n,e,t,i,s,o){let a;if(qc(i,t)!=null)return e;{const c=new Gp(i,e,s),u=e.eventCache.getNode();let d;if(Se(t)||we(t)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=Yc(i,Ls(e));else{const m=e.serverCache.getNode();K(m instanceof ce,"serverChildren would be complete if leaf node"),p=$p(i,m)}p=p,d=n.filter.updateFullNode(u,p,o)}else{const p=we(t);let m=Kp(i,p,e.serverCache);m==null&&e.serverCache.isCompleteForChild(p)&&(m=u.getImmediateChild(p)),m!=null?d=n.filter.updateChild(u,p,m,Ve(t),c,o):e.eventCache.getNode().hasChild(p)?d=n.filter.updateChild(u,p,ce.EMPTY_NODE,Ve(t),c,o):d=u,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Yc(i,Ls(e)),a.isLeafNode()&&(d=n.filter.updateFullNode(d,a,o)))}return a=e.serverCache.isFullyInitialized()||qc(i,Ie())!=null,Jo(e,d,a,n.filter.filtersNodes())}}class nM{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Bp(i.getIndex()),o=w1(i);this.processor_=Y1(o);const a=t.serverCache,c=t.eventCache,u=s.updateFullNode(ce.EMPTY_NODE,a.getNode(),null),d=o.updateFullNode(ce.EMPTY_NODE,c.getNode(),null),p=new Ds(u,a.isFullyInitialized(),s.filtersNodes()),m=new Ds(d,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=Su(m,p),this.eventGenerator_=new P1(this.query_)}get query(){return this.query_}}function iM(n){return n.viewCache_.serverCache.getNode()}function sM(n,e){const t=Ls(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Se(e)&&!t.getImmediateChild(we(e)).isEmpty())?t.getChild(e):null}function Wv(n){return n.eventRegistrations_.length===0}function rM(n,e){n.eventRegistrations_.push(e)}function Hv(n,e,t){const i=[];if(t){K(e==null,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(t,s);a&&i.push(a)})}if(e){let s=[];for(let o=0;o<n.eventRegistrations_.length;++o){const a=n.eventRegistrations_[o];if(!a.matches(e))s.push(a);else if(e.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(o+1));break}}n.eventRegistrations_=s}else n.eventRegistrations_=[];return i}function $v(n,e,t,i){e.type===Tn.MERGE&&e.source.queryId!==null&&(K(Ls(n.viewCache_),"We should always have a full cache before handling merges"),K(Of(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,o=X1(n.processor_,s,e,t,i);return q1(n.processor_,o.viewCache),K(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,tC(n,o.changes,o.viewCache.eventCache.getNode(),null)}function oM(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ze,(o,a)=>{i.push(Dr(o,a))}),t.isFullyInitialized()&&i.push(HS(t.getNode())),tC(n,i,t.getNode(),e)}function tC(n,e,t,i){const s=i?[i]:n.eventRegistrations_;return I1(n.eventGenerator_,e,t,s)}let Qc;class aM{constructor(){this.views=new Map}}function lM(n){K(!Qc,"__referenceConstructor has already been defined"),Qc=n}function cM(){return K(Qc,"Reference.ts has not been loaded"),Qc}function uM(n){return n.views.size===0}function Yp(n,e,t,i){const s=e.source.queryId;if(s!==null){const o=n.views.get(s);return K(o!=null,"SyncTree gave us an op for an invalid query."),$v(o,e,t,i)}else{let o=[];for(const a of n.views.values())o=o.concat($v(a,e,t,i));return o}}function hM(n,e,t,i,s){const o=e._queryIdentifier,a=n.views.get(o);if(!a){let c=Yc(t,s?i:null),u=!1;c?u=!0:i instanceof ce?(c=$p(t,i),u=!1):(c=ce.EMPTY_NODE,u=!1);const d=Su(new Ds(c,u,!1),new Ds(i,s,!1));return new nM(e,d)}return a}function dM(n,e,t,i,s,o){const a=hM(n,e,i,s,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,a),rM(a,t),oM(a,t)}function fM(n,e,t,i){const s=e._queryIdentifier,o=[];let a=[];const c=Ki(n);if(s==="default")for(const[u,d]of n.views.entries())a=a.concat(Hv(d,t,i)),Wv(d)&&(n.views.delete(u),d.query._queryParams.loadsAllData()||o.push(d.query));else{const u=n.views.get(s);u&&(a=a.concat(Hv(u,t,i)),Wv(u)&&(n.views.delete(s),u.query._queryParams.loadsAllData()||o.push(u.query)))}return c&&!Ki(n)&&o.push(new(cM())(e._repo,e._path)),{removed:o,events:a}}function nC(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Tr(n,e){let t=null;for(const i of n.views.values())t=t||sM(i,e);return t}function iC(n,e){if(e._queryParams.loadsAllData())return Cu(n);{const i=e._queryIdentifier;return n.views.get(i)}}function sC(n,e){return iC(n,e)!=null}function Ki(n){return Cu(n)!=null}function Cu(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Jc;function pM(n){K(!Jc,"__referenceConstructor has already been defined"),Jc=n}function mM(){return K(Jc,"Reference.ts has not been loaded"),Jc}let gM=1;class Kv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ue(null),this.pendingWriteTree_=H1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yM(n,e,t,i,s){return D1(n.pendingWriteTree_,e,t,i,s),s?Va(n,new As(KS(),e,t)):[]}function yr(n,e,t=!1){const i=L1(n.pendingWriteTree_,e);if(N1(n.pendingWriteTree_,e)){let o=new Ue(null);return i.snap!=null?o=o.set(Ie(),!0):Kt(i.children,a=>{o=o.set(new Le(a),!0)}),Va(n,new Gc(i.path,o,t))}else return[]}function bu(n,e,t){return Va(n,new As(jp(),e,t))}function _M(n,e,t){const i=Ue.fromObject(t);return Va(n,new ya(jp(),e,i))}function vM(n,e){return Va(n,new ga(jp(),e))}function xM(n,e,t){const i=qp(n,t);if(i){const s=Xp(i),o=s.path,a=s.queryId,c=Wt(o,e),u=new ga(Wp(a),c);return Qp(n,o,u)}else return[]}function Uf(n,e,t,i,s=!1){const o=e._path,a=n.syncPointTree_.get(o);let c=[];if(a&&(e._queryIdentifier==="default"||sC(a,e))){const u=fM(a,e,t,i);uM(a)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const d=u.removed;if(c=u.events,!s){const p=d.findIndex(y=>y._queryParams.loadsAllData())!==-1,m=n.syncPointTree_.findOnPath(o,(y,v)=>Ki(v));if(p&&!m){const y=n.syncPointTree_.subtree(o);if(!y.isEmpty()){const v=CM(y);for(let x=0;x<v.length;++x){const S=v[x],C=S.query,b=lC(n,S);n.listenProvider_.startListening(ea(C),Zc(n,C),b.hashFn,b.onComplete)}}}!m&&d.length>0&&!i&&(p?n.listenProvider_.stopListening(ea(e),null):d.forEach(y=>{const v=n.queryToTagMap.get(Tu(y));n.listenProvider_.stopListening(ea(y),v)}))}bM(n,d)}return c}function wM(n,e,t,i){const s=qp(n,i);if(s!=null){const o=Xp(s),a=o.path,c=o.queryId,u=Wt(a,e),d=new As(Wp(c),u,t);return Qp(n,a,d)}else return[]}function SM(n,e,t,i){const s=qp(n,i);if(s){const o=Xp(s),a=o.path,c=o.queryId,u=Wt(a,e),d=Ue.fromObject(t),p=new ya(Wp(c),u,d);return Qp(n,a,p)}else return[]}function Gv(n,e,t,i=!1){const s=e._path;let o=null,a=!1;n.syncPointTree_.foreachOnPath(s,(y,v)=>{const x=Wt(y,s);o=o||Tr(v,x),a=a||Ki(v)});let c=n.syncPointTree_.get(s);c?(a=a||Ki(c),o=o||Tr(c,Ie())):(c=new aM,n.syncPointTree_=n.syncPointTree_.set(s,c));let u;o!=null?u=!0:(u=!1,o=ce.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((v,x)=>{const S=Tr(x,Ie());S&&(o=o.updateImmediateChild(v,S))}));const d=sC(c,e);if(!d&&!e._queryParams.loadsAllData()){const y=Tu(e);K(!n.queryToTagMap.has(y),"View does not exist, but we have a tag");const v=TM();n.queryToTagMap.set(y,v),n.tagToQueryMap.set(v,y)}const p=Hp(n.pendingWriteTree_,s);let m=dM(c,e,t,p,o,u);if(!d&&!a&&!i){const y=iC(c,e);m=m.concat(kM(n,e,y))}return m}function rC(n,e,t){const s=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(a,c)=>{const u=Wt(a,e),d=Tr(c,u);if(d)return d});return XS(s,e,o,t,!0)}function Va(n,e){return oC(e,n.syncPointTree_,null,Hp(n.pendingWriteTree_,Ie()))}function oC(n,e,t,i){if(Se(n.path))return aC(n,e,t,i);{const s=e.get(Ie());t==null&&s!=null&&(t=Tr(s,Ie()));let o=[];const a=we(n.path),c=n.operationForChild(a),u=e.children.get(a);if(u&&c){const d=t?t.getImmediateChild(a):null,p=QS(i,a);o=o.concat(oC(c,u,d,p))}return s&&(o=o.concat(Yp(s,n,i,t))),o}}function aC(n,e,t,i){const s=e.get(Ie());t==null&&s!=null&&(t=Tr(s,Ie()));let o=[];return e.children.inorderTraversal((a,c)=>{const u=t?t.getImmediateChild(a):null,d=QS(i,a),p=n.operationForChild(a);p&&(o=o.concat(aC(p,c,u,d)))}),s&&(o=o.concat(Yp(s,n,i,t))),o}function lC(n,e){const t=e.query,i=Zc(n,t);return{hashFn:()=>(iM(e)||ce.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?xM(n,t._path,i):vM(n,t._path);{const o=xI(s,t);return Uf(n,t,null,o)}}}}function Zc(n,e){const t=Tu(e);return n.queryToTagMap.get(t)}function Tu(n){return n._path.toString()+"$"+n._queryIdentifier}function qp(n,e){return n.tagToQueryMap.get(e)}function Xp(n){const e=n.indexOf("$");return K(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Le(n.substr(0,e))}}function Qp(n,e,t){const i=n.syncPointTree_.get(e);K(i,"Missing sync point for query tag that we're tracking");const s=Hp(n.pendingWriteTree_,e);return Yp(i,t,s,null)}function CM(n){return n.fold((e,t,i)=>{if(t&&Ki(t))return[Cu(t)];{let s=[];return t&&(s=nC(t)),Kt(i,(o,a)=>{s=s.concat(a)}),s}})}function ea(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(mM())(n._repo,n._path):n}function bM(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const s=Tu(i),o=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(o)}}}function TM(){return gM++}function kM(n,e,t){const i=e._path,s=Zc(n,e),o=lC(n,t),a=n.listenProvider_.startListening(ea(e),s,o.hashFn,o.onComplete),c=n.syncPointTree_.subtree(i);if(s)K(!Ki(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((d,p,m)=>{if(!Se(d)&&p&&Ki(p))return[Cu(p).query];{let y=[];return p&&(y=y.concat(nC(p).map(v=>v.query))),Kt(m,(v,x)=>{y=y.concat(x)}),y}});for(let d=0;d<u.length;++d){const p=u[d];n.listenProvider_.stopListening(ea(p),Zc(n,p))}}return a}class Jp{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Jp(t)}node(){return this.node_}}class Zp{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ct(this.path_,e);return new Zp(this.syncTree_,t)}node(){return rC(this.syncTree_,this.path_)}}const EM=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Yv=function(n,e,t){if(!n||typeof n!="object")return n;if(K(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return PM(n[".sv"],e,t);if(typeof n[".sv"]=="object")return IM(n[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},PM=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:K(!1,"Unexpected server value: "+n)}},IM=function(n,e,t){n.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&K(!1,"Unexpected increment value: "+i);const s=e.node();if(K(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const a=s.getValue();return typeof a!="number"?i:a+i},MM=function(n,e,t,i){return em(e,new Zp(t,n),i)},RM=function(n,e,t){return em(n,new Jp(e),t)};function em(n,e,t){const i=n.getPriority().val(),s=Yv(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const a=n,c=Yv(a.getValue(),e,t);return c!==a.getValue()||s!==a.getPriority().val()?new pt(c,Pt(s)):n}else{const a=n;return o=a,s!==a.getPriority().val()&&(o=o.updatePriority(new pt(s))),a.forEachChild(Ze,(c,u)=>{const d=em(u,e.getImmediateChild(c),t);d!==u&&(o=o.updateImmediateChild(c,d))}),o}}class tm{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function nm(n,e){let t=e instanceof Le?e:new Le(e),i=n,s=we(t);for(;s!==null;){const o=Rr(i.node.children,s)||{children:{},childCount:0};i=new tm(s,i,o),t=Ve(t),s=we(t)}return i}function Wr(n){return n.node.value}function cC(n,e){n.node.value=e,jf(n)}function uC(n){return n.node.childCount>0}function AM(n){return Wr(n)===void 0&&!uC(n)}function ku(n,e){Kt(n.node.children,(t,i)=>{e(new tm(t,n,i))})}function hC(n,e,t,i){t&&e(n),ku(n,s=>{hC(s,e,!0)})}function DM(n,e,t){let i=n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function za(n){return new Le(n.parent===null?n.name:za(n.parent)+"/"+n.name)}function jf(n){n.parent!==null&&LM(n.parent,n.name,n)}function LM(n,e,t){const i=AM(t),s=fi(n.node.children,e);i&&s?(delete n.node.children[e],n.node.childCount--,jf(n)):!i&&!s&&(n.node.children[e]=t.node,n.node.childCount++,jf(n))}const NM=/[\[\].#$\/\u0000-\u001F\u007F]/,OM=/[\[\].#$\u0000-\u001F\u007F]/,Yd=10*1024*1024,dC=function(n){return typeof n=="string"&&n.length!==0&&!NM.test(n)},fC=function(n){return typeof n=="string"&&n.length!==0&&!OM.test(n)},FM=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fC(n)},pC=function(n,e,t){const i=t instanceof Le?new ZI(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+_s(i));if(typeof e=="function")throw new Error(n+"contains a function "+_s(i)+" with contents = "+e.toString());if(pS(e))throw new Error(n+"contains "+e.toString()+" "+_s(i));if(typeof e=="string"&&e.length>Yd/3&&xu(e)>Yd)throw new Error(n+"contains a string greater than "+Yd+" utf8 bytes "+_s(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(Kt(e,(a,c)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!dC(a)))throw new Error(n+" contains an invalid key ("+a+") "+_s(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);e1(i,a),pC(n,c,i),t1(i)}),s&&o)throw new Error(n+' contains ".value" child '+_s(i)+" in addition to actual children.")}},mC=function(n,e,t,i){if(!fC(t))throw new Error(sS(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},VM=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mC(n,e,t)},zM=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!dC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!FM(t))throw new Error(sS(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class BM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gC(n,e){let t=null;for(let i=0;i<e.length;i++){const s=e[i],o=s.getPath();t!==null&&!Fp(o,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(s)}t&&n.eventLists_.push(t)}function yC(n,e,t){gC(n,t),_C(n,i=>Fp(i,e))}function Bs(n,e,t){gC(n,t),_C(n,i=>bn(i,e)||bn(e,i))}function _C(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];if(s){const o=s.path;e(o)?(UM(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function UM(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();Xo&&Et("event: "+t.toString()),Oa(i)}}}const jM="repo_interrupt",WM=25;class HM{constructor(e,t,i,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new BM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Kc(),this.transactionQueueTree_=new tm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $M(n,e,t){if(n.stats_=Np(n.repoInfo_),n.forceRestClient_||bI())n.server_=new $c(n.repoInfo_,(i,s,o,a)=>{qv(n,i,s,o,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Xv(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{gt(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new ai(n.repoInfo_,e,(i,s,o,a)=>{qv(n,i,s,o,a)},i=>{Xv(n,i)},i=>{GM(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=II(n.repoInfo_,()=>new E1(n.stats_,n.server_)),n.infoData_=new S1,n.infoSyncTree_=new Kv({startListening:(i,s,o,a)=>{let c=[];const u=n.infoData_.getNode(i._path);return u.isEmpty()||(c=bu(n.infoSyncTree_,i._path,u),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),im(n,"connected",!1),n.serverSyncTree_=new Kv({startListening:(i,s,o,a)=>(n.server_.listen(i,o,s,(c,u)=>{const d=a(c,u);Bs(n.eventQueue_,i._path,d)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}function KM(n){const t=n.infoData_.getNode(new Le(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function vC(n){return EM({timestamp:KM(n)})}function qv(n,e,t,i,s){n.dataUpdateCount++;const o=new Le(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let a=[];if(s)if(i){const u=Bc(t,d=>Pt(d));a=SM(n.serverSyncTree_,o,u,s)}else{const u=Pt(t);a=wM(n.serverSyncTree_,o,u,s)}else if(i){const u=Bc(t,d=>Pt(d));a=_M(n.serverSyncTree_,o,u)}else{const u=Pt(t);a=bu(n.serverSyncTree_,o,u)}let c=o;a.length>0&&(c=rm(n,o)),Bs(n.eventQueue_,c,a)}function Xv(n,e){im(n,"connected",e),e===!1&&qM(n)}function GM(n,e){Kt(e,(t,i)=>{im(n,t,i)})}function im(n,e,t){const i=new Le("/.info/"+e),s=Pt(t);n.infoData_.updateSnapshot(i,s);const o=bu(n.infoSyncTree_,i,s);Bs(n.eventQueue_,i,o)}function YM(n){return n.nextWriteId_++}function qM(n){xC(n,"onDisconnectEvents");const e=vC(n),t=Kc();Nf(n.onDisconnect_,Ie(),(s,o)=>{const a=MM(s,o,n.serverSyncTree_,e);$S(t,s,a)});let i=[];Nf(t,Ie(),(s,o)=>{i=i.concat(bu(n.serverSyncTree_,s,o));const a=tR(n,s);rm(n,a)}),n.onDisconnect_=Kc(),Bs(n.eventQueue_,Ie(),i)}function XM(n,e,t){let i;we(e._path)===".info"?i=Gv(n.infoSyncTree_,e,t):i=Gv(n.serverSyncTree_,e,t),yC(n.eventQueue_,e._path,i)}function QM(n,e,t){let i;we(e._path)===".info"?i=Uf(n.infoSyncTree_,e,t):i=Uf(n.serverSyncTree_,e,t),yC(n.eventQueue_,e._path,i)}function JM(n){n.persistentConnection_&&n.persistentConnection_.interrupt(jM)}function xC(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Et(t,...e)}function wC(n,e,t){return rC(n.serverSyncTree_,e,t)||ce.EMPTY_NODE}function sm(n,e=n.transactionQueueTree_){if(e||Eu(n,e),Wr(e)){const t=CC(n,e);K(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&ZM(n,za(e),t)}else uC(e)&&ku(e,t=>{sm(n,t)})}function ZM(n,e,t){const i=t.map(d=>d.currentWriteId),s=wC(n,e,i);let o=s;const a=s.hash();for(let d=0;d<t.length;d++){const p=t[d];K(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const m=Wt(e,p.path);o=o.updateChild(m,p.currentOutputSnapshotRaw)}const c=o.val(!0),u=e;n.server_.put(u.toString(),c,d=>{xC(n,"transaction put response",{path:u.toString(),status:d});let p=[];if(d==="ok"){const m=[];for(let y=0;y<t.length;y++)t[y].status=2,p=p.concat(yr(n.serverSyncTree_,t[y].currentWriteId)),t[y].onComplete&&m.push(()=>t[y].onComplete(null,!0,t[y].currentOutputSnapshotResolved)),t[y].unwatcher();Eu(n,nm(n.transactionQueueTree_,e)),sm(n,n.transactionQueueTree_),Bs(n.eventQueue_,e,p);for(let y=0;y<m.length;y++)Oa(m[y])}else{if(d==="datastale")for(let m=0;m<t.length;m++)t[m].status===3?t[m].status=4:t[m].status=0;else{Zt("transaction at "+u.toString()+" failed: "+d);for(let m=0;m<t.length;m++)t[m].status=4,t[m].abortReason=d}rm(n,e)}},a)}function rm(n,e){const t=SC(n,e),i=za(t),s=CC(n,t);return eR(n,s,i),i}function eR(n,e,t){if(e.length===0)return;const i=[];let s=[];const a=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const u=e[c],d=Wt(t,u.path);let p=!1,m;if(K(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)p=!0,m=u.abortReason,s=s.concat(yr(n.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=WM)p=!0,m="maxretry",s=s.concat(yr(n.serverSyncTree_,u.currentWriteId,!0));else{const y=wC(n,u.path,a);u.currentInputSnapshot=y;const v=e[c].update(y.val());if(v!==void 0){pC("transaction failed: Data returned ",v,u.path);let x=Pt(v);typeof v=="object"&&v!=null&&fi(v,".priority")||(x=x.updatePriority(y.getPriority()));const C=u.currentWriteId,b=vC(n),k=RM(x,y,b);u.currentOutputSnapshotRaw=x,u.currentOutputSnapshotResolved=k,u.currentWriteId=YM(n),a.splice(a.indexOf(C),1),s=s.concat(yM(n.serverSyncTree_,u.path,k,u.currentWriteId,u.applyLocally)),s=s.concat(yr(n.serverSyncTree_,C,!0))}else p=!0,m="nodata",s=s.concat(yr(n.serverSyncTree_,u.currentWriteId,!0))}Bs(n.eventQueue_,t,s),s=[],p&&(e[c].status=2,(function(y){setTimeout(y,Math.floor(0))})(e[c].unwatcher),e[c].onComplete&&(m==="nodata"?i.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):i.push(()=>e[c].onComplete(new Error(m),!1,null))))}Eu(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)Oa(i[c]);sm(n,n.transactionQueueTree_)}function SC(n,e){let t,i=n.transactionQueueTree_;for(t=we(e);t!==null&&Wr(i)===void 0;)i=nm(i,t),e=Ve(e),t=we(e);return i}function CC(n,e){const t=[];return bC(n,e,t),t.sort((i,s)=>i.order-s.order),t}function bC(n,e,t){const i=Wr(e);if(i)for(let s=0;s<i.length;s++)t.push(i[s]);ku(e,s=>{bC(n,s,t)})}function Eu(n,e){const t=Wr(e);if(t){let i=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[i]=t[s],i++);t.length=i,cC(e,t.length>0?t:void 0)}ku(e,i=>{Eu(n,i)})}function tR(n,e){const t=za(SC(n,e)),i=nm(n.transactionQueueTree_,e);return DM(i,s=>{qd(n,s)}),qd(n,i),hC(i,s=>{qd(n,s)}),t}function qd(n,e){const t=Wr(e);if(t){const i=[];let s=[],o=-1;for(let a=0;a<t.length;a++)t[a].status===3||(t[a].status===1?(K(o===a-1,"All SENT items should be at beginning of queue."),o=a,t[a].status=3,t[a].abortReason="set"):(K(t[a].status===0,"Unexpected transaction status in abort"),t[a].unwatcher(),s=s.concat(yr(n.serverSyncTree_,t[a].currentWriteId,!0)),t[a].onComplete&&i.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?cC(e,void 0):t.length=o+1,Bs(n.eventQueue_,za(e),s);for(let a=0;a<i.length;a++)Oa(i[a])}}function nR(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let s=t[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function iR(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Zt(`Invalid query segment '${t}' in query '${n}'`)}return e}const Qv=function(n,e){const t=sR(n),i=t.namespace;t.domain==="firebase.com"&&li(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&li("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||mI();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new kS(t.host,t.secure,i,s,e,"",i!==t.subdomain),path:new Le(t.pathString)}},sR=function(n){let e="",t="",i="",s="",o="",a=!0,c="https",u=443;if(typeof n=="string"){let d=n.indexOf("//");d>=0&&(c=n.substring(0,d-1),n=n.substring(d+2));let p=n.indexOf("/");p===-1&&(p=n.length);let m=n.indexOf("?");m===-1&&(m=n.length),e=n.substring(0,Math.min(p,m)),p<m&&(s=nR(n.substring(p,m)));const y=iR(n.substring(Math.min(n.length,m)));d=e.indexOf(":"),d>=0?(a=c==="https"||c==="wss",u=parseInt(e.substring(d+1),10)):d=e.length;const v=e.slice(0,d);if(v.toLowerCase()==="localhost")t="localhost";else if(v.split(".").length<=2)t=v;else{const x=e.indexOf(".");i=e.substring(0,x).toLowerCase(),t=e.substring(x+1),o=i}"ns"in y&&(o=y.ns)}return{host:e,port:u,domain:t,subdomain:i,secure:a,scheme:c,pathString:s,namespace:o}};class rR{constructor(e,t,i,s){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+gt(this.snapshot.exportVal())}}class oR{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class aR{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return K(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class om{constructor(e,t,i,s){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=s}get key(){return Se(this._path)?null:NS(this._path)}get ref(){return new Xi(this._repo,this._path)}get _queryIdentifier(){const e=Nv(this._queryParams),t=Dp(e);return t==="{}"?"default":t}get _queryObject(){return Nv(this._queryParams)}isEqual(e){if(e=fn(e),!(e instanceof om))return!1;const t=this._repo===e._repo,i=Fp(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+JI(this._path)}}class Xi extends om{constructor(e,t){super(e,t,new Up,!1)}get parent(){const e=FS(this._path);return e===null?null:new Xi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class eu{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Le(e),i=Wf(this.ref,e);return new eu(this._node.getChild(t),i,Ze)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new eu(s,Wf(this.ref,i),Ze)))}hasChild(e){const t=new Le(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Jv(n,e){return n=fn(n),n._checkNotDeleted("ref"),e!==void 0?Wf(n._root,e):n._root}function Wf(n,e){return n=fn(n),we(n._path)===null?VM("child","path",e):mC("child","path",e),new Xi(n._repo,ct(n._path,e))}class am{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new rR("value",this,new eu(e.snapshotNode,new Xi(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new oR(this,e,t):null}matches(e){return e instanceof am?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function lR(n,e,t,i,s){const o=new aR(t,void 0),a=new am(o);return XM(n._repo,n,a),()=>QM(n._repo,n,a)}function Zv(n,e,t,i){return lR(n,"value",e)}lM(Xi);pM(Xi);const cR="FIREBASE_DATABASE_EMULATOR_HOST",Hf={};let uR=!1;function hR(n,e,t,i){const s=e.lastIndexOf(":"),o=e.substring(0,s),a=Da(o);n.repoInfo_=new kS(e,a,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function dR(n,e,t,i,s){let o=i||n.options.databaseURL;o===void 0&&(n.options.projectId||li("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Et("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let a=Qv(o,s),c=a.repoInfo,u;typeof process<"u"&&yv&&(u=yv[cR]),u?(o=`http://${u}?ns=${c.namespace}`,a=Qv(o,s),c=a.repoInfo):a.repoInfo.secure;const d=new kI(n.name,n.options,e);zM("Invalid Firebase Database URL",a),Se(a.path)||li("Database URL must point to the root of a Firebase Database (not including a child path).");const p=pR(c,n,d,new TI(n,t));return new mR(p,n)}function fR(n,e){const t=Hf[e];(!t||t[n.key]!==n)&&li(`Database ${e}(${n.repoInfo_}) has already been deleted.`),JM(n),delete t[n.key]}function pR(n,e,t,i){let s=Hf[e.name];s||(s={},Hf[e.name]=s);let o=s[n.toURLString()];return o&&li("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new HM(n,uR,t,i),s[n.toURLString()]=o,o}class mR{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($M(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xi(this._repo,Ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(fR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&li("Cannot call "+e+" on a deleted database.")}}function gR(n=aS(),e){const t=Ip(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=WP("database");i&&yR(t,...i)}return t}function yR(n,e,t,i={}){n=fn(n),n._checkNotDeleted("useEmulator");const s=`${e}:${t}`,o=n._repoInternal;if(n._instanceStarted){if(s===n._repoInternal.repoInfo_.host&&Uc(i,o.repoInfo_.emulatorOptions))return;li("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&li('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Pc(Pc.OWNER);else if(i.mockUserToken){const c=typeof i.mockUserToken=="string"?i.mockUserToken:HP(i.mockUserToken,n.app.options.projectId);a=new Pc(c)}Da(e)&&(lS(e),cS("Database",!0)),hR(o,s,i,a)}function _R(n){cI(Ur),If(new Mf("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return dR(i,s,o,t)},"PUBLIC").setMultipleInstances(!0)),zc(_v,vv,n),zc(_v,vv,"esm2020")}ai.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};ai.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};_R();const vR="modulepreload",xR=function(n){return"/RangeFinder-Dashboard/"+n},e0={},wR=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){let u=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");s=u(t.map(d=>{if(d=xR(d),d in e0)return;e0[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":vR,p||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),p)return new Promise((v,x)=>{y.addEventListener("load",v),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function TC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SR=TC,kC=new Mp("auth","Firebase",TC());const tu=new iS("@firebase/auth");function CR(n,...e){tu.logLevel<=Ep.WARN&&tu.warn(`Auth (${Ur}): ${n}`,...e)}function Ic(n,...e){tu.logLevel<=Ep.ERROR&&tu.error(`Auth (${Ur}): ${n}`,...e)}function Un(n,...e){throw cm(n,...e)}function In(n,...e){return cm(n,...e)}function lm(n,e,t){const i={...SR(),[e]:t};return new Mp("auth","Firebase",i).create(e,{appName:n.name})}function ks(n){return lm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bR(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Un(n,"argument-error"),lm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return kC.create(n,...e)}function he(n,e,...t){if(!n)throw cm(e,...t)}function ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ic(e),new Error(e)}function ci(n,e){n||ni(e)}function $f(){return typeof self<"u"&&self.location?.href||""}function TR(){return t0()==="http:"||t0()==="https:"}function t0(){return typeof self<"u"&&self.location?.protocol||null}function kR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TR()||$P()||"connection"in navigator)?navigator.onLine:!0}function ER(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Ba{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=Pp()||oS()}get(){return kR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function um(n,e){ci(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class EC{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const PR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const IR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MR=new Ba(3e4,6e4);function hm(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Hr(n,e,t,i,s={}){return PC(n,s,async()=>{let o={},a={};i&&(e==="GET"?a=i:o={body:JSON.stringify(i)});const c=Br({key:n.config.apiKey,...a}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:u,...o};return XP()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Da(n.emulatorConfig.host)&&(d.credentials="include"),EC.fetch()(await IC(n,n.config.apiHost,t,c),d)})}async function PC(n,e,t){n._canInitEmulator=!1;const i={...PR,...e};try{const s=new AR(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw cc(n,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const c=o.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw cc(n,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw cc(n,"email-already-in-use",a);if(u==="USER_DISABLED")throw cc(n,"user-disabled",a);const p=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw lm(n,p,d);Un(n,p)}}catch(s){if(s instanceof Rp)throw s;Un(n,"network-request-failed",{message:String(s)})}}async function RR(n,e,t,i,s={}){const o=await Hr(n,e,t,i,s);return"mfaPendingCredential"in o&&Un(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function IC(n,e,t,i){const s=`${e}${t}?${i}`,o=n,a=o.config.emulator?um(n.config,s):`${n.config.apiScheme}://${s}`;return IR.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}class AR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(In(this.auth,"network-request-failed")),MR.get())})}}function cc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=In(n,e,i);return s.customData._tokenResponse=t,s}async function DR(n,e){return Hr(n,"POST","/v1/accounts:delete",e)}async function nu(n,e){return Hr(n,"POST","/v1/accounts:lookup",e)}function ta(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LR(n,e=!1){const t=fn(n),i=await t.getIdToken(e),s=dm(i);he(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o?.sign_in_provider;return{claims:s,token:i,authTime:ta(Xd(s.auth_time)),issuedAtTime:ta(Xd(s.iat)),expirationTime:ta(Xd(s.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Xd(n){return Number(n)*1e3}function dm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const s=GP(t);return s?JSON.parse(s):(Ic("Failed to decode base64 JWT payload"),null)}catch(s){return Ic("Caught error parsing JWT payload as JSON",s?.toString()),null}}function n0(n){const e=dm(n);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _a(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Rp&&NR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function NR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class OR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Kf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ta(this.lastLoginAt),this.creationTime=ta(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function iu(n){const e=n.auth,t=await n.getIdToken(),i=await _a(n,nu(e,{idToken:t}));he(i?.users.length,e,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?MC(s.providerUserInfo):[],a=VR(n.providerData,o),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!a?.length,d=c?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Kf(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,p)}async function FR(n){const e=fn(n);await iu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VR(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function MC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function zR(n,e){const t=await PC(n,{},async()=>{const i=Br({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,a=await IC(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:i};return n.emulatorConfig&&Da(n.emulatorConfig.host)&&(u.credentials="include"),EC.fetch()(a,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function BR(n,e){return Hr(n,"POST","/v2/accounts:revokeToken",hm(n,e))}class kr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){he(e.length!==0,"internal-error");const t=n0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:o}=await zR(e,t);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:o}=t,a=new kr;return i&&(he(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(he(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),o&&(he(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kr,this.toJSON())}_performRefresh(){return ni("not implemented")}}function Li(n,e){he(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class kn{constructor({uid:e,auth:t,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new OR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await _a(this,this.stsTokenManager.getToken(this.auth,e));return he(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return LR(this,e)}reload(){return FR(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await iu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await _a(this,DR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,a=t.photoURL??void 0,c=t.tenantId??void 0,u=t._redirectEventId??void 0,d=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:m,emailVerified:y,isAnonymous:v,providerData:x,stsTokenManager:S}=t;he(m&&S,e,"internal-error");const C=kr.fromJSON(this.name,S);he(typeof m=="string",e,"internal-error"),Li(i,e.name),Li(s,e.name),he(typeof y=="boolean",e,"internal-error"),he(typeof v=="boolean",e,"internal-error"),Li(o,e.name),Li(a,e.name),Li(c,e.name),Li(u,e.name),Li(d,e.name),Li(p,e.name);const b=new kn({uid:m,auth:e,email:s,emailVerified:y,displayName:i,isAnonymous:v,photoURL:a,phoneNumber:o,tenantId:c,stsTokenManager:C,createdAt:d,lastLoginAt:p});return x&&Array.isArray(x)&&(b.providerData=x.map(k=>({...k}))),u&&(b._redirectEventId=u),b}static async _fromIdTokenResponse(e,t,i=!1){const s=new kr;s.updateFromServerResponse(t);const o=new kn({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await iu(o),o}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];he(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?MC(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!o?.length,c=new kr;c.updateFromIdToken(i);const u=new kn({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Kf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(u,d),u}}const i0=new Map;function ii(n){ci(n instanceof Function,"Expected a class definition");let e=i0.get(n);return e?(ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,i0.set(n,e),e)}class RC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}RC.type="NONE";const s0=RC;function Mc(n,e,t){return`firebase:${n}:${e}:${t}`}class Er{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Mc(this.userKey,s.apiKey,o),this.fullPersistenceKey=Mc("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await nu(this.auth,{idToken:e}).catch(()=>{});return t?kn._fromGetAccountInfoResponse(this.auth,t,e):null}return kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Er(ii(s0),e,i);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||ii(s0);const a=Mc(i,e.config.apiKey,e.name);let c=null;for(const d of t)try{const p=await d._get(a);if(p){let m;if(typeof p=="string"){const y=await nu(e,{idToken:p}).catch(()=>{});if(!y)break;m=await kn._fromGetAccountInfoResponse(e,y,p)}else m=kn._fromJSON(e,p);d!==o&&(c=m),o=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Er(o,e,i):(o=u[0],c&&await o._set(a,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new Er(o,e,i))}}function r0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FC(e))return"Blackberry";if(VC(e))return"Webos";if(DC(e))return"Safari";if((e.includes("chrome/")||LC(e))&&!e.includes("edge/"))return"Chrome";if(OC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function AC(n=en()){return/firefox\//i.test(n)}function DC(n=en()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LC(n=en()){return/crios\//i.test(n)}function NC(n=en()){return/iemobile/i.test(n)}function OC(n=en()){return/android/i.test(n)}function FC(n=en()){return/blackberry/i.test(n)}function VC(n=en()){return/webos/i.test(n)}function fm(n=en()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UR(n=en()){return fm(n)&&!!window.navigator?.standalone}function jR(){return qP()&&document.documentMode===10}function zC(n=en()){return fm(n)||OC(n)||VC(n)||FC(n)||/windows phone/i.test(n)||NC(n)}function BC(n,e=[]){let t;switch(n){case"Browser":t=r0(en());break;case"Worker":t=`${r0(en())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ur}/${i}`}class WR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((a,c)=>{try{const u=e(o);a(u)}catch(u){c(u)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function HR(n,e={}){return Hr(n,"GET","/v2/passwordPolicy",hm(n,e))}const $R=6;class KR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??$R,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class GR{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o0(this),this.idTokenSubscription=new o0(this),this.beforeStateQueue=new WR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ii(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Er.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nu(this,{idToken:e}),i=await kn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,a=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await iu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ER()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(ks(this));const t=e?fn(e):null;return t&&he(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HR(this),t=new KR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mp("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await BR(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ii(e)||this._popupRedirectResolver;he(t,this,"argument-error"),this.redirectPersistenceManager=await Er.create(this,[ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,i,s);return()=>{a=!0,u()}}else{const u=e.addObserver(t);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&CR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pu(n){return fn(n)}class o0{constructor(e){this.auth=e,this.observer=null,this.addObserver=KP(t=>this.observer=t)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YR(n){pm=n}function qR(n){return pm.loadJS(n)}function XR(){return pm.gapiScript}function QR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function JR(n,e){const t=Ip(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Uc(o,e??{}))return s;Un(s,"already-initialized")}return t.initialize({options:e})}function ZR(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ii);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function eA(n,e,t){const i=Pu(n);he(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=UC(e),{host:a,port:c}=tA(e),u=c===null?"":`:${c}`,d={url:`${o}//${a}${u}/`},p=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){he(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),he(Uc(d,i.config.emulator)&&Uc(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Da(a)?(lS(`${o}//${a}${u}`),cS("Auth",!0)):nA()}function UC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function tA(n){const e=UC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:a0(i.substr(o.length+1))}}else{const[o,a]=i.split(":");return{host:o,port:a0(a)}}}function a0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function nA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class jC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,t){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function Pr(n,e){return RR(n,"POST","/v1/accounts:signInWithIdp",hm(n,e))}const iA="http://localhost";class Ns extends jC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...o}=t;if(!i||!s)return null;const a=new Ns(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Pr(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Pr(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pr(e,t)}buildRequest(){const e={requestUri:iA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Br(t)}return e}}class mm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ua extends mm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Oi extends Ua{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";class ei extends Ua{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ns._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ei.credential(t,i)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";class Fi extends Ua{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";class Vi extends Ua{constructor(){super("twitter.com")}static credential(e,t){return Ns._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Vi.credential(t,i)}catch{return null}}}Vi.TWITTER_SIGN_IN_METHOD="twitter.com";Vi.PROVIDER_ID="twitter.com";class Nr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const o=await kn._fromIdTokenResponse(e,i,s),a=l0(i);return new Nr({user:o,providerId:a,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=l0(i);return new Nr({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function l0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class su extends Rp{constructor(e,t,i,s){super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,su.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new su(e,t,i,s)}}function WC(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?su._fromErrorAndOperation(n,o,e,i):o})}async function sA(n,e,t=!1){const i=await _a(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Nr._forOperation(n,"link",i)}async function rA(n,e,t=!1){const{auth:i}=n;if(Sn(i.app))return Promise.reject(ks(i));const s="reauthenticate";try{const o=await _a(n,WC(i,s,e,n),t);he(o.idToken,i,"internal-error");const a=dm(o.idToken);he(a,i,"internal-error");const{sub:c}=a;return he(n.uid===c,i,"user-mismatch"),Nr._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Un(i,"user-mismatch"),o}}async function oA(n,e,t=!1){if(Sn(n.app))return Promise.reject(ks(n));const i="signIn",s=await WC(n,i,e),o=await Nr._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(o.user),o}function aA(n,e,t,i){return fn(n).onIdTokenChanged(e,t,i)}function lA(n,e,t){return fn(n).beforeAuthStateChanged(e,t)}function cA(n,e,t,i){return fn(n).onAuthStateChanged(e,t,i)}function uA(n){return fn(n).signOut()}const ru="__sak";class HC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ru,"1"),this.storage.removeItem(ru),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const hA=1e3,dA=10;class $C extends HC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!t&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);jR()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,dA):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},hA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$C.type="LOCAL";const fA=$C;class KC extends HC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}KC.type="SESSION";const GC=KC;function pA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Iu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Iu(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:o}=t.data,a=this.handlersMap[s];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(a).map(async d=>d(t.origin,o)),u=await pA(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Iu.receivers=[];function gm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}class mA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,u)=>{const d=gm("",20);s.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(m){const y=m;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Fn(){return window}function gA(n){Fn().location.href=n}function YC(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function yA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _A(){return navigator?.serviceWorker?.controller||null}function vA(){return YC()?self:null}const qC="firebaseLocalStorageDb",xA=1,ou="firebaseLocalStorage",XC="fbase_key";class ja{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Mu(n,e){return n.transaction([ou],e?"readwrite":"readonly").objectStore(ou)}function wA(){const n=indexedDB.deleteDatabase(qC);return new ja(n).toPromise()}function Gf(){const n=indexedDB.open(qC,xA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ou,{keyPath:XC})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ou)?e(i):(i.close(),await wA(),e(await Gf()))})})}async function c0(n,e,t){const i=Mu(n,!0).put({[XC]:e,value:t});return new ja(i).toPromise()}async function SA(n,e){const t=Mu(n,!1).get(e),i=await new ja(t).toPromise();return i===void 0?null:i.value}function u0(n,e){const t=Mu(n,!0).delete(e);return new ja(t).toPromise()}const CA=800,bA=3;class QC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>bA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Iu._getInstance(vA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yA(),!this.activeServiceWorker)return;this.sender=new mA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_A()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gf();return await c0(e,ru,"1"),await u0(e,ru),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>c0(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>SA(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>u0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Mu(s,!1).getAll();return new ja(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QC.type="LOCAL";const TA=QC;new Ba(3e4,6e4);function JC(n,e){return e?ii(e):(he(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class ym extends jC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kA(n){return oA(n.auth,new ym(n),n.bypassAuthState)}function EA(n){const{auth:e,user:t}=n;return he(t,e,"internal-error"),rA(t,new ym(n),n.bypassAuthState)}async function PA(n){const{auth:e,user:t}=n;return he(t,e,"internal-error"),sA(t,new ym(n),n.bypassAuthState)}class ZC{constructor(e,t,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kA;case"linkViaPopup":case"linkViaRedirect":return PA;case"reauthViaPopup":case"reauthViaRedirect":return EA;default:Un(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const IA=new Ba(2e3,1e4);async function MA(n,e,t){if(Sn(n.app))return Promise.reject(In(n,"operation-not-supported-in-this-environment"));const i=Pu(n);bR(n,e,mm);const s=JC(i,t);return new Cs(i,"signInViaPopup",e,s).executeNotNull()}class Cs extends ZC{constructor(e,t,i,s,o){super(e,t,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IA.get())};e()}}Cs.currentPopupAction=null;const RA="pendingRedirect",Rc=new Map;class AA extends ZC{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Rc.get(this.auth._key());if(!e){try{const i=await DA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Rc.set(this.auth._key(),e)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DA(n,e){const t=OA(e),i=NA(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function LA(n,e){Rc.set(n._key(),e)}function NA(n){return ii(n._redirectPersistence)}function OA(n){return Mc(RA,n.config.apiKey,n.name)}async function FA(n,e,t=!1){if(Sn(n.app))return Promise.reject(ks(n));const i=Pu(n),s=JC(i,e),a=await new AA(i,s,t).execute();return a&&!t&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}const VA=600*1e3;class zA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!eb(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(In(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VA&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(e))}saveEventToCache(e){this.cachedEventUids.add(h0(e)),this.lastProcessedEventTime=Date.now()}}function h0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function eb({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function BA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eb(n);default:return!1}}async function UA(n,e={}){return Hr(n,"GET","/v1/projects",e)}const jA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WA=/^https?/;async function HA(n){if(n.config.emulator)return;const{authorizedDomains:e}=await UA(n);for(const t of e)try{if($A(t))return}catch{}Un(n,"unauthorized-domain")}function $A(n){const e=$f(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!WA.test(t))return!1;if(jA.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}const KA=new Ba(3e4,6e4);function d0(){const n=Fn().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function GA(n){return new Promise((e,t)=>{function i(){d0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d0(),t(In(n,"network-request-failed"))},timeout:KA.get()})}if(Fn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fn().gapi?.load)i();else{const s=QR("iframefcb");return Fn()[s]=()=>{gapi.load?i():t(In(n,"network-request-failed"))},qR(`${XR()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw Ac=null,e})}let Ac=null;function YA(n){return Ac=Ac||GA(n),Ac}const qA=new Ba(5e3,15e3),XA="__/auth/iframe",QA="emulator/auth/iframe",JA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eD(n){const e=n.config;he(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?um(e,QA):`https://${n.config.authDomain}/${XA}`,i={apiKey:e.apiKey,appName:n.name,v:Ur},s=ZA.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Br(i).slice(1)}`}async function tD(n){const e=await YA(n),t=Fn().gapi;return he(t,n,"internal-error"),e.open({where:document.body,url:eD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JA,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const a=In(n,"network-request-failed"),c=Fn().setTimeout(()=>{o(a)},qA.get());function u(){Fn().clearTimeout(c),s(i)}i.ping(u).then(u,()=>{o(a)})}))}const nD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iD=500,sD=600,rD="_blank",oD="http://localhost";class f0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aD(n,e,t,i=iD,s=sD){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u={...nD,width:i.toString(),height:s.toString(),top:o,left:a},d=en().toLowerCase();t&&(c=LC(d)?rD:t),AC(d)&&(e=e||oD,u.scrollbars="yes");const p=Object.entries(u).reduce((y,[v,x])=>`${y}${v}=${x},`,"");if(UR(d)&&c!=="_self")return lD(e||"",c),new f0(null);const m=window.open(e||"",c,p);he(m,n,"popup-blocked");try{m.focus()}catch{}return new f0(m)}function lD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const cD="__/auth/handler",uD="emulator/auth/handler",hD=encodeURIComponent("fac");async function p0(n,e,t,i,s,o){he(n.config.authDomain,n,"auth-domain-config-required"),he(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ur,eventId:s};if(e instanceof mm){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",Rf(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))a[p]=m}if(e instanceof Ua){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}n.tenantId&&(a.tid=n.tenantId);const c=a;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await n._getAppCheckToken(),d=u?`#${hD}=${encodeURIComponent(u)}`:"";return`${dD(n)}?${Br(c).slice(1)}${d}`}function dD({config:n}){return n.emulator?um(n,uD):`https://${n.authDomain}/${cD}`}const Qd="webStorageSupport";class fD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GC,this._completeRedirectFn=FA,this._overrideRedirectResult=LA}async _openPopup(e,t,i,s){ci(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await p0(e,t,i,$f(),s);return aD(e,o,gm())}async _openRedirect(e,t,i,s){await this._originValidation(e);const o=await p0(e,t,i,$f(),s);return gA(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(ci(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await tD(e),i=new zA(e);return t.register("authEvent",s=>(he(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qd,{type:Qd},s=>{const o=s?.[0]?.[Qd];o!==void 0&&t(!!o),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=HA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zC()||DC()||fm()}}const pD=fD;var m0="@firebase/auth",g0="1.11.1";class mD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yD(n){If(new Mf("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;he(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BC(n)},d=new GR(i,s,o,u);return ZR(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),If(new Mf("auth-internal",e=>{const t=Pu(e.getProvider("auth").getImmediate());return(i=>new mD(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),zc(m0,g0,gD(n)),zc(m0,g0,"esm2020")}const _D=300,vD=uS("authIdTokenMaxAge")||_D;let y0=null;const xD=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>vD)return;const s=t?.token;y0!==s&&(y0=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function wD(n=aS()){const e=Ip(n,"auth");if(e.isInitialized())return e.getImmediate();const t=JR(n,{popupRedirectResolver:pD,persistence:[TA,fA,GC]}),i=uS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const a=xD(o.toString());lA(t,a,()=>a(t.currentUser)),aA(t,c=>a(c))}}const s=YP("auth");return s&&eA(t,`http://${s}`),t}function SD(){return document.getElementsByTagName("head")?.[0]??document}YR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const o=In("internal-error");o.customData=s,t(o)},i.type="text/javascript",i.charset="UTF-8",SD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yD("Browser");let tb={apiKey:"AIzaSyCHC8l0qOXJcBDcw3YdJWjJzSpMwmHK82w",authDomain:"rangefinder-eac84.firebaseapp.com",databaseURL:"https://rangefinder-eac84-default-rtdb.firebaseio.com",projectId:"rangefinder-eac84",storageBucket:"rangefinder-eac84.firebasestorage.app",messagingSenderId:"623226713136",appId:"1:623226713136:web:aabe44871a5cc19ac469f5",measurementId:"G-D12TG8WG9N"};try{const n=await wR(()=>import("./firebaseConfig.local-CYBHTYhd.js"),__vite__mapDeps([0,1])).then(e=>e.firebaseConfig).catch(()=>null);n&&(tb=n)}catch{}const nb=QP(tb),_0=gR(nb),Jd=wD(nb);function Wa(n){return n+.5|0}const zi=(n,e,t)=>Math.max(Math.min(n,t),e);function $o(n){return zi(Wa(n*2.55),0,255)}function Hi(n){return zi(Wa(n*255),0,255)}function Zn(n){return zi(Wa(n/2.55)/100,0,1)}function v0(n){return zi(Wa(n*100),0,100)}const ln={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Yf=[..."0123456789ABCDEF"],CD=n=>Yf[n&15],bD=n=>Yf[(n&240)>>4]+Yf[n&15],uc=n=>(n&240)>>4===(n&15),TD=n=>uc(n.r)&&uc(n.g)&&uc(n.b)&&uc(n.a);function kD(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ln[n[1]]*17,g:255&ln[n[2]]*17,b:255&ln[n[3]]*17,a:e===5?ln[n[4]]*17:255}:(e===7||e===9)&&(t={r:ln[n[1]]<<4|ln[n[2]],g:ln[n[3]]<<4|ln[n[4]],b:ln[n[5]]<<4|ln[n[6]],a:e===9?ln[n[7]]<<4|ln[n[8]]:255})),t}const ED=(n,e)=>n<255?e(n):"";function PD(n){var e=TD(n)?CD:bD;return n?"#"+e(n.r)+e(n.g)+e(n.b)+ED(n.a,e):void 0}const ID=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ib(n,e,t){const i=e*Math.min(t,1-t),s=(o,a=(o+n/30)%12)=>t-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function MD(n,e,t){const i=(s,o=(s+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function RD(n,e,t){const i=ib(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)i[s]*=1-e-t,i[s]+=e;return i}function AD(n,e,t,i,s){return n===s?(e-t)/i+(e<t?6:0):e===s?(t-n)/i+2:(n-e)/i+4}function _m(n){const t=n.r/255,i=n.g/255,s=n.b/255,o=Math.max(t,i,s),a=Math.min(t,i,s),c=(o+a)/2;let u,d,p;return o!==a&&(p=o-a,d=c>.5?p/(2-o-a):p/(o+a),u=AD(t,i,s,p,o),u=u*60+.5),[u|0,d||0,c]}function vm(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Hi)}function xm(n,e,t){return vm(ib,n,e,t)}function DD(n,e,t){return vm(RD,n,e,t)}function LD(n,e,t){return vm(MD,n,e,t)}function sb(n){return(n%360+360)%360}function ND(n){const e=ID.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?$o(+e[5]):Hi(+e[5]));const s=sb(+e[2]),o=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=DD(s,o,a):e[1]==="hsv"?i=LD(s,o,a):i=xm(s,o,a),{r:i[0],g:i[1],b:i[2],a:t}}function OD(n,e){var t=_m(n);t[0]=sb(t[0]+e),t=xm(t),n.r=t[0],n.g=t[1],n.b=t[2]}function FD(n){if(!n)return;const e=_m(n),t=e[0],i=v0(e[1]),s=v0(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${s}%, ${Zn(n.a)})`:`hsl(${t}, ${i}%, ${s}%)`}const x0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},w0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function VD(){const n={},e=Object.keys(w0),t=Object.keys(x0);let i,s,o,a,c;for(i=0;i<e.length;i++){for(a=c=e[i],s=0;s<t.length;s++)o=t[s],c=c.replace(o,x0[o]);o=parseInt(w0[a],16),n[c]=[o>>16&255,o>>8&255,o&255]}return n}let hc;function zD(n){hc||(hc=VD(),hc.transparent=[0,0,0,0]);const e=hc[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const BD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function UD(n){const e=BD.exec(n);let t=255,i,s,o;if(e){if(e[7]!==i){const a=+e[7];t=e[8]?$o(a):zi(a*255,0,255)}return i=+e[1],s=+e[3],o=+e[5],i=255&(e[2]?$o(i):zi(i,0,255)),s=255&(e[4]?$o(s):zi(s,0,255)),o=255&(e[6]?$o(o):zi(o,0,255)),{r:i,g:s,b:o,a:t}}}function jD(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Zn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Zd=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,pr=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function WD(n,e,t){const i=pr(Zn(n.r)),s=pr(Zn(n.g)),o=pr(Zn(n.b));return{r:Hi(Zd(i+t*(pr(Zn(e.r))-i))),g:Hi(Zd(s+t*(pr(Zn(e.g))-s))),b:Hi(Zd(o+t*(pr(Zn(e.b))-o))),a:n.a+t*(e.a-n.a)}}function dc(n,e,t){if(n){let i=_m(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=xm(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function rb(n,e){return n&&Object.assign(e||{},n)}function S0(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Hi(n[3]))):(e=rb(n,{r:0,g:0,b:0,a:1}),e.a=Hi(e.a)),e}function HD(n){return n.charAt(0)==="r"?UD(n):ND(n)}class va{constructor(e){if(e instanceof va)return e;const t=typeof e;let i;t==="object"?i=S0(e):t==="string"&&(i=kD(e)||zD(e)||HD(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=rb(this._rgb);return e&&(e.a=Zn(e.a)),e}set rgb(e){this._rgb=S0(e)}rgbString(){return this._valid?jD(this._rgb):void 0}hexString(){return this._valid?PD(this._rgb):void 0}hslString(){return this._valid?FD(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let o;const a=t===o?.5:t,c=2*a-1,u=i.a-s.a,d=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;o=1-d,i.r=255&d*i.r+o*s.r+.5,i.g=255&d*i.g+o*s.g+.5,i.b=255&d*i.b+o*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=WD(this._rgb,e._rgb,t)),this}clone(){return new va(this.rgb)}alpha(e){return this._rgb.a=Hi(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Wa(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return dc(this._rgb,2,e),this}darken(e){return dc(this._rgb,2,-e),this}saturate(e){return dc(this._rgb,1,e),this}desaturate(e){return dc(this._rgb,1,-e),this}rotate(e){return OD(this._rgb,e),this}}function Xn(){}const $D=(()=>{let n=0;return()=>n++})();function Ce(n){return n==null}function Ke(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function be(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function et(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Jt(n,e){return et(n)?n:e}function pe(n,e){return typeof n>"u"?e:n}const KD=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,ob=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Fe(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Ae(n,e,t,i){let s,o,a;if(Ke(n))for(o=n.length,s=0;s<o;s++)e.call(t,n[s],s);else if(be(n))for(a=Object.keys(n),o=a.length,s=0;s<o;s++)e.call(t,n[a[s]],a[s])}function au(n,e){let t,i,s,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(s=n[t],o=e[t],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function lu(n){if(Ke(n))return n.map(lu);if(be(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let s=0;for(;s<i;++s)e[t[s]]=lu(n[t[s]]);return e}return n}function ab(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function GD(n,e,t,i){if(!ab(n))return;const s=e[n],o=t[n];be(s)&&be(o)?xa(s,o,i):e[n]=lu(o)}function xa(n,e,t){const i=Ke(e)?e:[e],s=i.length;if(!be(n))return n;t=t||{};const o=t.merger||GD;let a;for(let c=0;c<s;++c){if(a=i[c],!be(a))continue;const u=Object.keys(a);for(let d=0,p=u.length;d<p;++d)o(u[d],n,a,t)}return n}function na(n,e){return xa(n,e,{merger:YD})}function YD(n,e,t){if(!ab(n))return;const i=e[n],s=t[n];be(i)&&be(s)?na(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=lu(s))}const C0={"":n=>n,x:n=>n.x,y:n=>n.y};function qD(n){const e=n.split("."),t=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function XD(n){const e=qD(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Gi(n,e){return(C0[e]||(C0[e]=XD(e)))(n)}function wm(n){return n.charAt(0).toUpperCase()+n.slice(1)}const wa=n=>typeof n<"u",Yi=n=>typeof n=="function",b0=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function QD(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Pe=Math.PI,je=2*Pe,JD=je+Pe,cu=Number.POSITIVE_INFINITY,ZD=Pe/180,st=Pe/2,fs=Pe/4,T0=Pe*2/3,Bi=Math.log10,Vn=Math.sign;function ia(n,e,t){return Math.abs(n-e)<t}function k0(n){const e=Math.round(n);n=ia(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Bi(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function eL(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((s,o)=>s-o).pop(),e}function tL(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Or(n){return!tL(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function nL(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function lb(n,e,t){let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function En(n){return n*(Pe/180)}function Sm(n){return n*(180/Pe)}function E0(n){if(!et(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function cb(n,e){const t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*Pe&&(o+=je),{angle:o,distance:s}}function qf(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function iL(n,e){return(n-e+JD)%je-Pe}function kt(n){return(n%je+je)%je}function Sa(n,e,t,i){const s=kt(n),o=kt(e),a=kt(t),c=kt(o-s),u=kt(a-s),d=kt(s-o),p=kt(s-a);return s===o||s===a||i&&o===a||c>u&&d<p}function yt(n,e,t){return Math.max(e,Math.min(t,n))}function sL(n){return yt(n,-32768,32767)}function si(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Cm(n,e,t){t=t||(a=>n[a]<e);let i=n.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,t(o)?s=o:i=o;return{lo:s,hi:i}}const ri=(n,e,t,i)=>Cm(n,t,i?s=>{const o=n[s][e];return o<t||o===t&&n[s+1][e]===t}:s=>n[s][e]<t),rL=(n,e,t)=>Cm(n,t,i=>n[i][e]>=t);function oL(n,e,t){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>t;)s--;return i>0||s<n.length?n.slice(i,s):n}const ub=["push","pop","shift","splice","unshift"];function aL(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ub.forEach(t=>{const i="_onData"+wm(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const a=s.apply(this,o);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...o)}),a}})})}function P0(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(ub.forEach(o=>{delete n[o]}),delete n._chartjs)}function hb(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const db=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function fb(n,e){let t=[],i=!1;return function(...s){t=s,i||(i=!0,db.call(window,()=>{i=!1,n.apply(e,t)}))}}function lL(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const bm=n=>n==="start"?"left":n==="end"?"right":"center",Tt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,cL=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function pb(n,e,t){const i=e.length;let s=0,o=i;if(n._sorted){const{iScale:a,vScale:c,_parsed:u}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=a.axis,{min:m,max:y,minDefined:v,maxDefined:x}=a.getUserBounds();if(v){if(s=Math.min(ri(u,p,m).lo,t?i:ri(e,p,a.getPixelForValue(m)).lo),d){const S=u.slice(0,s+1).reverse().findIndex(C=>!Ce(C[c.axis]));s-=Math.max(0,S)}s=yt(s,0,i-1)}if(x){let S=Math.max(ri(u,a.axis,y,!0).hi+1,t?0:ri(e,p,a.getPixelForValue(y),!0).hi+1);if(d){const C=u.slice(S-1).findIndex(b=>!Ce(b[c.axis]));S+=Math.max(0,C)}o=yt(S,s,i)-s}else o=i-s}return{start:s,count:o}}function mb(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=s,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),o}const fc=n=>n===0||n===1,I0=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*je/t)),M0=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*je/t)+1,sa={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*st)+1,easeOutSine:n=>Math.sin(n*st),easeInOutSine:n=>-.5*(Math.cos(Pe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>fc(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>fc(n)?n:I0(n,.075,.3),easeOutElastic:n=>fc(n)?n:M0(n,.075,.3),easeInOutElastic(n){return fc(n)?n:n<.5?.5*I0(n*2,.1125,.45):.5+.5*M0(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-sa.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?sa.easeInBounce(n*2)*.5:sa.easeOutBounce(n*2-1)*.5+.5};function Tm(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function R0(n){return Tm(n)?n:new va(n)}function ef(n){return Tm(n)?n:new va(n).saturate(.5).darken(.1).hexString()}const uL=["x","y","borderWidth","radius","tension"],hL=["color","borderColor","backgroundColor"];function dL(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:hL},numbers:{type:"number",properties:uL}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function fL(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const A0=new Map;function pL(n,e){e=e||{};const t=n+JSON.stringify(e);let i=A0.get(t);return i||(i=new Intl.NumberFormat(n,e),A0.set(t,i)),i}function Ha(n,e,t){return pL(e,t).format(n)}const gb={values(n){return Ke(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let s,o=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),o=mL(n,t)}const a=Bi(Math.abs(o)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),Ha(n,i,u)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(Bi(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?gb.numeric.call(this,n,e,t):""}};function mL(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Ru={formatters:gb};function gL(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ru.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Os=Object.create(null),Xf=Object.create(null);function ra(n,e){if(!e)return n;const t=e.split(".");for(let i=0,s=t.length;i<s;++i){const o=t[i];n=n[o]||(n[o]=Object.create(null))}return n}function tf(n,e,t){return typeof e=="string"?xa(ra(n,e),t):xa(ra(n,""),e)}class yL{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>ef(s.backgroundColor),this.hoverBorderColor=(i,s)=>ef(s.borderColor),this.hoverColor=(i,s)=>ef(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return tf(this,e,t)}get(e){return ra(this,e)}describe(e,t){return tf(Xf,e,t)}override(e,t){return tf(Os,e,t)}route(e,t,i,s){const o=ra(this,e),a=ra(this,i),c="_"+t;Object.defineProperties(o,{[c]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const u=this[c],d=a[s];return be(u)?Object.assign({},d,u):pe(u,d)},set(u){this[c]=u}}})}apply(e){e.forEach(t=>t(this))}}var Ge=new yL({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[dL,fL,gL]);function _L(n){return!n||Ce(n.size)||Ce(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function uu(n,e,t,i,s){let o=e[s];return o||(o=e[s]=n.measureText(s).width,t.push(s)),o>i&&(i=o),i}function vL(n,e,t,i){i=i||{};let s=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},o=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let a=0;const c=t.length;let u,d,p,m,y;for(u=0;u<c;u++)if(m=t[u],m!=null&&!Ke(m))a=uu(n,s,o,a,m);else if(Ke(m))for(d=0,p=m.length;d<p;d++)y=m[d],y!=null&&!Ke(y)&&(a=uu(n,s,o,a,y));n.restore();const v=o.length/2;if(v>t.length){for(u=0;u<v;u++)delete s[o[u]];o.splice(0,v)}return a}function ps(n,e,t){const i=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*i)/i+s}function D0(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Qf(n,e,t,i){yb(n,e,t,i,null)}function yb(n,e,t,i,s){let o,a,c,u,d,p,m,y;const v=e.pointStyle,x=e.rotation,S=e.radius;let C=(x||0)*ZD;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(C),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(S)||S<=0)){switch(n.beginPath(),v){default:s?n.ellipse(t,i,s/2,S,0,0,je):n.arc(t,i,S,0,je),n.closePath();break;case"triangle":p=s?s/2:S,n.moveTo(t+Math.sin(C)*p,i-Math.cos(C)*S),C+=T0,n.lineTo(t+Math.sin(C)*p,i-Math.cos(C)*S),C+=T0,n.lineTo(t+Math.sin(C)*p,i-Math.cos(C)*S),n.closePath();break;case"rectRounded":d=S*.516,u=S-d,a=Math.cos(C+fs)*u,m=Math.cos(C+fs)*(s?s/2-d:u),c=Math.sin(C+fs)*u,y=Math.sin(C+fs)*(s?s/2-d:u),n.arc(t-m,i-c,d,C-Pe,C-st),n.arc(t+y,i-a,d,C-st,C),n.arc(t+m,i+c,d,C,C+st),n.arc(t-y,i+a,d,C+st,C+Pe),n.closePath();break;case"rect":if(!x){u=Math.SQRT1_2*S,p=s?s/2:u,n.rect(t-p,i-u,2*p,2*u);break}C+=fs;case"rectRot":m=Math.cos(C)*(s?s/2:S),a=Math.cos(C)*S,c=Math.sin(C)*S,y=Math.sin(C)*(s?s/2:S),n.moveTo(t-m,i-c),n.lineTo(t+y,i-a),n.lineTo(t+m,i+c),n.lineTo(t-y,i+a),n.closePath();break;case"crossRot":C+=fs;case"cross":m=Math.cos(C)*(s?s/2:S),a=Math.cos(C)*S,c=Math.sin(C)*S,y=Math.sin(C)*(s?s/2:S),n.moveTo(t-m,i-c),n.lineTo(t+m,i+c),n.moveTo(t+y,i-a),n.lineTo(t-y,i+a);break;case"star":m=Math.cos(C)*(s?s/2:S),a=Math.cos(C)*S,c=Math.sin(C)*S,y=Math.sin(C)*(s?s/2:S),n.moveTo(t-m,i-c),n.lineTo(t+m,i+c),n.moveTo(t+y,i-a),n.lineTo(t-y,i+a),C+=fs,m=Math.cos(C)*(s?s/2:S),a=Math.cos(C)*S,c=Math.sin(C)*S,y=Math.sin(C)*(s?s/2:S),n.moveTo(t-m,i-c),n.lineTo(t+m,i+c),n.moveTo(t+y,i-a),n.lineTo(t-y,i+a);break;case"line":a=s?s/2:Math.cos(C)*S,c=Math.sin(C)*S,n.moveTo(t-a,i-c),n.lineTo(t+a,i+c);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(C)*(s?s/2:S),i+Math.sin(C)*S);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function oi(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Au(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Du(n){n.restore()}function xL(n,e,t,i,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else s==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function wL(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function SL(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ce(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function CL(n,e,t,i,s){if(s.strikethrough||s.underline){const o=n.measureText(i),a=e-o.actualBoundingBoxLeft,c=e+o.actualBoundingBoxRight,u=t-o.actualBoundingBoxAscent,d=t+o.actualBoundingBoxDescent,p=s.strikethrough?(u+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(a,p),n.lineTo(c,p),n.stroke()}}function bL(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Fs(n,e,t,i,s,o={}){const a=Ke(e)?e:[e],c=o.strokeWidth>0&&o.strokeColor!=="";let u,d;for(n.save(),n.font=s.string,SL(n,o),u=0;u<a.length;++u)d=a[u],o.backdrop&&bL(n,o.backdrop),c&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ce(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,t,i,o.maxWidth)),n.fillText(d,t,i,o.maxWidth),CL(n,t,i,d,o),i+=Number(s.lineHeight);n.restore()}function Ca(n,e){const{x:t,y:i,w:s,h:o,radius:a}=e;n.arc(t+a.topLeft,i+a.topLeft,a.topLeft,1.5*Pe,Pe,!0),n.lineTo(t,i+o-a.bottomLeft),n.arc(t+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,Pe,st,!0),n.lineTo(t+s-a.bottomRight,i+o),n.arc(t+s-a.bottomRight,i+o-a.bottomRight,a.bottomRight,st,0,!0),n.lineTo(t+s,i+a.topRight),n.arc(t+s-a.topRight,i+a.topRight,a.topRight,0,-st,!0),n.lineTo(t+a.topLeft,i)}const TL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function EL(n,e){const t=(""+n).match(TL);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const PL=n=>+n||0;function km(n,e){const t={},i=be(e),s=i?Object.keys(e):e,o=be(n)?i?a=>pe(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of s)t[a]=PL(o(a));return t}function _b(n){return km(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Es(n){return km(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Rt(n){const e=_b(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ut(n,e){n=n||{},e=e||Ge.font;let t=pe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=pe(n.style,e.style);i&&!(""+i).match(kL)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:pe(n.family,e.family),lineHeight:EL(pe(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:pe(n.weight,e.weight),string:""};return s.string=_L(s),s}function Ko(n,e,t,i){let s,o,a;for(s=0,o=n.length;s<o;++s)if(a=n[s],a!==void 0&&a!==void 0)return a}function IL(n,e,t){const{min:i,max:s}=n,o=ob(e,(s-i)/2),a=(c,u)=>t&&c===0?0:c+u;return{min:a(i,-Math.abs(o)),max:a(s,o)}}function Qi(n,e){return Object.assign(Object.create(n),e)}function Em(n,e=[""],t,i,s=()=>n[0]){const o=t||n;typeof i>"u"&&(i=Sb("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:s,override:c=>Em([c,...n],e,o,i)};return new Proxy(a,{deleteProperty(c,u){return delete c[u],delete c._keys,delete n[0][u],!0},get(c,u){return xb(c,u,()=>FL(u,e,n,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,u){return N0(c).includes(u)},ownKeys(c){return N0(c)},set(c,u,d){const p=c._storage||(c._storage=s());return c[u]=p[u]=d,delete c._keys,!0}})}function Fr(n,e,t,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:vb(n,i),setContext:o=>Fr(n,o,t,i),override:o=>Fr(n.override(o),e,t,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete n[a],!0},get(o,a,c){return xb(o,a,()=>RL(o,a,c))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(o,a,c){return n[a]=c,delete o[a],!0}})}function vb(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:i,isScriptable:Yi(t)?t:()=>t,isIndexable:Yi(i)?i:()=>i}}const ML=(n,e)=>n?n+wm(e):e,Pm=(n,e)=>be(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function xb(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function RL(n,e,t){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;let c=i[e];return Yi(c)&&a.isScriptable(e)&&(c=AL(e,c,n,t)),Ke(c)&&c.length&&(c=DL(e,c,n,a.isIndexable)),Pm(e,c)&&(c=Fr(c,s,o&&o[e],a)),c}function AL(n,e,t,i){const{_proxy:s,_context:o,_subProxy:a,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let u=e(o,a||i);return c.delete(n),Pm(n,u)&&(u=Im(s._scopes,s,n,u)),u}function DL(n,e,t,i){const{_proxy:s,_context:o,_subProxy:a,_descriptors:c}=t;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(be(e[0])){const u=e,d=s._scopes.filter(p=>p!==u);e=[];for(const p of u){const m=Im(d,s,n,p);e.push(Fr(m,o,a&&a[n],c))}}return e}function wb(n,e,t){return Yi(n)?n(e,t):n}const LL=(n,e)=>n===!0?e:typeof n=="string"?Gi(e,n):void 0;function NL(n,e,t,i,s){for(const o of e){const a=LL(t,o);if(a){n.add(a);const c=wb(a._fallback,t,s);if(typeof c<"u"&&c!==t&&c!==i)return c}else if(a===!1&&typeof i<"u"&&t!==i)return null}return!1}function Im(n,e,t,i){const s=e._rootScopes,o=wb(e._fallback,t,i),a=[...n,...s],c=new Set;c.add(i);let u=L0(c,a,t,o||t,i);return u===null||typeof o<"u"&&o!==t&&(u=L0(c,a,o,u,i),u===null)?!1:Em(Array.from(c),[""],s,o,()=>OL(e,t,i))}function L0(n,e,t,i,s){for(;t;)t=NL(n,e,t,i,s);return t}function OL(n,e,t){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return Ke(s)&&be(t)?t:s||{}}function FL(n,e,t,i){let s;for(const o of e)if(s=Sb(ML(o,n),t),typeof s<"u")return Pm(n,s)?Im(t,i,n,s):s}function Sb(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function N0(n){let e=n._keys;return e||(e=n._keys=VL(n._scopes)),e}function VL(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function Cb(n,e,t,i){const{iScale:s}=n,{key:o="r"}=this._parsing,a=new Array(i);let c,u,d,p;for(c=0,u=i;c<u;++c)d=c+t,p=e[d],a[c]={r:s.parse(Gi(p,o),d)};return a}const zL=Number.EPSILON||1e-14,Vr=(n,e)=>e<n.length&&!n[e].skip&&n[e],bb=n=>n==="x"?"y":"x";function BL(n,e,t,i){const s=n.skip?e:n,o=e,a=t.skip?e:t,c=qf(o,s),u=qf(a,o);let d=c/(c+u),p=u/(c+u);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const m=i*d,y=i*p;return{previous:{x:o.x-m*(a.x-s.x),y:o.y-m*(a.y-s.y)},next:{x:o.x+y*(a.x-s.x),y:o.y+y*(a.y-s.y)}}}function UL(n,e,t){const i=n.length;let s,o,a,c,u,d=Vr(n,0);for(let p=0;p<i-1;++p)if(u=d,d=Vr(n,p+1),!(!u||!d)){if(ia(e[p],0,zL)){t[p]=t[p+1]=0;continue}s=t[p]/e[p],o=t[p+1]/e[p],c=Math.pow(s,2)+Math.pow(o,2),!(c<=9)&&(a=3/Math.sqrt(c),t[p]=s*a*e[p],t[p+1]=o*a*e[p])}}function jL(n,e,t="x"){const i=bb(t),s=n.length;let o,a,c,u=Vr(n,0);for(let d=0;d<s;++d){if(a=c,c=u,u=Vr(n,d+1),!c)continue;const p=c[t],m=c[i];a&&(o=(p-a[t])/3,c[`cp1${t}`]=p-o,c[`cp1${i}`]=m-o*e[d]),u&&(o=(u[t]-p)/3,c[`cp2${t}`]=p+o,c[`cp2${i}`]=m+o*e[d])}}function WL(n,e="x"){const t=bb(e),i=n.length,s=Array(i).fill(0),o=Array(i);let a,c,u,d=Vr(n,0);for(a=0;a<i;++a)if(c=u,u=d,d=Vr(n,a+1),!!u){if(d){const p=d[e]-u[e];s[a]=p!==0?(d[t]-u[t])/p:0}o[a]=c?d?Vn(s[a-1])!==Vn(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}UL(n,s,o),jL(n,o,e)}function pc(n,e,t){return Math.max(Math.min(n,t),e)}function HL(n,e){let t,i,s,o,a,c=oi(n[0],e);for(t=0,i=n.length;t<i;++t)a=o,o=c,c=t<i-1&&oi(n[t+1],e),o&&(s=n[t],a&&(s.cp1x=pc(s.cp1x,e.left,e.right),s.cp1y=pc(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=pc(s.cp2x,e.left,e.right),s.cp2y=pc(s.cp2y,e.top,e.bottom)))}function $L(n,e,t,i,s){let o,a,c,u;if(e.spanGaps&&(n=n.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")WL(n,s);else{let d=i?n[n.length-1]:n[0];for(o=0,a=n.length;o<a;++o)c=n[o],u=BL(d,c,n[Math.min(o+1,a-(i?0:1))%a],e.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,d=c}e.capBezierPoints&&HL(n,t)}function Mm(){return typeof window<"u"&&typeof document<"u"}function Rm(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function hu(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Lu=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function KL(n,e){return Lu(n).getPropertyValue(e)}const GL=["top","right","bottom","left"];function Ps(n,e,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const o=GL[s];i[o]=parseFloat(n[e+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const YL=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function qL(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:s,offsetY:o}=i;let a=!1,c,u;if(YL(s,o,n.target))c=s,u=o;else{const d=e.getBoundingClientRect();c=i.clientX-d.left,u=i.clientY-d.top,a=!0}return{x:c,y:u,box:a}}function vs(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,s=Lu(t),o=s.boxSizing==="border-box",a=Ps(s,"padding"),c=Ps(s,"border","width"),{x:u,y:d,box:p}=qL(n,t),m=a.left+(p&&c.left),y=a.top+(p&&c.top);let{width:v,height:x}=e;return o&&(v-=a.width+c.width,x-=a.height+c.height),{x:Math.round((u-m)/v*t.width/i),y:Math.round((d-y)/x*t.height/i)}}function XL(n,e,t){let i,s;if(e===void 0||t===void 0){const o=n&&Rm(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const a=o.getBoundingClientRect(),c=Lu(o),u=Ps(c,"border","width"),d=Ps(c,"padding");e=a.width-d.width-u.width,t=a.height-d.height-u.height,i=hu(c.maxWidth,o,"clientWidth"),s=hu(c.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:i||cu,maxHeight:s||cu}}const Ui=n=>Math.round(n*10)/10;function QL(n,e,t,i){const s=Lu(n),o=Ps(s,"margin"),a=hu(s.maxWidth,n,"clientWidth")||cu,c=hu(s.maxHeight,n,"clientHeight")||cu,u=XL(n,e,t);let{width:d,height:p}=u;if(s.boxSizing==="content-box"){const y=Ps(s,"border","width"),v=Ps(s,"padding");d-=v.width+y.width,p-=v.height+y.height}return d=Math.max(0,d-o.width),p=Math.max(0,i?d/i:p-o.height),d=Ui(Math.min(d,a,u.maxWidth)),p=Ui(Math.min(p,c,u.maxHeight)),d&&!p&&(p=Ui(d/2)),(e!==void 0||t!==void 0)&&i&&u.height&&p>u.height&&(p=u.height,d=Ui(Math.floor(p*i))),{width:d,height:p}}function O0(n,e,t){const i=e||1,s=Ui(n.height*i),o=Ui(n.width*i);n.height=Ui(n.height),n.width=Ui(n.width);const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||a.height!==s||a.width!==o?(n.currentDevicePixelRatio=i,a.height=s,a.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const JL=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Mm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function F0(n,e){const t=KL(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function xs(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function ZL(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function eN(n,e,t,i){const s={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},a=xs(n,s,t),c=xs(s,o,t),u=xs(o,e,t),d=xs(a,c,t),p=xs(c,u,t);return xs(d,p,t)}const tN=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},nN=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Ir(n,e,t){return n?tN(e,t):nN()}function Tb(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function kb(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Eb(n){return n==="angle"?{between:Sa,compare:iL,normalize:kt}:{between:si,compare:(e,t)=>e-t,normalize:e=>e}}function V0({start:n,end:e,count:t,loop:i,style:s}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:s}}function iN(n,e,t){const{property:i,start:s,end:o}=t,{between:a,normalize:c}=Eb(i),u=e.length;let{start:d,end:p,loop:m}=n,y,v;if(m){for(d+=u,p+=u,y=0,v=u;y<v&&a(c(e[d%u][i]),s,o);++y)d--,p--;d%=u,p%=u}return p<d&&(p+=u),{start:d,end:p,loop:m,style:n.style}}function Pb(n,e,t){if(!t)return[n];const{property:i,start:s,end:o}=t,a=e.length,{compare:c,between:u,normalize:d}=Eb(i),{start:p,end:m,loop:y,style:v}=iN(n,e,t),x=[];let S=!1,C=null,b,k,I;const D=()=>u(s,I,b)&&c(s,I)!==0,M=()=>c(o,b)===0||u(o,I,b),O=()=>S||D(),V=()=>!S||M();for(let F=p,G=p;F<=m;++F)k=e[F%a],!k.skip&&(b=d(k[i]),b!==I&&(S=u(b,s,o),C===null&&O()&&(C=c(b,s)===0?F:G),C!==null&&V()&&(x.push(V0({start:C,end:F,loop:y,count:a,style:v})),C=null),G=F,I=b));return C!==null&&x.push(V0({start:C,end:m,loop:y,count:a,style:v})),x}function Ib(n,e){const t=[],i=n.segments;for(let s=0;s<i.length;s++){const o=Pb(i[s],n.points,e);o.length&&t.push(...o)}return t}function sN(n,e,t,i){let s=0,o=e-1;if(t&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(o+=s);o>s&&n[o%e].skip;)o--;return o%=e,{start:s,end:o}}function rN(n,e,t,i){const s=n.length,o=[];let a=e,c=n[e],u;for(u=e+1;u<=t;++u){const d=n[u%s];d.skip||d.stop?c.skip||(i=!1,o.push({start:e%s,end:(u-1)%s,loop:i}),e=a=d.stop?u:null):(a=u,c.skip&&(e=u)),c=d}return a!==null&&o.push({start:e%s,end:a%s,loop:i}),o}function oN(n,e){const t=n.points,i=n.options.spanGaps,s=t.length;if(!s)return[];const o=!!n._loop,{start:a,end:c}=sN(t,s,o,i);if(i===!0)return z0(n,[{start:a,end:c,loop:o}],t,e);const u=c<a?c+s:c,d=!!n._fullLoop&&a===0&&c===s-1;return z0(n,rN(t,a,u,d),t,e)}function z0(n,e,t,i){return!i||!i.setContext||!t?e:aN(n,e,t,i)}function aN(n,e,t,i){const s=n._chart.getContext(),o=B0(n.options),{_datasetIndex:a,options:{spanGaps:c}}=n,u=t.length,d=[];let p=o,m=e[0].start,y=m;function v(x,S,C,b){const k=c?-1:1;if(x!==S){for(x+=u;t[x%u].skip;)x-=k;for(;t[S%u].skip;)S+=k;x%u!==S%u&&(d.push({start:x%u,end:S%u,loop:C,style:b}),p=b,m=S%u)}}for(const x of e){m=c?m:x.start;let S=t[m%u],C;for(y=m+1;y<=x.end;y++){const b=t[y%u];C=B0(i.setContext(Qi(s,{type:"segment",p0:S,p1:b,p0DataIndex:(y-1)%u,p1DataIndex:y%u,datasetIndex:a}))),lN(C,p)&&v(m,y-1,x.loop,p),S=b,p=C}m<y-1&&v(m,y-1,x.loop,p)}return d}function B0(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function lN(n,e){if(!e)return!1;const t=[],i=function(s,o){return Tm(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function mc(n,e,t){return n.options.clip?n[t]:e[t]}function cN(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:mc(t,e,"left"),right:mc(t,e,"right"),top:mc(i,e,"top"),bottom:mc(i,e,"bottom")}:e}function Mb(n,e){const t=e._clip;if(t.disabled)return!1;const i=cN(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}class uN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const o=t.listeners[s],a=t.duration;o.forEach(c=>c({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(i-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=db.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let a=o.length-1,c=!1,u;for(;a>=0;--a)u=o[a],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),c=!0):(o[a]=o[o.length-1],o.pop());c&&(s.draw(),this._notify(s,i,e,"progress")),o.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Qn=new uN;const U0="transparent",hN={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=R0(n||U0),s=i.valid&&R0(e||U0);return s&&s.valid?s.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class dN{constructor(e,t,i,s){const o=t[i];s=Ko([e.to,s,o,e.from]);const a=Ko([e.from,o,s]);this._active=!0,this._fn=e.fn||hN[e.type||typeof a],this._easing=sa[e.easing]||sa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,a=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Ko([e.to,t,s,e.from]),this._from=Ko([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,o=this._from,a=this._loop,c=this._to;let u;if(this._active=o!==c&&(a||t<i),!this._active){this._target[s]=c,this._notify(!0);return}if(t<0){this._target[s]=o;return}u=t/i%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(o,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}class Rb{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!be(e))return;const t=Object.keys(Ge.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const o=e[s];if(!be(o))return;const a={};for(const c of t)a[c]=o[c];(Ke(o.properties)&&o.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,a)})})}_animateOptions(e,t){const i=t.options,s=pN(e,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&fN(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,t){const i=this._properties,s=[],o=e.$animations||(e.$animations={}),a=Object.keys(t),c=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,t));continue}const p=t[d];let m=o[d];const y=i.get(d);if(m)if(y&&m.active()){m.update(y,p,c);continue}else m.cancel();if(!y||!y.duration){e[d]=p;continue}o[d]=m=new dN(y,e,d,p),s.push(m)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Qn.add(this._chart,i),!0}}function fN(n,e){const t=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const o=n[i[s]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function pN(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function j0(n,e){const t=n&&n.options||{},i=t.reverse,s=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:i?o:s,end:i?s:o}}function mN(n,e,t){if(t===!1)return!1;const i=j0(n,t),s=j0(e,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function gN(n){let e,t,i,s;return be(n)?(e=n.top,t=n.right,i=n.bottom,s=n.left):e=t=i=s=n,{top:e,right:t,bottom:i,left:s,disabled:n===!1}}function Ab(n,e){const t=[],i=n._getSortedDatasetMetas(e);let s,o;for(s=0,o=i.length;s<o;++s)t.push(i[s].index);return t}function W0(n,e,t,i={}){const s=n.keys,o=i.mode==="single";let a,c,u,d;if(e===null)return;let p=!1;for(a=0,c=s.length;a<c;++a){if(u=+s[a],u===t){if(p=!0,i.all)continue;break}d=n.values[u],et(d)&&(o||e===0||Vn(e)===Vn(d))&&(e+=d)}return!p&&!i.all?0:e}function yN(n,e){const{iScale:t,vScale:i}=e,s=t.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",a=Object.keys(n),c=new Array(a.length);let u,d,p;for(u=0,d=a.length;u<d;++u)p=a[u],c[u]={[s]:p,[o]:n[p]};return c}function nf(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function _N(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function vN(n){const{min:e,max:t,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function xN(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function H0(n,e,t,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const o=n[s.index];if(t&&o>0||!t&&o<0)return s.index}return null}function $0(n,e){const{chart:t,_cachedMeta:i}=n,s=t._stacks||(t._stacks={}),{iScale:o,vScale:a,index:c}=i,u=o.axis,d=a.axis,p=_N(o,a,i),m=e.length;let y;for(let v=0;v<m;++v){const x=e[v],{[u]:S,[d]:C}=x,b=x._stacks||(x._stacks={});y=b[d]=xN(s,p,S),y[c]=C,y._top=H0(y,a,!0,i.type),y._bottom=H0(y,a,!1,i.type);const k=y._visualValues||(y._visualValues={});k[c]=C}}function sf(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function wN(n,e){return Qi(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function SN(n,e,t){return Qi(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function zo(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const o=s._stacks;if(!o||o[i]===void 0||o[i][t]===void 0)return;delete o[i][t],o[i]._visualValues!==void 0&&o[i]._visualValues[t]!==void 0&&delete o[i]._visualValues[t]}}}const rf=n=>n==="reset"||n==="none",K0=(n,e)=>e?n:Object.assign({},n),CN=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Ab(t,!0),values:null};class Ji{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=nf(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&zo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(m,y,v,x)=>m==="x"?y:m==="r"?x:v,o=t.xAxisID=pe(i.xAxisID,sf(e,"x")),a=t.yAxisID=pe(i.yAxisID,sf(e,"y")),c=t.rAxisID=pe(i.rAxisID,sf(e,"r")),u=t.indexAxis,d=t.iAxisID=s(u,o,a,c),p=t.vAxisID=s(u,a,o,c);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&P0(this._data,this),e._stacked&&zo(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(be(t)){const s=this._cachedMeta;this._data=yN(t,s)}else if(i!==t){if(i){P0(i,this);const s=this._cachedMeta;zo(s),s._parsed=[]}t&&Object.isExtensible(t)&&aL(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=t._stacked;t._stacked=nf(t.vScale,t),t.stack!==i.stack&&(s=!0,zo(t),t.stack=i.stack),this._resyncElements(e),(s||o!==t._stacked)&&($0(this,t._parsed),t._stacked=nf(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:a}=i,c=o.axis;let u=e===0&&t===s.length?!0:i._sorted,d=e>0&&i._parsed[e-1],p,m,y;if(this._parsing===!1)i._parsed=s,i._sorted=!0,y=s;else{Ke(s[e])?y=this.parseArrayData(i,s,e,t):be(s[e])?y=this.parseObjectData(i,s,e,t):y=this.parsePrimitiveData(i,s,e,t);const v=()=>m[c]===null||d&&m[c]<d[c];for(p=0;p<t;++p)i._parsed[p+e]=m=y[p],u&&(v()&&(u=!1),d=m);i._sorted=u}a&&$0(this,y)}parsePrimitiveData(e,t,i,s){const{iScale:o,vScale:a}=e,c=o.axis,u=a.axis,d=o.getLabels(),p=o===a,m=new Array(s);let y,v,x;for(y=0,v=s;y<v;++y)x=y+i,m[y]={[c]:p||o.parse(d[x],x),[u]:a.parse(t[x],x)};return m}parseArrayData(e,t,i,s){const{xScale:o,yScale:a}=e,c=new Array(s);let u,d,p,m;for(u=0,d=s;u<d;++u)p=u+i,m=t[p],c[u]={x:o.parse(m[0],p),y:a.parse(m[1],p)};return c}parseObjectData(e,t,i,s){const{xScale:o,yScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=new Array(s);let p,m,y,v;for(p=0,m=s;p<m;++p)y=p+i,v=t[y],d[p]={x:o.parse(Gi(v,c),y),y:a.parse(Gi(v,u),y)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,o=this._cachedMeta,a=t[e.axis],c={keys:Ab(s,!0),values:t._stacks[e.axis]._visualValues};return W0(c,a,o.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const o=i[t.axis];let a=o===null?NaN:o;const c=s&&i._stacks[t.axis];s&&c&&(s.values=c,a=W0(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&e===i.iScale,a=s.length,c=this._getOtherScale(e),u=CN(t,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:m}=vN(c);let y,v;function x(){v=s[y];const S=v[c.axis];return!et(v[e.axis])||p>S||m<S}for(y=0;y<a&&!(!x()&&(this.updateRangeFromParsed(d,e,v,u),o));++y);if(o){for(y=a-1;y>=0;--y)if(!x()){this.updateRangeFromParsed(d,e,v,u);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,o,a;for(s=0,o=t.length;s<o;++s)a=t[s][e.axis],et(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=gN(pe(this.options.clip,mN(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],o=t.chartArea,a=[],c=this._drawStart||0,u=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,o,c,u),p=c;p<c+u;++p){const m=s[p];m.hidden||(m.active&&d?a.push(m):m.draw(e,o))}for(p=0;p<a.length;++p)a[p].draw(e,o)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];o=a.$context||(a.$context=SN(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=wN(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s=t==="active",o=this._cachedDataOpts,a=e+"-"+t,c=o[a],u=this.enableOptionSharing&&wa(i);if(c)return K0(c,u);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,e),m=s?[`${e}Hover`,"hover",e,""]:[e,""],y=d.getOptionScopes(this.getDataset(),p),v=Object.keys(Ge.elements[e]),x=()=>this.getContext(i,s,t),S=d.resolveNamedOptions(y,v,x,m);return S.$shared&&(S.$shared=u,o[a]=Object.freeze(K0(S,u))),S}_resolveAnimations(e,t,i){const s=this.chart,o=this._cachedDataOpts,a=`animation-${t}`,c=o[a];if(c)return c;let u;if(s.options.animation!==!1){const p=this.chart.config,m=p.datasetAnimationScopeKeys(this._type,t),y=p.getOptionScopes(this.getDataset(),m);u=p.createResolver(y,this.getContext(e,i,t))}const d=new Rb(s,u&&u.animations);return u&&u._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||rf(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(t,o)||o!==s;return this.updateSharedOptions(o,t,i),{sharedOptions:o,includeOptions:a}}updateElement(e,t,i,s){rf(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!rf(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const o=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[c,u,d]of this._syncList)this[c](u,d);this._syncList=[];const s=i.length,o=t.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,t,i=!0){const s=this._cachedMeta,o=s.data,a=e+t;let c;const u=d=>{for(d.length+=t,c=d.length-1;c>=a;c--)d[c]=d[c-t]};for(u(o),c=e;c<a;++c)o[c]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&zo(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function bN(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let s=0,o=t.length;s<o;s++)i=i.concat(t[s].controller.getAllParsedValues(n));n._cache.$bar=hb(i.sort((s,o)=>s-o))}return n._cache.$bar}function TN(n){const e=n.iScale,t=bN(e,n.type);let i=e._length,s,o,a,c;const u=()=>{a===32767||a===-32768||(wa(c)&&(i=Math.min(i,Math.abs(a-c)||i)),c=a)};for(s=0,o=t.length;s<o;++s)a=e.getPixelForValue(t[s]),u();for(c=void 0,s=0,o=e.ticks.length;s<o;++s)a=e.getPixelForTick(s),u();return i}function kN(n,e,t,i){const s=t.barThickness;let o,a;return Ce(s)?(o=e.min*t.categoryPercentage,a=t.barPercentage):(o=s*i,a=1),{chunk:o/i,ratio:a,start:e.pixels[n]-o/2}}function EN(n,e,t,i){const s=e.pixels,o=s[n];let a=n>0?s[n-1]:null,c=n<s.length-1?s[n+1]:null;const u=t.categoryPercentage;a===null&&(a=o-(c===null?e.end-e.start:c-o)),c===null&&(c=o+o-a);const d=o-(o-Math.min(a,c))/2*u;return{chunk:Math.abs(c-a)/2*u/i,ratio:t.barPercentage,start:d}}function PN(n,e,t,i){const s=t.parse(n[0],i),o=t.parse(n[1],i),a=Math.min(s,o),c=Math.max(s,o);let u=a,d=c;Math.abs(a)>Math.abs(c)&&(u=c,d=a),e[t.axis]=d,e._custom={barStart:u,barEnd:d,start:s,end:o,min:a,max:c}}function Db(n,e,t,i){return Ke(n)?PN(n,e,t,i):e[t.axis]=t.parse(n,i),e}function G0(n,e,t,i){const s=n.iScale,o=n.vScale,a=s.getLabels(),c=s===o,u=[];let d,p,m,y;for(d=t,p=t+i;d<p;++d)y=e[d],m={},m[s.axis]=c||s.parse(a[d],d),u.push(Db(y,m,o,d));return u}function of(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function IN(n,e,t){return n!==0?Vn(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function MN(n){let e,t,i,s,o;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(s="end",o="start"):(s="start",o="end"),{start:t,end:i,reverse:e,top:s,bottom:o}}function RN(n,e,t,i){let s=e.borderSkipped;const o={};if(!s){n.borderSkipped=o;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:c,reverse:u,top:d,bottom:p}=MN(n);s==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?s=d:(t._bottom||0)===i?s=p:(o[Y0(p,a,c,u)]=!0,s=d)),o[Y0(s,a,c,u)]=!0,n.borderSkipped=o}function Y0(n,e,t,i){return i?(n=AN(n,e,t),n=q0(n,t,e)):n=q0(n,e,t),n}function AN(n,e,t){return n===e?t:n===t?e:n}function q0(n,e,t){return n==="start"?e:n==="end"?t:n}function DN(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class LN extends Ji{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,s){return G0(e,t,i,s)}parseArrayData(e,t,i,s){return G0(e,t,i,s)}parseObjectData(e,t,i,s){const{iScale:o,vScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=o.axis==="x"?c:u,p=a.axis==="x"?c:u,m=[];let y,v,x,S;for(y=i,v=i+s;y<v;++y)S=t[y],x={},x[o.axis]=o.parse(Gi(S,d),y),m.push(Db(Gi(S,p),x,a,y));return m}updateRangeFromParsed(e,t,i,s){super.updateRangeFromParsed(e,t,i,s);const o=i._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:s}=t,o=this.getParsed(e),a=o._custom,c=of(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,s){const o=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),d=c.isHorizontal(),p=this._getRuler(),{sharedOptions:m,includeOptions:y}=this._getSharedOptions(t,s);for(let v=t;v<t+i;v++){const x=this.getParsed(v),S=o||Ce(x[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),C=this._calculateBarIndexPixels(v,p),b=(x._stacks||{})[c.axis],k={horizontal:d,base:S.base,enableBorderRadius:!b||of(x._custom)||a===b._top||a===b._bottom,x:d?S.head:C.center,y:d?C.center:S.head,height:d?C.size:Math.abs(S.size),width:d?Math.abs(S.size):C.size};y&&(k.options=m||this.resolveDataElementOptions(v,e[v].active?"active":s));const I=k.options||e[v].options;RN(k,I,b,a),DN(k,I,p.ratio),this.updateElement(e[v],v,k,s)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(t),u=c&&c[i.axis],d=p=>{const m=p._parsed.find(v=>v[i.axis]===u),y=m&&m[p.vScale.axis];if(Ce(y)||isNaN(y))return!0};for(const p of s)if(!(t!==void 0&&d(p))&&((o===!1||a.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&a.push(p.stack),p.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[pe(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const s=this._getStacks(e,i),o=t!==void 0?s.indexOf(t):-1;return o===-1?s.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,s=[];let o,a;for(o=0,a=t.data.length;o<a;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const c=e.barThickness;return{min:c||TN(t),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,u=this.getParsed(e),d=u._custom,p=of(d);let m=u[t.axis],y=0,v=i?this.applyStack(t,u,i):m,x,S;v!==m&&(y=v-m,v=m),p&&(m=d.barStart,v=d.barEnd-d.barStart,m!==0&&Vn(m)!==Vn(d.barEnd)&&(y=0),y+=m);const C=!Ce(o)&&!p?o:y;let b=t.getPixelForValue(C);if(this.chart.getDataVisibility(e)?x=t.getPixelForValue(y+v):x=b,S=x-b,Math.abs(S)<a){S=IN(S,t,c)*a,m===c&&(b-=S/2);const k=t.getPixelForDecimal(0),I=t.getPixelForDecimal(1),D=Math.min(k,I),M=Math.max(k,I);b=Math.max(Math.min(b,M),D),x=b+S,i&&!p&&(u._stacks[t.axis]._visualValues[s]=t.getValueForPixel(x)-t.getValueForPixel(b))}if(b===t.getPixelForValue(c)){const k=Vn(S)*t.getLineWidthForValue(c)/2;b+=k,S-=k}return{size:S,base:b,head:x,center:x+S/2}}_calculateBarIndexPixels(e,t){const i=t.scale,s=this.options,o=s.skipNull,a=pe(s.maxBarThickness,1/0);let c,u;const d=this._getAxisCount();if(t.grouped){const p=o?this._getStackCount(e):t.stackCount,m=s.barThickness==="flex"?EN(e,t,s,p*d):kN(e,t,s,p*d),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(pe(y,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+v;c=m.start+m.chunk*x+m.chunk/2,u=Math.min(a,m.chunk*m.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),u=Math.min(a,t.min*t.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,s=i.length;let o=0;for(;o<s;++o)this.getParsed(o)[t.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}class NN extends Ji{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,s){const o=super.parsePrimitiveData(e,t,i,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+i).radius;return o}parseArrayData(e,t,i,s){const o=super.parseArrayData(e,t,i,s);for(let a=0;a<o.length;a++){const c=t[i+a];o[a]._custom=pe(c[2],this.resolveDataElementOptions(a+i).radius)}return o}parseObjectData(e,t,i,s){const o=super.parseObjectData(e,t,i,s);for(let a=0;a<o.length;a++){const c=t[i+a];o[a]._custom=pe(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=t,a=this.getParsed(e),c=s.getLabelForValue(a.x),u=o.getLabelForValue(a.y),d=a._custom;return{label:i[e]||"",value:"("+c+", "+u+(d?", "+d:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,s){const o=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,s),p=a.axis,m=c.axis;for(let y=t;y<t+i;y++){const v=e[y],x=!o&&this.getParsed(y),S={},C=S[p]=o?a.getPixelForDecimal(.5):a.getPixelForValue(x[p]),b=S[m]=o?c.getBasePixel():c.getPixelForValue(x[m]);S.skip=isNaN(C)||isNaN(b),d&&(S.options=u||this.resolveDataElementOptions(y,v.active?"active":s),o&&(S.options.radius=0)),this.updateElement(v,y,S,s)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,t);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return t!=="active"&&(s.radius=0),s.radius+=pe(i&&i._custom,o),s}}function ON(n,e,t){let i=1,s=1,o=0,a=0;if(e<je){const c=n,u=c+e,d=Math.cos(c),p=Math.sin(c),m=Math.cos(u),y=Math.sin(u),v=(I,D,M)=>Sa(I,c,u,!0)?1:Math.max(D,D*t,M,M*t),x=(I,D,M)=>Sa(I,c,u,!0)?-1:Math.min(D,D*t,M,M*t),S=v(0,d,m),C=v(st,p,y),b=x(Pe,d,m),k=x(Pe+st,p,y);i=(S-b)/2,s=(C-k)/2,o=-(S+b)/2,a=-(C+k)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:a}}class Am extends Ji{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:i,textAlign:s,color:o,useBorderRadius:a,borderRadius:c}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((u,d)=>{const m=e.getDatasetMeta(0).controller.getStyle(d);return{text:u,fillStyle:m.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(d),lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:m.borderWidth,strokeStyle:m.borderColor,textAlign:s,pointStyle:i,borderRadius:a&&(c||m.borderRadius),index:d}}):[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=u=>+i[u];if(be(i[e])){const{key:u="value"}=this._parsing;o=d=>+Gi(i[d],u)}let a,c;for(a=e,c=e+t;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return En(this.options.rotation-90)}_getCircumference(){return En(this.options.circumference)}_getRotationExtents(){let e=je,t=-je;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),a=s._getCircumference();e=Math.min(e,o),t=Math.max(t,o+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),u=Math.min(KD(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:p,rotation:m}=this._getRotationExtents(),{ratioX:y,ratioY:v,offsetX:x,offsetY:S}=ON(m,p,u),C=(i.width-a)/y,b=(i.height-a)/v,k=Math.max(Math.min(C,b)/2,0),I=ob(this.options.radius,k),D=Math.max(I*u,0),M=(I-D)/this._getVisibleDatasetWeightTotal();this.offsetX=x*I,this.offsetY=S*I,s.total=this.calculateTotal(),this.outerRadius=I-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*d,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/je)}updateElements(e,t,i,s){const o=s==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,p=(c.left+c.right)/2,m=(c.top+c.bottom)/2,y=o&&d.animateScale,v=y?0:this.innerRadius,x=y?0:this.outerRadius,{sharedOptions:S,includeOptions:C}=this._getSharedOptions(t,s);let b=this._getRotation(),k;for(k=0;k<t;++k)b+=this._circumference(k,o);for(k=t;k<t+i;++k){const I=this._circumference(k,o),D=e[k],M={x:p+this.offsetX,y:m+this.offsetY,startAngle:b,endAngle:b+I,circumference:I,outerRadius:x,innerRadius:v};C&&(M.options=S||this.resolveDataElementOptions(k,D.active?"active":s)),b+=I,this.updateElement(D,k,M,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,s;for(s=0;s<t.length;s++){const o=e._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?je*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=Ha(t._parsed[e],i.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const i=this.chart;let s,o,a,c,u;if(!e){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),e=a.data,c=a.controller;break}}if(!e)return 0;for(s=0,o=e.length;s<o;++s)u=c.resolveDataElementOptions(s),u.borderAlign!=="inner"&&(t=Math.max(t,u.borderWidth||0,u.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,s=e.length;i<s;++i){const o=this.resolveDataElementOptions(i);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(pe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Lb extends Ji{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=t,a=this.chart._animationsDisabled;let{start:c,count:u}=pb(t,s,a);this._drawStart=c,this._drawCount=u,mb(t)&&(c=0,u=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},e),this.updateElements(s,c,u,e)}updateElements(e,t,i,s){const o=s==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(t,s),y=a.axis,v=c.axis,{spanGaps:x,segment:S}=this.options,C=Or(x)?x:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||s==="none",k=t+i,I=e.length;let D=t>0&&this.getParsed(t-1);for(let M=0;M<I;++M){const O=e[M],V=b?O:{};if(M<t||M>=k){V.skip=!0;continue}const F=this.getParsed(M),G=Ce(F[v]),J=V[y]=a.getPixelForValue(F[y],M),ie=V[v]=o||G?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,F,u):F[v],M);V.skip=isNaN(J)||isNaN(ie)||G,V.stop=M>0&&Math.abs(F[y]-D[y])>C,S&&(V.parsed=F,V.raw=d.data[M]),m&&(V.options=p||this.resolveDataElementOptions(M,O.active?"active":s)),b||this.updateElement(O,M,V,s),D=F}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Nb extends Ji{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return t.labels.map((o,a)=>{const u=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:s,lineWidth:u.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=Ha(t._parsed[e].r,i.options.locale);return{label:s[e]||"",value:o}}parseObjectData(e,t,i,s){return Cb.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<t.min&&(t.min=o),o>t.max&&(t.max=o))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,s=Math.min(t.right-t.left,t.bottom-t.top),o=Math.max(s/2,0),a=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),c=(o-a)/e.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,t,i,s){const o=s==="reset",a=this.chart,u=a.options.animation,d=this._cachedMeta.rScale,p=d.xCenter,m=d.yCenter,y=d.getIndexAngle(0)-.5*Pe;let v=y,x;const S=360/this.countVisibleElements();for(x=0;x<t;++x)v+=this._computeAngle(x,s,S);for(x=t;x<t+i;x++){const C=e[x];let b=v,k=v+this._computeAngle(x,s,S),I=a.getDataVisibility(x)?d.getDistanceFromCenterForValue(this.getParsed(x).r):0;v=k,o&&(u.animateScale&&(I=0),u.animateRotate&&(b=k=y));const D={x:p,y:m,innerRadius:0,outerRadius:I,startAngle:b,endAngle:k,options:this.resolveDataElementOptions(x,C.active?"active":s)};this.updateElement(C,x,D,s)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?En(this.resolveDataElementOptions(e,t).angle||i):0}}class FN extends Am{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class VN extends Ji{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,s){return Cb.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta,i=t.dataset,s=t.data||[],o=t.iScale.getLabels();if(i.points=s,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const c={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(i,void 0,c,e)}this.updateElements(s,0,s.length,e)}updateElements(e,t,i,s){const o=this._cachedMeta.rScale,a=s==="reset";for(let c=t;c<t+i;c++){const u=e[c],d=this.resolveDataElementOptions(c,u.active?"active":s),p=o.getPointPositionForValue(c,this.getParsed(c).r),m=a?o.xCenter:p.x,y=a?o.yCenter:p.y,v={x:m,y,angle:p.angle,skip:isNaN(m)||isNaN(y),options:d};this.updateElement(u,c,v,s)}}}class zN extends Ji{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=t,a=this.getParsed(e),c=s.getLabelForValue(a.x),u=o.getLabelForValue(a.y);return{label:i[e]||"",value:"("+c+", "+u+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,s=this.chart._animationsDisabled;let{start:o,count:a}=pb(t,i,s);if(this._drawStart=o,this._drawCount=a,mb(t)&&(o=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:u}=t;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!u._decimated,c.points=i;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,o,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,s){const o=s==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:d}=this._cachedMeta,p=this.resolveDataElementOptions(t,s),m=this.getSharedOptions(p),y=this.includeOptions(s,m),v=a.axis,x=c.axis,{spanGaps:S,segment:C}=this.options,b=Or(S)?S:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||o||s==="none";let I=t>0&&this.getParsed(t-1);for(let D=t;D<t+i;++D){const M=e[D],O=this.getParsed(D),V=k?M:{},F=Ce(O[x]),G=V[v]=a.getPixelForValue(O[v],D),J=V[x]=o||F?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,O,u):O[x],D);V.skip=isNaN(G)||isNaN(J)||F,V.stop=D>0&&Math.abs(O[v]-I[v])>b,C&&(V.parsed=O,V.raw=d.data[D]),y&&(V.options=m||this.resolveDataElementOptions(D,M.active?"active":s)),k||this.updateElement(M,D,V,s),I=O}this.updateSharedOptions(m,s,p)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let c=0;for(let u=t.length-1;u>=0;--u)c=Math.max(c,t[u].size(this.resolveDataElementOptions(u))/2);return c>0&&c}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!t.length)return s;const o=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(s,o,a)/2}}var BN=Object.freeze({__proto__:null,BarController:LN,BubbleController:NN,DoughnutController:Am,LineController:Lb,PieController:FN,PolarAreaController:Nb,RadarController:VN,ScatterController:zN});function ms(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Dm{static override(e){Object.assign(Dm.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ms()}parse(){return ms()}format(){return ms()}add(){return ms()}diff(){return ms()}startOf(){return ms()}endOf(){return ms()}}var UN={_date:Dm};function jN(n,e,t,i){const{controller:s,data:o,_sorted:a}=n,c=s._cachedMeta.iScale,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&a&&o.length){const d=c._reversePixels?rL:ri;if(i){if(s._sharedOptions){const p=o[0],m=typeof p.getRange=="function"&&p.getRange(e);if(m){const y=d(o,e,t-m),v=d(o,e,t+m);return{lo:y.lo,hi:v.hi}}}}else{const p=d(o,e,t);if(u){const{vScale:m}=s._cachedMeta,{_parsed:y}=n,v=y.slice(0,p.lo+1).reverse().findIndex(S=>!Ce(S[m.axis]));p.lo-=Math.max(0,v);const x=y.slice(p.hi).findIndex(S=>!Ce(S[m.axis]));p.hi+=Math.max(0,x)}return p}}return{lo:0,hi:o.length-1}}function Nu(n,e,t,i,s){const o=n.getSortedVisibleDatasetMetas(),a=t[e];for(let c=0,u=o.length;c<u;++c){const{index:d,data:p}=o[c],{lo:m,hi:y}=jN(o[c],e,a,s);for(let v=m;v<=y;++v){const x=p[v];x.skip||i(x,d,v)}}}function WN(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,s){const o=e?Math.abs(i.x-s.x):0,a=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function af(n,e,t,i,s){const o=[];return!s&&!n.isPointInArea(e)||Nu(n,t,e,function(c,u,d){!s&&!oi(c,n.chartArea,0)||c.inRange(e.x,e.y,i)&&o.push({element:c,datasetIndex:u,index:d})},!0),o}function HN(n,e,t,i){let s=[];function o(a,c,u){const{startAngle:d,endAngle:p}=a.getProps(["startAngle","endAngle"],i),{angle:m}=cb(a,{x:e.x,y:e.y});Sa(m,d,p)&&s.push({element:a,datasetIndex:c,index:u})}return Nu(n,t,e,o),s}function $N(n,e,t,i,s,o){let a=[];const c=WN(t);let u=Number.POSITIVE_INFINITY;function d(p,m,y){const v=p.inRange(e.x,e.y,s);if(i&&!v)return;const x=p.getCenterPoint(s);if(!(!!o||n.isPointInArea(x))&&!v)return;const C=c(e,x);C<u?(a=[{element:p,datasetIndex:m,index:y}],u=C):C===u&&a.push({element:p,datasetIndex:m,index:y})}return Nu(n,t,e,d),a}function lf(n,e,t,i,s,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!i?HN(n,e,t,s):$N(n,e,t,i,s,o)}function X0(n,e,t,i,s){const o=[],a=t==="x"?"inXRange":"inYRange";let c=!1;return Nu(n,t,e,(u,d,p)=>{u[a]&&u[a](e[t],s)&&(o.push({element:u,datasetIndex:d,index:p}),c=c||u.inRange(e.x,e.y,s))}),i&&!c?[]:o}var KN={modes:{index(n,e,t,i){const s=vs(e,n),o=t.axis||"x",a=t.includeInvisible||!1,c=t.intersect?af(n,s,o,i,a):lf(n,s,o,!1,i,a),u=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const p=c[0].index,m=d.data[p];m&&!m.skip&&u.push({element:m,datasetIndex:d.index,index:p})}),u):[]},dataset(n,e,t,i){const s=vs(e,n),o=t.axis||"xy",a=t.includeInvisible||!1;let c=t.intersect?af(n,s,o,i,a):lf(n,s,o,!1,i,a);if(c.length>0){const u=c[0].datasetIndex,d=n.getDatasetMeta(u).data;c=[];for(let p=0;p<d.length;++p)c.push({element:d[p],datasetIndex:u,index:p})}return c},point(n,e,t,i){const s=vs(e,n),o=t.axis||"xy",a=t.includeInvisible||!1;return af(n,s,o,i,a)},nearest(n,e,t,i){const s=vs(e,n),o=t.axis||"xy",a=t.includeInvisible||!1;return lf(n,s,o,t.intersect,i,a)},x(n,e,t,i){const s=vs(e,n);return X0(n,s,"x",t.intersect,i)},y(n,e,t,i){const s=vs(e,n);return X0(n,s,"y",t.intersect,i)}}};const Ob=["left","top","right","bottom"];function Bo(n,e){return n.filter(t=>t.pos===e)}function Q0(n,e){return n.filter(t=>Ob.indexOf(t.pos)===-1&&t.box.axis===e)}function Uo(n,e){return n.sort((t,i)=>{const s=e?i:t,o=e?t:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function GN(n){const e=[];let t,i,s,o,a,c;for(t=0,i=(n||[]).length;t<i;++t)s=n[t],{position:o,options:{stack:a,stackWeight:c=1}}=s,e.push({index:t,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&o+a,stackWeight:c});return e}function YN(n){const e={};for(const t of n){const{stack:i,pos:s,stackWeight:o}=t;if(!i||!Ob.includes(s))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return e}function qN(n,e){const t=YN(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let o,a,c;for(o=0,a=n.length;o<a;++o){c=n[o];const{fullSize:u}=c.box,d=t[c.stack],p=d&&c.stackWeight/d.weight;c.horizontal?(c.width=p?p*i:u&&e.availableWidth,c.height=s):(c.width=i,c.height=p?p*s:u&&e.availableHeight)}return t}function XN(n){const e=GN(n),t=Uo(e.filter(d=>d.box.fullSize),!0),i=Uo(Bo(e,"left"),!0),s=Uo(Bo(e,"right")),o=Uo(Bo(e,"top"),!0),a=Uo(Bo(e,"bottom")),c=Q0(e,"x"),u=Q0(e,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:s.concat(u).concat(a).concat(c),chartArea:Bo(e,"chartArea"),vertical:i.concat(s).concat(u),horizontal:o.concat(a).concat(c)}}function J0(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function Fb(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function QN(n,e,t,i){const{pos:s,box:o}=t,a=n.maxPadding;if(!be(s)){t.size&&(n[s]-=t.size);const m=i[t.stack]||{size:0,count:1};m.size=Math.max(m.size,t.horizontal?o.height:o.width),t.size=m.size/m.count,n[s]+=t.size}o.getPadding&&Fb(a,o.getPadding());const c=Math.max(0,e.outerWidth-J0(a,n,"left","right")),u=Math.max(0,e.outerHeight-J0(a,n,"top","bottom")),d=c!==n.w,p=u!==n.h;return n.w=c,n.h=u,t.horizontal?{same:d,other:p}:{same:p,other:d}}function JN(n){const e=n.maxPadding;function t(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function ZN(n,e){const t=e.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{o[a]=Math.max(e[a],t[a])}),o}return i(n?["left","right"]:["top","bottom"])}function Go(n,e,t,i){const s=[];let o,a,c,u,d,p;for(o=0,a=n.length,d=0;o<a;++o){c=n[o],u=c.box,u.update(c.width||e.w,c.height||e.h,ZN(c.horizontal,e));const{same:m,other:y}=QN(e,t,c,i);d|=m&&s.length,p=p||y,u.fullSize||s.push(c)}return d&&Go(s,e,t,i)||p}function gc(n,e,t,i,s){n.top=t,n.left=e,n.right=e+i,n.bottom=t+s,n.width=i,n.height=s}function Z0(n,e,t,i){const s=t.padding;let{x:o,y:a}=e;for(const c of n){const u=c.box,d=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/d.weight||1;if(c.horizontal){const m=e.w*p,y=d.size||u.height;wa(d.start)&&(a=d.start),u.fullSize?gc(u,s.left,a,t.outerWidth-s.right-s.left,y):gc(u,e.left+d.placed,a,m,y),d.start=a,d.placed+=m,a=u.bottom}else{const m=e.h*p,y=d.size||u.width;wa(d.start)&&(o=d.start),u.fullSize?gc(u,o,s.top,y,t.outerHeight-s.bottom-s.top):gc(u,o,e.top+d.placed,y,m),d.start=o,d.placed+=m,o=u.right}}e.x=o,e.y=a}var It={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const s=Rt(n.options.layout.padding),o=Math.max(e-s.width,0),a=Math.max(t-s.height,0),c=XN(n.boxes),u=c.vertical,d=c.horizontal;Ae(n.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=u.reduce((S,C)=>C.box.options&&C.box.options.display===!1?S:S+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/p,hBoxMaxHeight:a/2}),y=Object.assign({},s);Fb(y,Rt(i));const v=Object.assign({maxPadding:y,w:o,h:a,x:s.left,y:s.top},s),x=qN(u.concat(d),m);Go(c.fullSize,v,m,x),Go(u,v,m,x),Go(d,v,m,x)&&Go(u,v,m,x),JN(v),Z0(c.leftAndTop,v,m,x),v.x+=v.w,v.y+=v.h,Z0(c.rightAndBottom,v,m,x),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Ae(c.chartArea,S=>{const C=S.box;Object.assign(C,n.chartArea),C.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class Vb{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class eO extends Vb{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Dc="$chartjs",tO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ex=n=>n===null||n==="";function nO(n,e){const t=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Dc]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",ex(s)){const o=F0(n,"width");o!==void 0&&(n.width=o)}if(ex(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=F0(n,"height");o!==void 0&&(n.height=o)}return n}const zb=JL?{passive:!0}:!1;function iO(n,e,t){n&&n.addEventListener(e,t,zb)}function sO(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,zb)}function rO(n,e){const t=tO[n.type]||n.type,{x:i,y:s}=vs(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function du(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function oO(n,e,t){const i=n.canvas,s=new MutationObserver(o=>{let a=!1;for(const c of o)a=a||du(c.addedNodes,i),a=a&&!du(c.removedNodes,i);a&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function aO(n,e,t){const i=n.canvas,s=new MutationObserver(o=>{let a=!1;for(const c of o)a=a||du(c.removedNodes,i),a=a&&!du(c.addedNodes,i);a&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const ba=new Map;let tx=0;function Bb(){const n=window.devicePixelRatio;n!==tx&&(tx=n,ba.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function lO(n,e){ba.size||window.addEventListener("resize",Bb),ba.set(n,e)}function cO(n){ba.delete(n),ba.size||window.removeEventListener("resize",Bb)}function uO(n,e,t){const i=n.canvas,s=i&&Rm(i);if(!s)return;const o=fb((c,u)=>{const d=s.clientWidth;t(c,u),d<s.clientWidth&&t()},window),a=new ResizeObserver(c=>{const u=c[0],d=u.contentRect.width,p=u.contentRect.height;d===0&&p===0||o(d,p)});return a.observe(s),lO(n,o),a}function cf(n,e,t){t&&t.disconnect(),e==="resize"&&cO(n)}function hO(n,e,t){const i=n.canvas,s=fb(o=>{n.ctx!==null&&t(rO(o,n))},n);return iO(i,e,s),s}class dO extends Vb{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(nO(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Dc])return!1;const i=t[Dc].initial;["height","width"].forEach(o=>{const a=i[o];Ce(a)?t.removeAttribute(o):t.setAttribute(o,a)});const s=i.style||{};return Object.keys(s).forEach(o=>{t.style[o]=s[o]}),t.width=t.width,delete t[Dc],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),a={attach:oO,detach:aO,resize:uO}[t]||hO;s[t]=a(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];if(!s)return;({attach:cf,detach:cf,resize:cf}[t]||sO)(e,t,s),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return QL(e,t,i,s)}isAttached(e){const t=e&&Rm(e);return!!(t&&t.isConnected)}}function fO(n){return!Mm()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?eO:dO}let pi=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Or(this.x)&&Or(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}};function pO(n,e){const t=n.options.ticks,i=mO(n),s=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?yO(e):[],a=o.length,c=o[0],u=o[a-1],d=[];if(a>s)return _O(e,d,o,a/s),d;const p=gO(o,e,s);if(a>0){let m,y;const v=a>1?Math.round((u-c)/(a-1)):null;for(yc(e,d,p,Ce(v)?0:c-v,c),m=0,y=a-1;m<y;m++)yc(e,d,p,o[m],o[m+1]);return yc(e,d,p,u,Ce(v)?e.length:u+v),d}return yc(e,d,p),d}function mO(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(i,s))}function gO(n,e,t){const i=vO(n),s=e.length/t;if(!i)return Math.max(s,1);const o=eL(i);for(let a=0,c=o.length-1;a<c;a++){const u=o[a];if(u>s)return u}return Math.max(s,1)}function yO(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function _O(n,e,t,i){let s=0,o=t[0],a;for(i=Math.ceil(i),a=0;a<n.length;a++)a===o&&(e.push(n[a]),s++,o=t[s*i])}function yc(n,e,t,i,s){const o=pe(i,0),a=Math.min(pe(s,n.length),n.length);let c=0,u,d,p;for(t=Math.ceil(t),s&&(u=s-i,t=u/Math.floor(u/t)),p=o;p<0;)c++,p=Math.round(o+c*t);for(d=Math.max(o,0);d<a;d++)d===p&&(e.push(n[d]),c++,p=Math.round(o+c*t))}function vO(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const xO=n=>n==="left"?"right":n==="right"?"left":n,nx=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,ix=(n,e)=>Math.min(e||n,n);function sx(n,e){const t=[],i=n.length/e,s=n.length;let o=0;for(;o<s;o+=i)t.push(n[Math.floor(o)]);return t}function wO(n,e,t){const i=n.ticks.length,s=Math.min(e,i-1),o=n._startPixel,a=n._endPixel,c=1e-6;let u=n.getPixelForTick(s),d;if(!(t&&(i===1?d=Math.max(u-o,a-u):e===0?d=(n.getPixelForTick(1)-u)/2:d=(u-n.getPixelForTick(s-1))/2,u+=s<e?d:-d,u<o-c||u>a+c)))return u}function SO(n,e){Ae(n,t=>{const i=t.gc,s=i.length/2;let o;if(s>e){for(o=0;o<s;++o)delete t.data[i[o]];i.splice(0,s)}})}function jo(n){return n.drawTicks?n.tickLength:0}function rx(n,e){if(!n.display)return 0;const t=ut(n.font,e),i=Rt(n.padding);return(Ke(n.text)?n.text.length:1)*t.lineHeight+i.height}function CO(n,e){return Qi(n,{scale:e,type:"scale"})}function bO(n,e,t){return Qi(n,{tick:t,index:e,type:"tick"})}function TO(n,e,t){let i=bm(n);return(t&&e!=="right"||!t&&e==="right")&&(i=xO(i)),i}function kO(n,e,t,i){const{top:s,left:o,bottom:a,right:c,chart:u}=n,{chartArea:d,scales:p}=u;let m=0,y,v,x;const S=a-s,C=c-o;if(n.isHorizontal()){if(v=Tt(i,o,c),be(t)){const b=Object.keys(t)[0],k=t[b];x=p[b].getPixelForValue(k)+S-e}else t==="center"?x=(d.bottom+d.top)/2+S-e:x=nx(n,t,e);y=c-o}else{if(be(t)){const b=Object.keys(t)[0],k=t[b];v=p[b].getPixelForValue(k)-C+e}else t==="center"?v=(d.left+d.right)/2-C+e:v=nx(n,t,e);x=Tt(i,a,s),m=t==="left"?-st:st}return{titleX:v,titleY:x,maxWidth:y,rotation:m}}class Us extends pi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=Jt(e,Number.POSITIVE_INFINITY),t=Jt(t,Number.NEGATIVE_INFINITY),i=Jt(i,Number.POSITIVE_INFINITY),s=Jt(s,Number.NEGATIVE_INFINITY),{min:Jt(e,i),max:Jt(t,s),minDefined:et(e),maxDefined:et(t)}}getMinMax(e){let{min:t,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),a;if(s&&o)return{min:t,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,d=c.length;u<d;++u)a=c[u].controller.getMinMax(this,e),s||(t=Math.min(t,a.min)),o||(i=Math.max(i,a.max));return t=o&&t>i?i:t,i=s&&t>i?t:i,{min:Jt(t,Jt(i,t)),max:Jt(i,Jt(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Fe(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:o,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=IL(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?sx(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=pO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Fe(this.options.afterUpdate,[this])}beforeSetDimensions(){Fe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Fe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Fe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Fe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i],o.label=Fe(t.callback,[o.value,i,e],this)}afterTickToLabelConversion(){Fe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Fe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=ix(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,o=t.maxRotation;let a=s,c,u,d;if(!this._isVisible()||!t.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),m=p.widest.width,y=p.highest.height,v=yt(this.chart.width-m,0,this.maxWidth);c=e.offset?this.maxWidth/i:v/(i-1),m+6>c&&(c=v/(i-(e.offset?.5:1)),u=this.maxHeight-jo(e.grid)-t.padding-rx(e.title,this.chart.options.font),d=Math.sqrt(m*m+y*y),a=Sm(Math.min(Math.asin(yt((p.highest.height+6)/c,-1,1)),Math.asin(yt(u/d,-1,1))-Math.asin(yt(y/d,-1,1)))),a=Math.max(s,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){Fe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Fe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:o}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const u=rx(s,t.options.font);if(c?(e.width=this.maxWidth,e.height=jo(o)+u):(e.height=this.maxHeight,e.width=jo(o)+u),i.display&&this.ticks.length){const{first:d,last:p,widest:m,highest:y}=this._getLabelSizes(),v=i.padding*2,x=En(this.labelRotation),S=Math.cos(x),C=Math.sin(x);if(c){const b=i.mirror?0:C*m.width+S*y.height;e.height=Math.min(this.maxHeight,e.height+b+v)}else{const b=i.mirror?0:S*m.width+C*y.height;e.width=Math.min(this.maxWidth,e.width+b+v)}this._calculatePadding(d,p,C,S)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:o,padding:a},position:c}=this.options,u=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,v=0;u?d?(y=s*e.width,v=i*t.height):(y=i*e.height,v=s*t.width):o==="start"?v=t.width:o==="end"?y=e.width:o!=="inner"&&(y=e.width/2,v=t.width/2),this.paddingLeft=Math.max((y-p+a)*this.width/(this.width-p),0),this.paddingRight=Math.max((v-m+a)*this.width/(this.width-m),0)}else{let p=t.height/2,m=e.height/2;o==="start"?(p=0,m=e.height):o==="end"&&(p=t.height,m=0),this.paddingTop=p+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Fe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Ce(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=sx(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:s,_longestTextCache:o}=this,a=[],c=[],u=Math.floor(t/ix(t,i));let d=0,p=0,m,y,v,x,S,C,b,k,I,D,M;for(m=0;m<t;m+=u){if(x=e[m].label,S=this._resolveTickFontOptions(m),s.font=C=S.string,b=o[C]=o[C]||{data:{},gc:[]},k=S.lineHeight,I=D=0,!Ce(x)&&!Ke(x))I=uu(s,b.data,b.gc,I,x),D=k;else if(Ke(x))for(y=0,v=x.length;y<v;++y)M=x[y],!Ce(M)&&!Ke(M)&&(I=uu(s,b.data,b.gc,I,M),D+=k);a.push(I),c.push(D),d=Math.max(I,d),p=Math.max(D,p)}SO(o,t);const O=a.indexOf(d),V=c.indexOf(p),F=G=>({width:a[G]||0,height:c[G]||0});return{first:F(0),last:F(t-1),widest:F(O),highest:F(V),widths:a,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return sL(this._alignToPixels?ps(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=bO(this.getContext(),e,i))}return this.$context||(this.$context=CO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=En(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),o=this._getLabelSizes(),a=e.autoSkipPadding||0,c=o?o.widest.width+a:0,u=o?o.highest.height+a:0;return this.isHorizontal()?u*i>c*s?c/i:u/s:u*s<c*i?u/i:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:o,position:a,border:c}=s,u=o.offset,d=this.isHorizontal(),m=this.ticks.length+(u?1:0),y=jo(o),v=[],x=c.setContext(this.getContext()),S=x.display?x.width:0,C=S/2,b=function(ge){return ps(i,ge,S)};let k,I,D,M,O,V,F,G,J,ie,ae,Te;if(a==="top")k=b(this.bottom),V=this.bottom-y,G=k-C,ie=b(e.top)+C,Te=e.bottom;else if(a==="bottom")k=b(this.top),ie=e.top,Te=b(e.bottom)-C,V=k+C,G=this.top+y;else if(a==="left")k=b(this.right),O=this.right-y,F=k-C,J=b(e.left)+C,ae=e.right;else if(a==="right")k=b(this.left),J=e.left,ae=b(e.right)-C,O=k+C,F=this.left+y;else if(t==="x"){if(a==="center")k=b((e.top+e.bottom)/2+.5);else if(be(a)){const ge=Object.keys(a)[0],ee=a[ge];k=b(this.chart.scales[ge].getPixelForValue(ee))}ie=e.top,Te=e.bottom,V=k+C,G=V+y}else if(t==="y"){if(a==="center")k=b((e.left+e.right)/2);else if(be(a)){const ge=Object.keys(a)[0],ee=a[ge];k=b(this.chart.scales[ge].getPixelForValue(ee))}O=k-C,F=O-y,J=e.left,ae=e.right}const De=pe(s.ticks.maxTicksLimit,m),me=Math.max(1,Math.ceil(m/De));for(I=0;I<m;I+=me){const ge=this.getContext(I),ee=o.setContext(ge),j=c.setContext(ge),q=ee.lineWidth,Y=ee.color,R=j.dash||[],z=j.dashOffset,de=ee.tickWidth,fe=ee.tickColor,_e=ee.tickBorderDash||[],ye=ee.tickBorderDashOffset;D=wO(this,I,u),D!==void 0&&(M=ps(i,D,q),d?O=F=J=ae=M:V=G=ie=Te=M,v.push({tx1:O,ty1:V,tx2:F,ty2:G,x1:J,y1:ie,x2:ae,y2:Te,width:q,color:Y,borderDash:R,borderDashOffset:z,tickWidth:de,tickColor:fe,tickBorderDash:_e,tickBorderDashOffset:ye}))}return this._ticksLength=m,this._borderValue=k,v}_computeLabelItems(e){const t=this.axis,i=this.options,{position:s,ticks:o}=i,a=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:d,padding:p,mirror:m}=o,y=jo(i.grid),v=y+p,x=m?-p:v,S=-En(this.labelRotation),C=[];let b,k,I,D,M,O,V,F,G,J,ie,ae,Te="middle";if(s==="top")O=this.bottom-x,V=this._getXAxisLabelAlignment();else if(s==="bottom")O=this.top+x,V=this._getXAxisLabelAlignment();else if(s==="left"){const me=this._getYAxisLabelAlignment(y);V=me.textAlign,M=me.x}else if(s==="right"){const me=this._getYAxisLabelAlignment(y);V=me.textAlign,M=me.x}else if(t==="x"){if(s==="center")O=(e.top+e.bottom)/2+v;else if(be(s)){const me=Object.keys(s)[0],ge=s[me];O=this.chart.scales[me].getPixelForValue(ge)+v}V=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")M=(e.left+e.right)/2-v;else if(be(s)){const me=Object.keys(s)[0],ge=s[me];M=this.chart.scales[me].getPixelForValue(ge)}V=this._getYAxisLabelAlignment(y).textAlign}t==="y"&&(u==="start"?Te="top":u==="end"&&(Te="bottom"));const De=this._getLabelSizes();for(b=0,k=c.length;b<k;++b){I=c[b],D=I.label;const me=o.setContext(this.getContext(b));F=this.getPixelForTick(b)+o.labelOffset,G=this._resolveTickFontOptions(b),J=G.lineHeight,ie=Ke(D)?D.length:1;const ge=ie/2,ee=me.color,j=me.textStrokeColor,q=me.textStrokeWidth;let Y=V;a?(M=F,V==="inner"&&(b===k-1?Y=this.options.reverse?"left":"right":b===0?Y=this.options.reverse?"right":"left":Y="center"),s==="top"?d==="near"||S!==0?ae=-ie*J+J/2:d==="center"?ae=-De.highest.height/2-ge*J+J:ae=-De.highest.height+J/2:d==="near"||S!==0?ae=J/2:d==="center"?ae=De.highest.height/2-ge*J:ae=De.highest.height-ie*J,m&&(ae*=-1),S!==0&&!me.showLabelBackdrop&&(M+=J/2*Math.sin(S))):(O=F,ae=(1-ie)*J/2);let R;if(me.showLabelBackdrop){const z=Rt(me.backdropPadding),de=De.heights[b],fe=De.widths[b];let _e=ae-z.top,ye=0-z.left;switch(Te){case"middle":_e-=de/2;break;case"bottom":_e-=de;break}switch(V){case"center":ye-=fe/2;break;case"right":ye-=fe;break;case"inner":b===k-1?ye-=fe:b>0&&(ye-=fe/2);break}R={left:ye,top:_e,width:fe+z.width,height:de+z.height,color:me.backdropColor}}C.push({label:D,font:G,textOffset:ae,options:{rotation:S,color:ee,strokeColor:j,strokeWidth:q,textAlign:Y,textBaseline:Te,translation:[M,O],backdrop:R}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-En(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,a=this._getLabelSizes(),c=e+o,u=a.widest.width;let d,p;return t==="left"?s?(p=this.right+o,i==="near"?d="left":i==="center"?(d="center",p+=u/2):(d="right",p+=u)):(p=this.right-c,i==="near"?d="right":i==="center"?(d="center",p-=u/2):(d="left",p=this.left)):t==="right"?s?(p=this.left+o,i==="near"?d="right":i==="center"?(d="center",p-=u/2):(d="left",p-=u)):(p=this.left+c,i==="near"?d="left":i==="center"?(d="center",p+=u/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:o,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,o,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(o=>o.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,a;const c=(u,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(o=0,a=s.length;o<a;++o){const u=s[o];t.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),t.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),a=i.display?o.width:0;if(!a)return;const c=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,p,m,y;this.isHorizontal()?(d=ps(e,this.left,a)-a/2,p=ps(e,this.right,c)+c/2,m=y=u):(m=ps(e,this.top,a)-a/2,y=ps(e,this.bottom,c)+c/2,d=p=u),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(d,m),t.lineTo(p,y),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Au(i,s);const o=this.getLabelItems(e);for(const a of o){const c=a.options,u=a.font,d=a.label,p=a.textOffset;Fs(i,d,0,p,u,c)}s&&Du(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const o=ut(i.font),a=Rt(i.padding),c=i.align;let u=o.lineHeight/2;t==="bottom"||t==="center"||be(t)?(u+=a.bottom,Ke(i.text)&&(u+=o.lineHeight*(i.text.length-1))):u+=a.top;const{titleX:d,titleY:p,maxWidth:m,rotation:y}=kO(this,u,t,c);Fs(e,i.text,0,0,o,{color:i.color,maxWidth:m,rotation:y,textAlign:TO(c,t,s),textBaseline:"middle",translation:[d,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=pe(e.grid&&e.grid.z,-1),s=pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Us.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,a;for(o=0,a=t.length;o<a;++o){const c=t[o];c[i]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ut(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class _c{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;IO(t)&&(i=this.register(t));const s=this.items,o=e.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in s||(s[o]=e,EO(e,a,i),this.override&&Ge.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in Ge[s]&&(delete Ge[s][i],this.override&&delete Os[i])}}function EO(n,e,t){const i=xa(Object.create(null),[t?Ge.get(t):{},Ge.get(e),n.defaults]);Ge.set(e,i),n.defaultRoutes&&PO(e,n.defaultRoutes),n.descriptors&&Ge.describe(e,n.descriptors)}function PO(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),s=i.pop(),o=[n].concat(i).join("."),a=e[t].split("."),c=a.pop(),u=a.join(".");Ge.route(o,s,u,c)})}function IO(n){return"id"in n&&"defaults"in n}class MO{constructor(){this.controllers=new _c(Ji,"datasets",!0),this.elements=new _c(pi,"elements"),this.plugins=new _c(Object,"plugins"),this.scales=new _c(Us,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(e,o,s):Ae(s,a=>{const c=i||this._getRegistryForType(a);this._exec(e,c,a)})})}_exec(e,t,i){const s=wm(e);Fe(i["before"+s],[],i),t[e](i),Fe(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var On=new MO;class RO{constructor(){this._init=void 0}notify(e,t,i,s){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(o,e,t,i);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,i,s){s=s||{};for(const o of e){const a=o.plugin,c=a[i],u=[t,s,o.options];if(Fe(c,u,a)===!1&&s.cancelable)return!1}return!0}invalidate(){Ce(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=pe(i.options&&i.options.plugins,{}),o=AO(i);return s===!1&&!t?[]:LO(e,o,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(o,a)=>o.filter(c=>!a.some(u=>c.plugin.id===u.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function AO(n){const e={},t=[],i=Object.keys(On.plugins.items);for(let o=0;o<i.length;o++)t.push(On.getPlugin(i[o]));const s=n.plugins||[];for(let o=0;o<s.length;o++){const a=s[o];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function DO(n,e){return!e&&n===!1?null:n===!0?{}:n}function LO(n,{plugins:e,localIds:t},i,s){const o=[],a=n.getContext();for(const c of e){const u=c.id,d=DO(i[u],s);d!==null&&o.push({plugin:c,options:NO(n.config,{plugin:c,local:t[u]},d,a)})}return o}function NO(n,{plugin:e,local:t},i,s){const o=n.pluginScopeKeys(e),a=n.getOptionScopes(i,o);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Jf(n,e){const t=Ge.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function OO(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function FO(n,e){return n===e?"_index_":"_value_"}function ox(n){if(n==="x"||n==="y"||n==="r")return n}function VO(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Zf(n,...e){if(ox(n))return n;for(const t of e){const i=t.axis||VO(t.position)||n.length>1&&ox(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function ax(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function zO(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return ax(n,"x",t[0])||ax(n,"y",t[0])}return{}}function BO(n,e){const t=Os[n.type]||{scales:{}},i=e.scales||{},s=Jf(n.type,e),o=Object.create(null);return Object.keys(i).forEach(a=>{const c=i[a];if(!be(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=Zf(a,c,zO(a,n),Ge.scales[c.type]),d=FO(u,s),p=t.scales||{};o[a]=na(Object.create(null),[{axis:u},c,p[u],p[d]])}),n.data.datasets.forEach(a=>{const c=a.type||n.type,u=a.indexAxis||Jf(c,e),p=(Os[c]||{}).scales||{};Object.keys(p).forEach(m=>{const y=OO(m,u),v=a[y+"AxisID"]||y;o[v]=o[v]||Object.create(null),na(o[v],[{axis:y},i[v],p[m]])})}),Object.keys(o).forEach(a=>{const c=o[a];na(c,[Ge.scales[c.type],Ge.scale])}),o}function Ub(n){const e=n.options||(n.options={});e.plugins=pe(e.plugins,{}),e.scales=BO(n,e)}function jb(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function UO(n){return n=n||{},n.data=jb(n.data),Ub(n),n}const lx=new Map,Wb=new Set;function vc(n,e){let t=lx.get(n);return t||(t=e(),lx.set(n,t),Wb.add(t)),t}const Wo=(n,e,t)=>{const i=Gi(e,t);i!==void 0&&n.add(i)};class jO{constructor(e){this._config=UO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=jb(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ub(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return vc(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return vc(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return vc(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return(!s||t)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:o}=this,a=this._cachedScopes(e,i),c=a.get(t);if(c)return c;const u=new Set;t.forEach(p=>{e&&(u.add(e),p.forEach(m=>Wo(u,e,m))),p.forEach(m=>Wo(u,s,m)),p.forEach(m=>Wo(u,Os[o]||{},m)),p.forEach(m=>Wo(u,Ge,m)),p.forEach(m=>Wo(u,Xf,m))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),Wb.has(t)&&a.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,Os[t]||{},Ge.datasets[t]||{},{type:t},Ge,Xf]}resolveNamedOptions(e,t,i,s=[""]){const o={$shared:!0},{resolver:a,subPrefixes:c}=cx(this._resolverCache,e,s);let u=a;if(HO(a,t)){o.$shared=!1,i=Yi(i)?i():i;const d=this.createResolver(e,i,c);u=Fr(a,i,d)}for(const d of t)o[d]=u[d];return o}createResolver(e,t,i=[""],s){const{resolver:o}=cx(this._resolverCache,e,i);return be(t)?Fr(o,t,void 0,s):o}}function cx(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=t.join();let o=i.get(s);return o||(o={resolver:Em(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,o)),o}const WO=n=>be(n)&&Object.getOwnPropertyNames(n).some(e=>Yi(n[e]));function HO(n,e){const{isScriptable:t,isIndexable:i}=vb(n);for(const s of e){const o=t(s),a=i(s),c=(a||o)&&n[s];if(o&&(Yi(c)||WO(c))||a&&Ke(c))return!0}return!1}var $O="4.5.1";const KO=["top","bottom","left","right","chartArea"];function ux(n,e){return n==="top"||n==="bottom"||KO.indexOf(n)===-1&&e==="x"}function hx(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function dx(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Fe(t&&t.onComplete,[n],e)}function GO(n){const e=n.chart,t=e.options.animation;Fe(t&&t.onProgress,[n],e)}function Hb(n){return Mm()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Lc={},fx=n=>{const e=Hb(n);return Object.values(Lc).filter(t=>t.canvas===e).pop()};function YO(n,e,t){const i=Object.keys(n);for(const s of i){const o=+s;if(o>=e){const a=n[s];delete n[s],(t>0||o>e)&&(n[o+t]=a)}}}function qO(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}let Ou=class{static defaults=Ge;static instances=Lc;static overrides=Os;static registry=On;static version=$O;static getChart=fx;static register(...e){On.add(...e),px()}static unregister(...e){On.remove(...e),px()}constructor(e,t){const i=this.config=new jO(t),s=Hb(e),o=fx(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||fO(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,a.aspectRatio),u=c&&c.canvas,d=u&&u.height,p=u&&u.width;if(this.id=$D(),this.ctx=c,this.canvas=u,this.width=p,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new RO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=lL(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],Lc[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Qn.listen(this,"complete",dx),Qn.listen(this,"progress",GO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:s,_aspectRatio:o}=this;return Ce(e)?t&&o?o:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return On}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():O0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return D0(this.canvas,this.ctx),this}stop(){return Qn.stop(this),this}resize(e,t){Qn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,t,o),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,O0(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Fe(i.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ae(t,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{});let o=[];t&&(o=o.concat(Object.keys(t).map(a=>{const c=t[a],u=Zf(a,c),d=u==="r",p=u==="x";return{options:c,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),Ae(o,a=>{const c=a.options,u=c.id,d=Zf(u,c),p=pe(c.type,a.dtype);(c.position===void 0||ux(c.position,d)!==ux(a.dposition))&&(c.position=a.dposition),s[u]=!0;let m=null;if(u in i&&i[u].type===p)m=i[u];else{const y=On.getScale(p);m=new y({id:u,type:p,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(c,e)}),Ae(s,(a,c)=>{a||delete i[c]}),Ae(i,a=>{It.configure(this,a,a.options),It.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((s,o)=>s.index-o.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(hx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,s)=>{t.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const o=t[i];let a=this.getDatasetMeta(i);const c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=o.indexAxis||Jf(c,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const u=On.getController(c),{datasetElementType:d,dataElementType:p}=Ge.datasets[c];Object.assign(u,{dataElementType:On.getElement(p),datasetElementType:d&&On.getElement(d)}),a.controller=new u(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Ae(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:m}=this.getDatasetMeta(d),y=!s&&o.indexOf(m)===-1;m.buildOrUpdateElements(y),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||Ae(o,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(hx("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Ae(this.scales,e=>{It.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!b0(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of t){const a=i==="_removeElements"?-o:o;YO(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=o=>new Set(e.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<t;o++)if(!b0(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;It.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Ae(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Yi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qn.has(this)?this.attached&&!Qn.running(this)&&Qn.start(this):(this.draw(),dx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,o;for(s=0,o=t.length;s<o;++s){const a=t[s];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=Mb(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Au(t,s),e.controller.draw(),s&&Du(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return oi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const o=KN.modes[t];return typeof o=="function"?o(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(o=>o&&o._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Qi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,s);wa(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(o,{visible:i}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Qn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),D0(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Lc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(o,a)=>{t.addEventListener(this,o,a),e[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};Ae(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(u,d)=>{t.addEventListener(this,u,d),e[u]=d},s=(u,d)=>{e[u]&&(t.removeEventListener(this,u,d),delete e[u])},o=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",c)},t.isAttached(this.canvas)?c():a()}unbindEvents(){Ae(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ae(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let o,a,c,u;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){a=e[c];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:o,index:a})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!au(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const s=this.options.hover,o=(u,d)=>u.filter(p=>!d.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),a=o(t,e),c=i?e:o(e,t);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:o}=this,a=t,c=this._getActiveElements(e,s,i,a),u=QD(e),d=qO(e,this._lastEvent,i,u);i&&(this._lastEvent=null,Fe(o.onHover,[e,c,this],this),u&&Fe(o.onClick,[e,c,this],this));const p=!au(c,s);return(p||t)&&(this._active=c,this._updateHoverStyles(c,s,t)),this._lastEvent=d,p}_getActiveElements(e,t,i,s){if(e.type==="mouseout")return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}};function px(){return Ae(Ou.instances,n=>n._plugins.invalidate())}function XO(n,e,t){const{startAngle:i,x:s,y:o,outerRadius:a,innerRadius:c,options:u}=e,{borderWidth:d,borderJoinStyle:p}=u,m=Math.min(d/a,kt(i-t));if(n.beginPath(),n.arc(s,o,a-d/2,i+m/2,t-m/2),c>0){const y=Math.min(d/c,kt(i-t));n.arc(s,o,c+d/2,t-y/2,i+y/2,!0)}else{const y=Math.min(d/2,a*kt(i-t));if(p==="round")n.arc(s,o,y,t-Pe/2,i+Pe/2,!0);else if(p==="bevel"){const v=2*y*y,x=-v*Math.cos(t+Pe/2)+s,S=-v*Math.sin(t+Pe/2)+o,C=v*Math.cos(i+Pe/2)+s,b=v*Math.sin(i+Pe/2)+o;n.lineTo(x,S),n.lineTo(C,b)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function QO(n,e,t){const{startAngle:i,pixelMargin:s,x:o,y:a,outerRadius:c,innerRadius:u}=e;let d=s/c;n.beginPath(),n.arc(o,a,c,i-d,t+d),u>s?(d=s/u,n.arc(o,a,u,t+d,i-d,!0)):n.arc(o,a,s,t+st,i-st),n.closePath(),n.clip()}function JO(n){return km(n,["outerStart","outerEnd","innerStart","innerEnd"])}function ZO(n,e,t,i){const s=JO(n.options.borderRadius),o=(t-e)/2,a=Math.min(o,i*e/2),c=u=>{const d=(t-Math.min(o,u))*i/2;return yt(u,0,Math.min(o,d))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:yt(s.innerStart,0,a),innerEnd:yt(s.innerEnd,0,a)}}function mr(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function fu(n,e,t,i,s,o){const{x:a,y:c,startAngle:u,pixelMargin:d,innerRadius:p}=e,m=Math.max(e.outerRadius+i+t-d,0),y=p>0?p+i+t+d:0;let v=0;const x=s-u;if(i){const me=p>0?p-i:0,ge=m>0?m-i:0,ee=(me+ge)/2,j=ee!==0?x*ee/(ee+i):x;v=(x-j)/2}const S=Math.max(.001,x*m-t/Pe)/m,C=(x-S)/2,b=u+C+v,k=s-C-v,{outerStart:I,outerEnd:D,innerStart:M,innerEnd:O}=ZO(e,y,m,k-b),V=m-I,F=m-D,G=b+I/V,J=k-D/F,ie=y+M,ae=y+O,Te=b+M/ie,De=k-O/ae;if(n.beginPath(),o){const me=(G+J)/2;if(n.arc(a,c,m,G,me),n.arc(a,c,m,me,J),D>0){const q=mr(F,J,a,c);n.arc(q.x,q.y,D,J,k+st)}const ge=mr(ae,k,a,c);if(n.lineTo(ge.x,ge.y),O>0){const q=mr(ae,De,a,c);n.arc(q.x,q.y,O,k+st,De+Math.PI)}const ee=(k-O/y+(b+M/y))/2;if(n.arc(a,c,y,k-O/y,ee,!0),n.arc(a,c,y,ee,b+M/y,!0),M>0){const q=mr(ie,Te,a,c);n.arc(q.x,q.y,M,Te+Math.PI,b-st)}const j=mr(V,b,a,c);if(n.lineTo(j.x,j.y),I>0){const q=mr(V,G,a,c);n.arc(q.x,q.y,I,b-st,G)}}else{n.moveTo(a,c);const me=Math.cos(G)*m+a,ge=Math.sin(G)*m+c;n.lineTo(me,ge);const ee=Math.cos(J)*m+a,j=Math.sin(J)*m+c;n.lineTo(ee,j)}n.closePath()}function eF(n,e,t,i,s){const{fullCircles:o,startAngle:a,circumference:c}=e;let u=e.endAngle;if(o){fu(n,e,t,i,u,s);for(let d=0;d<o;++d)n.fill();isNaN(c)||(u=a+(c%je||je))}return fu(n,e,t,i,u,s),n.fill(),u}function tF(n,e,t,i,s){const{fullCircles:o,startAngle:a,circumference:c,options:u}=e,{borderWidth:d,borderJoinStyle:p,borderDash:m,borderDashOffset:y,borderRadius:v}=u,x=u.borderAlign==="inner";if(!d)return;n.setLineDash(m||[]),n.lineDashOffset=y,x?(n.lineWidth=d*2,n.lineJoin=p||"round"):(n.lineWidth=d,n.lineJoin=p||"bevel");let S=e.endAngle;if(o){fu(n,e,t,i,S,s);for(let C=0;C<o;++C)n.stroke();isNaN(c)||(S=a+(c%je||je))}x&&QO(n,e,S),u.selfJoin&&S-a>=Pe&&v===0&&p!=="miter"&&XO(n,e,S),o||(fu(n,e,t,i,S,s),n.stroke())}class nF extends pi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=cb(s,{x:e,y:t}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:p,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),y=(this.options.spacing+this.options.borderWidth)/2,v=pe(m,u-c),x=Sa(o,c,u)&&c!==u,S=v>=je||x,C=si(a,d+y,p+y);return S&&C}getCenterPoint(e){const{x:t,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:d}=this.options,p=(s+o)/2,m=(a+c+d+u)/2;return{x:t+Math.cos(p)*m,y:i+Math.sin(p)*m}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,s=(t.offset||0)/4,o=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>je?Math.floor(i/je):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*s,Math.sin(c)*s);const u=1-Math.sin(Math.min(Pe,i||0)),d=s*u;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,eF(e,this,d,o,a),tF(e,this,d,o,a),e.restore()}}function $b(n,e,t=e){n.lineCap=pe(t.borderCapStyle,e.borderCapStyle),n.setLineDash(pe(t.borderDash,e.borderDash)),n.lineDashOffset=pe(t.borderDashOffset,e.borderDashOffset),n.lineJoin=pe(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=pe(t.borderWidth,e.borderWidth),n.strokeStyle=pe(t.borderColor,e.borderColor)}function iF(n,e,t){n.lineTo(t.x,t.y)}function sF(n){return n.stepped?xL:n.tension||n.cubicInterpolationMode==="monotone"?wL:iF}function Kb(n,e,t={}){const i=n.length,{start:s=0,end:o=i-1}=t,{start:a,end:c}=e,u=Math.max(s,a),d=Math.min(o,c),p=s<a&&o<a||s>c&&o>c;return{count:i,start:u,loop:e.loop,ilen:d<u&&!p?i+d-u:d-u}}function rF(n,e,t,i){const{points:s,options:o}=e,{count:a,start:c,loop:u,ilen:d}=Kb(s,t,i),p=sF(o);let{move:m=!0,reverse:y}=i||{},v,x,S;for(v=0;v<=d;++v)x=s[(c+(y?d-v:v))%a],!x.skip&&(m?(n.moveTo(x.x,x.y),m=!1):p(n,S,x,y,o.stepped),S=x);return u&&(x=s[(c+(y?d:0))%a],p(n,S,x,y,o.stepped)),!!u}function oF(n,e,t,i){const s=e.points,{count:o,start:a,ilen:c}=Kb(s,t,i),{move:u=!0,reverse:d}=i||{};let p=0,m=0,y,v,x,S,C,b;const k=D=>(a+(d?c-D:D))%o,I=()=>{S!==C&&(n.lineTo(p,C),n.lineTo(p,S),n.lineTo(p,b))};for(u&&(v=s[k(0)],n.moveTo(v.x,v.y)),y=0;y<=c;++y){if(v=s[k(y)],v.skip)continue;const D=v.x,M=v.y,O=D|0;O===x?(M<S?S=M:M>C&&(C=M),p=(m*p+D)/++m):(I(),n.lineTo(D,M),x=O,m=0,S=C=M),b=M}I()}function ep(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?oF:rF}function aF(n){return n.stepped?ZL:n.tension||n.cubicInterpolationMode==="monotone"?eN:xs}function lF(n,e,t,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,i)&&s.closePath()),$b(n,e.options),n.stroke(s)}function cF(n,e,t,i){const{segments:s,options:o}=e,a=ep(e);for(const c of s)$b(n,o,c.style),n.beginPath(),a(n,e,c,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const uF=typeof Path2D=="function";function hF(n,e,t,i){uF&&!e.options.segment?lF(n,e,t,i):cF(n,e,t,i)}class Fu extends pi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;$L(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=oN(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],o=this.points,a=Ib(this,{property:t,start:s,end:s});if(!a.length)return;const c=[],u=aF(i);let d,p;for(d=0,p=a.length;d<p;++d){const{start:m,end:y}=a[d],v=o[m],x=o[y];if(v===x){c.push(v);continue}const S=Math.abs((s-v[t])/(x[t]-v[t])),C=u(v,x,S,i.stepped);C[t]=e[t],c.push(C)}return c.length===1?c[0]:c}pathSegment(e,t,i){return ep(this)(e,this,t,i)}path(e,t,i){const s=this.segments,o=ep(this);let a=this._loop;t=t||0,i=i||this.points.length-t;for(const c of s)a&=o(e,this,c,{start:t,end:t+i-1});return!!a}draw(e,t,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),hF(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function mx(n,e,t,i){const s=n.options,{[t]:o}=n.getProps([t],i);return Math.abs(e-o)<s.radius+s.hitRadius}class dF extends pi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(e-o,2)+Math.pow(t-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,t){return mx(this,e,"x",t)}inYRange(e,t){return mx(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const i=t&&e.borderWidth||0;return(t+i)*2}draw(e,t){const i=this.options;this.skip||i.radius<.1||!oi(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Qf(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Gb(n,e){const{x:t,y:i,base:s,width:o,height:a}=n.getProps(["x","y","base","width","height"],e);let c,u,d,p,m;return n.horizontal?(m=a/2,c=Math.min(t,s),u=Math.max(t,s),d=i-m,p=i+m):(m=o/2,c=t-m,u=t+m,d=Math.min(i,s),p=Math.max(i,s)),{left:c,top:d,right:u,bottom:p}}function ji(n,e,t,i){return n?0:yt(e,t,i)}function fF(n,e,t){const i=n.options.borderWidth,s=n.borderSkipped,o=_b(i);return{t:ji(s.top,o.top,0,t),r:ji(s.right,o.right,0,e),b:ji(s.bottom,o.bottom,0,t),l:ji(s.left,o.left,0,e)}}function pF(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,o=Es(s),a=Math.min(e,t),c=n.borderSkipped,u=i||be(s);return{topLeft:ji(!u||c.top||c.left,o.topLeft,0,a),topRight:ji(!u||c.top||c.right,o.topRight,0,a),bottomLeft:ji(!u||c.bottom||c.left,o.bottomLeft,0,a),bottomRight:ji(!u||c.bottom||c.right,o.bottomRight,0,a)}}function mF(n){const e=Gb(n),t=e.right-e.left,i=e.bottom-e.top,s=fF(n,t/2,i/2),o=pF(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:o},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function uf(n,e,t,i){const s=e===null,o=t===null,c=n&&!(s&&o)&&Gb(n,i);return c&&(s||si(e,c.left,c.right))&&(o||si(t,c.top,c.bottom))}function gF(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function yF(n,e){n.rect(e.x,e.y,e.w,e.h)}function hf(n,e,t={}){const i=n.x!==t.x?-e:0,s=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-i,a=(n.y+n.h!==t.y+t.h?e:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+o,h:n.h+a,radius:n.radius}}class _F extends pi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:a}=mF(this),c=gF(a.radius)?Ca:yF;e.save(),(a.w!==o.w||a.h!==o.h)&&(e.beginPath(),c(e,hf(a,t,o)),e.clip(),c(e,hf(o,-t,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,hf(o,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,i){return uf(this,e,t,i)}inXRange(e,t){return uf(this,e,null,t)}inYRange(e,t){return uf(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+s)/2:t,y:o?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var vF=Object.freeze({__proto__:null,ArcElement:nF,BarElement:_F,LineElement:Fu,PointElement:dF});const tp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],gx=tp.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Yb(n){return tp[n%tp.length]}function qb(n){return gx[n%gx.length]}function xF(n,e){return n.borderColor=Yb(e),n.backgroundColor=qb(e),++e}function wF(n,e){return n.backgroundColor=n.data.map(()=>Yb(e++)),e}function SF(n,e){return n.backgroundColor=n.data.map(()=>qb(e++)),e}function CF(n){let e=0;return(t,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof Am?e=wF(t,e):s instanceof Nb?e=SF(t,e):s&&(e=xF(t,e))}}function yx(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function bF(n){return n&&(n.borderColor||n.backgroundColor)}function TF(){return Ge.borderColor!=="rgba(0,0,0,0.1)"||Ge.backgroundColor!=="rgba(0,0,0,0.1)"}var kF={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:o}=s,a=yx(i)||bF(s)||o&&yx(o)||TF();if(!t.forceOverride&&a)return;const c=CF(n);i.forEach(c)}};function EF(n,e,t,i,s){const o=s.samples||i;if(o>=t)return n.slice(e,e+t);const a=[],c=(t-2)/(o-2);let u=0;const d=e+t-1;let p=e,m,y,v,x,S;for(a[u++]=n[p],m=0;m<o-2;m++){let C=0,b=0,k;const I=Math.floor((m+1)*c)+1+e,D=Math.min(Math.floor((m+2)*c)+1,t)+e,M=D-I;for(k=I;k<D;k++)C+=n[k].x,b+=n[k].y;C/=M,b/=M;const O=Math.floor(m*c)+1+e,V=Math.min(Math.floor((m+1)*c)+1,t)+e,{x:F,y:G}=n[p];for(v=x=-1,k=O;k<V;k++)x=.5*Math.abs((F-C)*(n[k].y-G)-(F-n[k].x)*(b-G)),x>v&&(v=x,y=n[k],S=k);a[u++]=y,p=S}return a[u++]=n[d],a}function PF(n,e,t,i){let s=0,o=0,a,c,u,d,p,m,y,v,x,S;const C=[],b=e+t-1,k=n[e].x,D=n[b].x-k;for(a=e;a<e+t;++a){c=n[a],u=(c.x-k)/D*i,d=c.y;const M=u|0;if(M===p)d<x?(x=d,m=a):d>S&&(S=d,y=a),s=(o*s+c.x)/++o;else{const O=a-1;if(!Ce(m)&&!Ce(y)){const V=Math.min(m,y),F=Math.max(m,y);V!==v&&V!==O&&C.push({...n[V],x:s}),F!==v&&F!==O&&C.push({...n[F],x:s})}a>0&&O!==v&&C.push(n[O]),C.push(c),p=M,o=0,x=S=d,m=y=v=a}}return C}function Xb(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function _x(n){n.data.datasets.forEach(e=>{Xb(e)})}function IF(n,e){const t=e.length;let i=0,s;const{iScale:o}=n,{min:a,max:c,minDefined:u,maxDefined:d}=o.getUserBounds();return u&&(i=yt(ri(e,o.axis,a).lo,0,t-1)),d?s=yt(ri(e,o.axis,c).hi+1,i,t)-i:s=t-i,{start:i,count:s}}var MF={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){_x(n);return}const i=n.width;n.data.datasets.forEach((s,o)=>{const{_data:a,indexAxis:c}=s,u=n.getDatasetMeta(o),d=a||s.data;if(Ko([c,n.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const p=n.scales[u.xAxisID];if(p.type!=="linear"&&p.type!=="time"||n.options.parsing)return;let{start:m,count:y}=IF(u,d);const v=t.threshold||4*i;if(y<=v){Xb(s);return}Ce(a)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let x;switch(t.algorithm){case"lttb":x=EF(d,m,y,i,t);break;case"min-max":x=PF(d,m,y,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}s._decimated=x})},destroy(n){_x(n)}};function RF(n,e,t){const i=n.segments,s=n.points,o=e.points,a=[];for(const c of i){let{start:u,end:d}=c;d=Vu(u,d,s);const p=np(t,s[u],s[d],c.loop);if(!e.segments){a.push({source:c,target:p,start:s[u],end:s[d]});continue}const m=Ib(e,p);for(const y of m){const v=np(t,o[y.start],o[y.end],y.loop),x=Pb(c,s,v);for(const S of x)a.push({source:S,target:y,start:{[t]:vx(p,v,"start",Math.max)},end:{[t]:vx(p,v,"end",Math.min)}})}}return a}function np(n,e,t,i){if(i)return;let s=e[n],o=t[n];return n==="angle"&&(s=kt(s),o=kt(o)),{property:n,start:s,end:o}}function AF(n,e){const{x:t=null,y:i=null}=n||{},s=e.points,o=[];return e.segments.forEach(({start:a,end:c})=>{c=Vu(a,c,s);const u=s[a],d=s[c];i!==null?(o.push({x:u.x,y:i}),o.push({x:d.x,y:i})):t!==null&&(o.push({x:t,y:u.y}),o.push({x:t,y:d.y}))}),o}function Vu(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function vx(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function Qb(n,e){let t=[],i=!1;return Ke(n)?(i=!0,t=n):t=AF(n,e),t.length?new Fu({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function xx(n){return n&&n.fill!==!1}function DF(n,e,t){let s=n[e].fill;const o=[e];let a;if(!t)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!et(s))return s;if(a=n[s],!a)return!1;if(a.visible)return s;o.push(s),s=a.fill}return!1}function LF(n,e,t){const i=VF(n);if(be(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return et(s)&&Math.floor(s)===s?NF(i[0],e,s,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function NF(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function OF(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:be(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function FF(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:be(n)?i=n.value:i=e.getBaseValue(),i}function VF(n){const e=n.options,t=e.fill;let i=pe(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function zF(n){const{scale:e,index:t,line:i}=n,s=[],o=i.segments,a=i.points,c=BF(e,t);c.push(Qb({x:null,y:e.bottom},i));for(let u=0;u<o.length;u++){const d=o[u];for(let p=d.start;p<=d.end;p++)UF(s,a[p],c)}return new Fu({points:s,options:{}})}function BF(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const o=i[s];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function UF(n,e,t){const i=[];for(let s=0;s<t.length;s++){const o=t[s],{first:a,last:c,point:u}=jF(o,e,"x");if(!(!u||a&&c)){if(a)i.unshift(u);else if(n.push(u),!c)break}}n.push(...i)}function jF(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const s=i[t],o=n.segments,a=n.points;let c=!1,u=!1;for(let d=0;d<o.length;d++){const p=o[d],m=a[p.start][t],y=a[p.end][t];if(si(s,m,y)){c=s===m,u=s===y;break}}return{first:c,last:u,point:i}}class Jb{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:s,y:o,radius:a}=this;return t=t||{start:0,end:je},e.arc(s,o,a,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:s}=this,o=e.angle;return{x:t+Math.cos(o)*s,y:i+Math.sin(o)*s,angle:o}}}function WF(n){const{chart:e,fill:t,line:i}=n;if(et(t))return HF(e,t);if(t==="stack")return zF(n);if(t==="shape")return!0;const s=$F(n);return s instanceof Jb?s:Qb(s,i)}function HF(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function $F(n){return(n.scale||{}).getPointPositionForValue?GF(n):KF(n)}function KF(n){const{scale:e={},fill:t}=n,i=OF(t,e);if(et(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function GF(n){const{scale:e,fill:t}=n,i=e.options,s=e.getLabels().length,o=i.reverse?e.max:e.min,a=FF(t,e,o),c=[];if(i.grid.circular){const u=e.getPointPositionForValue(0,o);return new Jb({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(a)})}for(let u=0;u<s;++u)c.push(e.getPointPositionForValue(u,a));return c}function df(n,e,t){const i=WF(e),{chart:s,index:o,line:a,scale:c,axis:u}=e,d=a.options,p=d.fill,m=d.backgroundColor,{above:y=m,below:v=m}=p||{},x=s.getDatasetMeta(o),S=Mb(s,x);i&&a.points.length&&(Au(n,t),YF(n,{line:a,target:i,above:y,below:v,area:t,scale:c,axis:u,clip:S}),Du(n))}function YF(n,e){const{line:t,target:i,above:s,below:o,area:a,scale:c,clip:u}=e,d=t._loop?"angle":e.axis;n.save();let p=o;o!==s&&(d==="x"?(wx(n,i,a.top),ff(n,{line:t,target:i,color:s,scale:c,property:d,clip:u}),n.restore(),n.save(),wx(n,i,a.bottom)):d==="y"&&(Sx(n,i,a.left),ff(n,{line:t,target:i,color:o,scale:c,property:d,clip:u}),n.restore(),n.save(),Sx(n,i,a.right),p=s)),ff(n,{line:t,target:i,color:p,scale:c,property:d,clip:u}),n.restore()}function wx(n,e,t){const{segments:i,points:s}=e;let o=!0,a=!1;n.beginPath();for(const c of i){const{start:u,end:d}=c,p=s[u],m=s[Vu(u,d,s)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(p.x,t),n.lineTo(p.x,p.y)),a=!!e.pathSegment(n,c,{move:a}),a?n.closePath():n.lineTo(m.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Sx(n,e,t){const{segments:i,points:s}=e;let o=!0,a=!1;n.beginPath();for(const c of i){const{start:u,end:d}=c,p=s[u],m=s[Vu(u,d,s)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(t,p.y),n.lineTo(p.x,p.y)),a=!!e.pathSegment(n,c,{move:a}),a?n.closePath():n.lineTo(t,m.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function ff(n,e){const{line:t,target:i,property:s,color:o,scale:a,clip:c}=e,u=RF(t,i,s);for(const{source:d,target:p,start:m,end:y}of u){const{style:{backgroundColor:v=o}={}}=d,x=i!==!0;n.save(),n.fillStyle=v,qF(n,a,c,x&&np(s,m,y)),n.beginPath();const S=!!t.pathSegment(n,d);let C;if(x){S?n.closePath():Cx(n,i,y,s);const b=!!i.pathSegment(n,p,{move:S,reverse:!0});C=S&&b,C||Cx(n,i,m,s)}n.closePath(),n.fill(C?"evenodd":"nonzero"),n.restore()}}function qF(n,e,t,i){const s=e.chart.chartArea,{property:o,start:a,end:c}=i||{};if(o==="x"||o==="y"){let u,d,p,m;o==="x"?(u=a,d=s.top,p=c,m=s.bottom):(u=s.left,d=a,p=s.right,m=c),n.beginPath(),t&&(u=Math.max(u,t.left),p=Math.min(p,t.right),d=Math.max(d,t.top),m=Math.min(m,t.bottom)),n.rect(u,d,p-u,m-d),n.clip()}}function Cx(n,e,t,i){const s=e.interpolate(t,i);s&&n.lineTo(s.x,s.y)}var XF={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,s=[];let o,a,c,u;for(a=0;a<i;++a)o=n.getDatasetMeta(a),c=o.dataset,u=null,c&&c.options&&c instanceof Fu&&(u={visible:n.isDatasetVisible(a),index:a,fill:LF(c,a,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:c}),o.$filler=u,s.push(u);for(a=0;a<i;++a)u=s[a],!(!u||u.fill===!1)&&(u.fill=DF(s,a,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let a=s.length-1;a>=0;--a){const c=s[a].$filler;c&&(c.line.updateControlPoints(o,c.axis),i&&c.fill&&df(n.ctx,c,o))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;xx(o)&&df(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!xx(i)||t.drawTime!=="beforeDatasetDraw"||df(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const bx=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},QF=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Tx extends pi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Fe(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=ut(i.font),o=s.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=bx(i,o);let d,p;t.font=s.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(a,o,c,u)+10):(p=this.maxHeight,d=this._fitCols(a,s,c,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,s){const{ctx:o,maxWidth:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],p=s+c;let m=e;o.textAlign="left",o.textBaseline="middle";let y=-1,v=-p;return this.legendItems.forEach((x,S)=>{const C=i+t/2+o.measureText(x.text).width;(S===0||d[d.length-1]+C+2*c>a)&&(m+=p,d[d.length-(S>0?0:1)]=0,v+=p,y++),u[S]={left:0,top:v,row:y,width:C,height:s},d[d.length-1]+=C+c}),m}_fitCols(e,t,i,s){const{ctx:o,maxHeight:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],p=a-e;let m=c,y=0,v=0,x=0,S=0;return this.legendItems.forEach((C,b)=>{const{itemWidth:k,itemHeight:I}=JF(i,t,o,C,s);b>0&&v+I+2*c>p&&(m+=y+c,d.push({width:y,height:v}),x+=y+c,S++,y=v=0),u[b]={left:x,top:v,col:S,width:k,height:I},y=Math.max(y,k),v+=I+c}),m+=y,d.push({width:y,height:v}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:s},rtl:o}}=this,a=Ir(o,this.left,this.width);if(this.isHorizontal()){let c=0,u=Tt(i,this.left+s,this.right-this.lineWidths[c]);for(const d of t)c!==d.row&&(c=d.row,u=Tt(i,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+e+s,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+s}else{let c=0,u=Tt(i,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const d of t)d.col!==c&&(c=d.col,u=Tt(i,this.top+e+s,this.bottom-this.columnSizes[c].height)),d.top=u,d.left+=this.left+s,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Au(e,this),this._draw(),Du(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:s}=this,{align:o,labels:a}=e,c=Ge.color,u=Ir(e.rtl,this.left,this.width),d=ut(a.font),{padding:p}=a,m=d.size,y=m/2;let v;this.drawTitle(),s.textAlign=u.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:x,boxHeight:S,itemHeight:C}=bx(a,m),b=function(O,V,F){if(isNaN(x)||x<=0||isNaN(S)||S<0)return;s.save();const G=pe(F.lineWidth,1);if(s.fillStyle=pe(F.fillStyle,c),s.lineCap=pe(F.lineCap,"butt"),s.lineDashOffset=pe(F.lineDashOffset,0),s.lineJoin=pe(F.lineJoin,"miter"),s.lineWidth=G,s.strokeStyle=pe(F.strokeStyle,c),s.setLineDash(pe(F.lineDash,[])),a.usePointStyle){const J={radius:S*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:G},ie=u.xPlus(O,x/2),ae=V+y;yb(s,J,ie,ae,a.pointStyleWidth&&x)}else{const J=V+Math.max((m-S)/2,0),ie=u.leftForLtr(O,x),ae=Es(F.borderRadius);s.beginPath(),Object.values(ae).some(Te=>Te!==0)?Ca(s,{x:ie,y:J,w:x,h:S,radius:ae}):s.rect(ie,J,x,S),s.fill(),G!==0&&s.stroke()}s.restore()},k=function(O,V,F){Fs(s,F.text,O,V+C/2,d,{strikethrough:F.hidden,textAlign:u.textAlign(F.textAlign)})},I=this.isHorizontal(),D=this._computeTitleHeight();I?v={x:Tt(o,this.left+p,this.right-i[0]),y:this.top+p+D,line:0}:v={x:this.left+p,y:Tt(o,this.top+D+p,this.bottom-t[0].height),line:0},Tb(this.ctx,e.textDirection);const M=C+p;this.legendItems.forEach((O,V)=>{s.strokeStyle=O.fontColor,s.fillStyle=O.fontColor;const F=s.measureText(O.text).width,G=u.textAlign(O.textAlign||(O.textAlign=a.textAlign)),J=x+y+F;let ie=v.x,ae=v.y;u.setWidth(this.width),I?V>0&&ie+J+p>this.right&&(ae=v.y+=M,v.line++,ie=v.x=Tt(o,this.left+p,this.right-i[v.line])):V>0&&ae+M>this.bottom&&(ie=v.x=ie+t[v.line].width+p,v.line++,ae=v.y=Tt(o,this.top+D+p,this.bottom-t[v.line].height));const Te=u.x(ie);if(b(Te,ae,O),ie=cL(G,ie+x+y,I?ie+J:this.right,e.rtl),k(u.x(ie),ae,O),I)v.x+=J+p;else if(typeof O.text!="string"){const De=d.lineHeight;v.y+=Zb(O,De)+p}else v.y+=M}),kb(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=ut(t.font),s=Rt(t.padding);if(!t.display)return;const o=Ir(e.rtl,this.left,this.width),a=this.ctx,c=t.position,u=i.size/2,d=s.top+u;let p,m=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),p=this.top+d,m=Tt(e.align,m,this.right-y);else{const x=this.columnSizes.reduce((S,C)=>Math.max(S,C.height),0);p=d+Tt(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const v=Tt(c,m,m+y);a.textAlign=o.textAlign(bm(c)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=i.string,Fs(a,t.text,v,p,i)}_computeTitleHeight(){const e=this.options.title,t=ut(e.font),i=Rt(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,s,o;if(si(e,this.left,this.right)&&si(t,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],si(e,s.left,s.left+s.width)&&si(t,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!t2(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,o=QF(s,i);s&&!o&&Fe(t.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!o&&Fe(t.onHover,[e,i,this],this)}else i&&Fe(t.onClick,[e,i,this],this)}}function JF(n,e,t,i,s){const o=ZF(i,n,e,t),a=e2(s,i,e.lineHeight);return{itemWidth:o,itemHeight:a}}function ZF(n,e,t,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((o,a)=>o.length>a.length?o:a)),e+t.size/2+i.measureText(s).width}function e2(n,e,t){let i=n;return typeof e.text!="string"&&(i=Zb(e,t)),i}function Zb(n,e){const t=n.text?n.text.length:0;return e*t}function t2(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var n2={id:"legend",_element:Tx,start(n,e,t){const i=n.legend=new Tx({ctx:n.ctx,options:t,chart:n});It.configure(n,i,t),It.addBox(n,i)},stop(n){It.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;It.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,s=t.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:s,color:o,useBorderRadius:a,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(t?0:void 0),p=Rt(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:a&&(c||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Lm extends pi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=Ke(i.text)?i.text.length:1;this._padding=Rt(i.padding);const o=s*ut(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:s,right:o,options:a}=this,c=a.align;let u=0,d,p,m;return this.isHorizontal()?(p=Tt(c,i,o),m=t+e,d=o-i):(a.position==="left"?(p=i+e,m=Tt(c,s,t),u=Pe*-.5):(p=o-e,m=Tt(c,t,s),u=Pe*.5),d=s-t),{titleX:p,titleY:m,maxWidth:d,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=ut(t.font),o=i.lineHeight/2+this._padding.top,{titleX:a,titleY:c,maxWidth:u,rotation:d}=this._drawArgs(o);Fs(e,t.text,0,0,i,{color:t.color,maxWidth:u,rotation:d,textAlign:bm(t.align),textBaseline:"middle",translation:[a,c]})}}function i2(n,e){const t=new Lm({ctx:n.ctx,options:e,chart:n});It.configure(n,t,e),It.addBox(n,t),n.titleBlock=t}var s2={id:"title",_element:Lm,start(n,e,t){i2(n,t)},stop(n){const e=n.titleBlock;It.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;It.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xc=new WeakMap;var r2={id:"subtitle",start(n,e,t){const i=new Lm({ctx:n.ctx,options:t,chart:n});It.configure(n,i,t),It.addBox(n,i),xc.set(n,i)},stop(n){It.removeBox(n,xc.get(n)),xc.delete(n)},beforeUpdate(n,e,t){const i=xc.get(n);It.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yo={average(n){if(!n.length)return!1;let e,t,i=new Set,s=0,o=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),s+=u.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((c,u)=>c+u)/i.size,y:s/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,s=Number.POSITIVE_INFINITY,o,a,c;for(o=0,a=n.length;o<a;++o){const u=n[o].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),p=qf(e,d);p<s&&(s=p,c=u)}}if(c){const u=c.tooltipPosition();t=u.x,i=u.y}return{x:t,y:i}}};function Nn(n,e){return e&&(Ke(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Jn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function o2(n,e){const{element:t,datasetIndex:i,index:s}=e,o=n.getDatasetMeta(i).controller,{label:a,value:c}=o.getLabelAndValue(s);return{chart:n,label:a,parsed:o.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:c,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function kx(n,e){const t=n.chart.ctx,{body:i,footer:s,title:o}=n,{boxWidth:a,boxHeight:c}=e,u=ut(e.bodyFont),d=ut(e.titleFont),p=ut(e.footerFont),m=o.length,y=s.length,v=i.length,x=Rt(e.padding);let S=x.height,C=0,b=i.reduce((D,M)=>D+M.before.length+M.lines.length+M.after.length,0);if(b+=n.beforeBody.length+n.afterBody.length,m&&(S+=m*d.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),b){const D=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;S+=v*D+(b-v)*u.lineHeight+(b-1)*e.bodySpacing}y&&(S+=e.footerMarginTop+y*p.lineHeight+(y-1)*e.footerSpacing);let k=0;const I=function(D){C=Math.max(C,t.measureText(D).width+k)};return t.save(),t.font=d.string,Ae(n.title,I),t.font=u.string,Ae(n.beforeBody.concat(n.afterBody),I),k=e.displayColors?a+2+e.boxPadding:0,Ae(i,D=>{Ae(D.before,I),Ae(D.lines,I),Ae(D.after,I)}),k=0,t.font=p.string,Ae(n.footer,I),t.restore(),C+=x.width,{width:C,height:S}}function a2(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function l2(n,e,t,i){const{x:s,width:o}=i,a=t.caretSize+t.caretPadding;if(n==="left"&&s+o+a>e.width||n==="right"&&s-o-a<0)return!0}function c2(n,e,t,i){const{x:s,width:o}=t,{width:a,chartArea:{left:c,right:u}}=n;let d="center";return i==="center"?d=s<=(c+u)/2?"left":"right":s<=o/2?d="left":s>=a-o/2&&(d="right"),l2(d,n,e,t)&&(d="center"),d}function Ex(n,e,t){const i=t.yAlign||e.yAlign||a2(n,t);return{xAlign:t.xAlign||e.xAlign||c2(n,e,t,i),yAlign:i}}function u2(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function h2(n,e,t){let{y:i,height:s}=n;return e==="top"?i+=t:e==="bottom"?i-=s+t:i-=s/2,i}function Px(n,e,t,i){const{caretSize:s,caretPadding:o,cornerRadius:a}=n,{xAlign:c,yAlign:u}=t,d=s+o,{topLeft:p,topRight:m,bottomLeft:y,bottomRight:v}=Es(a);let x=u2(e,c);const S=h2(e,u,d);return u==="center"?c==="left"?x+=d:c==="right"&&(x-=d):c==="left"?x-=Math.max(p,y)+s:c==="right"&&(x+=Math.max(m,v)+s),{x:yt(x,0,i.width-e.width),y:yt(S,0,i.height-e.height)}}function wc(n,e,t){const i=Rt(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Ix(n){return Nn([],Jn(n))}function d2(n,e,t){return Qi(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Mx(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const eT={beforeTitle:Xn,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Xn,beforeBody:Xn,beforeLabel:Xn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ce(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Xn,afterBody:Xn,beforeFooter:Xn,footer:Xn,afterFooter:Xn};function Ut(n,e,t,i){const s=n[e].call(t,i);return typeof s>"u"?eT[e].call(t,i):s}class Rx extends pi{static positioners=Yo;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,o=new Rb(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=d2(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,s=Ut(i,"beforeTitle",this,e),o=Ut(i,"title",this,e),a=Ut(i,"afterTitle",this,e);let c=[];return c=Nn(c,Jn(s)),c=Nn(c,Jn(o)),c=Nn(c,Jn(a)),c}getBeforeBody(e,t){return Ix(Ut(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,s=[];return Ae(e,o=>{const a={before:[],lines:[],after:[]},c=Mx(i,o);Nn(a.before,Jn(Ut(c,"beforeLabel",this,o))),Nn(a.lines,Ut(c,"label",this,o)),Nn(a.after,Jn(Ut(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(e,t){return Ix(Ut(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,s=Ut(i,"beforeFooter",this,e),o=Ut(i,"footer",this,e),a=Ut(i,"afterFooter",this,e);let c=[];return c=Nn(c,Jn(s)),c=Nn(c,Jn(o)),c=Nn(c,Jn(a)),c}_createItems(e){const t=this._active,i=this.chart.data,s=[],o=[],a=[];let c=[],u,d;for(u=0,d=t.length;u<d;++u)c.push(o2(this.chart,t[u]));return e.filter&&(c=c.filter((p,m,y)=>e.filter(p,m,y,i))),e.itemSort&&(c=c.sort((p,m)=>e.itemSort(p,m,i))),Ae(c,p=>{const m=Mx(e.callbacks,p);s.push(Ut(m,"labelColor",this,p)),o.push(Ut(m,"labelPointStyle",this,p)),a.push(Ut(m,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const c=Yo[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const u=this._size=kx(this,i),d=Object.assign({},c,u),p=Ex(this.chart,i,d),m=Px(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:m.x,y:m.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const o=this.getCaretPosition(e,i,s);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:u,topRight:d,bottomLeft:p,bottomRight:m}=Es(c),{x:y,y:v}=e,{width:x,height:S}=t;let C,b,k,I,D,M;return o==="center"?(D=v+S/2,s==="left"?(C=y,b=C-a,I=D+a,M=D-a):(C=y+x,b=C+a,I=D-a,M=D+a),k=C):(s==="left"?b=y+Math.max(u,p)+a:s==="right"?b=y+x-Math.max(d,m)-a:b=this.caretX,o==="top"?(I=v,D=I-a,C=b-a,k=b+a):(I=v+S,D=I+a,C=b+a,k=b-a),M=I),{x1:C,x2:b,x3:k,y1:I,y2:D,y3:M}}drawTitle(e,t,i){const s=this.title,o=s.length;let a,c,u;if(o){const d=Ir(i.rtl,this.x,this.width);for(e.x=wc(this,i.titleAlign,i),t.textAlign=d.textAlign(i.titleAlign),t.textBaseline="middle",a=ut(i.titleFont),c=i.titleSpacing,t.fillStyle=i.titleColor,t.font=a.string,u=0;u<o;++u)t.fillText(s[u],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,u+1===o&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,t,i,s,o){const a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:d}=o,p=ut(o.bodyFont),m=wc(this,"left",o),y=s.x(m),v=u<p.lineHeight?(p.lineHeight-u)/2:0,x=t.y+v;if(o.usePointStyle){const S={radius:Math.min(d,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},C=s.leftForLtr(y,d)+d/2,b=x+u/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Qf(e,S,C,b),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Qf(e,S,C,b)}else{e.lineWidth=be(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const S=s.leftForLtr(y,d),C=s.leftForLtr(s.xPlus(y,1),d-2),b=Es(a.borderRadius);Object.values(b).some(k=>k!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Ca(e,{x:S,y:x,w:d,h:u,radius:b}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Ca(e,{x:C,y:x+1,w:d-2,h:u-2,radius:b}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(S,x,d,u),e.strokeRect(S,x,d,u),e.fillStyle=a.backgroundColor,e.fillRect(C,x+1,d-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:u,boxWidth:d,boxPadding:p}=i,m=ut(i.bodyFont);let y=m.lineHeight,v=0;const x=Ir(i.rtl,this.x,this.width),S=function(F){t.fillText(F,x.x(e.x+v),e.y+y/2),e.y+=y+o},C=x.textAlign(a);let b,k,I,D,M,O,V;for(t.textAlign=a,t.textBaseline="middle",t.font=m.string,e.x=wc(this,C,i),t.fillStyle=i.bodyColor,Ae(this.beforeBody,S),v=c&&C!=="right"?a==="center"?d/2+p:d+2+p:0,D=0,O=s.length;D<O;++D){for(b=s[D],k=this.labelTextColors[D],t.fillStyle=k,Ae(b.before,S),I=b.lines,c&&I.length&&(this._drawColorBox(t,e,D,x,i),y=Math.max(m.lineHeight,u)),M=0,V=I.length;M<V;++M)S(I[M]),y=m.lineHeight;Ae(b.after,S)}v=0,y=m.lineHeight,Ae(this.afterBody,S),e.y-=o}drawFooter(e,t,i){const s=this.footer,o=s.length;let a,c;if(o){const u=Ir(i.rtl,this.x,this.width);for(e.x=wc(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=u.textAlign(i.footerAlign),t.textBaseline="middle",a=ut(i.footerFont),t.fillStyle=i.footerColor,t.font=a.string,c=0;c<o;++c)t.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:o,yAlign:a}=this,{x:c,y:u}=e,{width:d,height:p}=i,{topLeft:m,topRight:y,bottomLeft:v,bottomRight:x}=Es(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(c+m,u),a==="top"&&this.drawCaret(e,t,i,s),t.lineTo(c+d-y,u),t.quadraticCurveTo(c+d,u,c+d,u+y),a==="center"&&o==="right"&&this.drawCaret(e,t,i,s),t.lineTo(c+d,u+p-x),t.quadraticCurveTo(c+d,u+p,c+d-x,u+p),a==="bottom"&&this.drawCaret(e,t,i,s),t.lineTo(c+v,u+p),t.quadraticCurveTo(c,u+p,c,u+p-v),a==="center"&&o==="left"&&this.drawCaret(e,t,i,s),t.lineTo(c,u+m),t.quadraticCurveTo(c,u,c+m,u),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const a=Yo[e.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=kx(this,e),u=Object.assign({},a,this._size),d=Ex(t,e,u),p=Px(e,u,d,t);(s._to!==p.x||o._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Rt(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,s,t),Tb(e,t.textDirection),o.y+=a.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),kb(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:c,index:u})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[u],index:u}}),o=!au(i,s),a=this._positionChanged(s,t);(o||a)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],a=this._getActiveElements(e,o,t,i),c=this._positionChanged(a,e),u=t||!au(a,o)||c;return u&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),u}_getActiveElements(e,t,i,s){const o=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:i,caretY:s,options:o}=this,a=Yo[o.position].call(this,e,t);return a!==!1&&(i!==a.x||s!==a.y)}}var f2={id:"tooltip",_element:Rx,positioners:Yo,afterInit(n,e,t){t&&(n.tooltip=new Rx({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:eT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},p2=Object.freeze({__proto__:null,Colors:kF,Decimation:MF,Filler:XF,Legend:n2,SubTitle:r2,Title:s2,Tooltip:f2});const m2=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function g2(n,e,t,i){const s=n.indexOf(e);if(s===-1)return m2(n,e,t,i);const o=n.lastIndexOf(e);return s!==o?t:s}const y2=(n,e)=>n===null?null:yt(Math.round(n),0,e);function Ax(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class _2 extends Us{static id="category";static defaults={ticks:{callback:Ax}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:o}of t)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ce(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:g2(i,e,pe(t,e),this._addedLabels),y2(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=t;a++)s.push({value:a});return s}getLabelForValue(e){return Ax.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function v2(n,e){const t=[],{bounds:s,step:o,min:a,max:c,precision:u,count:d,maxTicks:p,maxDigits:m,includeBounds:y}=n,v=o||1,x=p-1,{min:S,max:C}=e,b=!Ce(a),k=!Ce(c),I=!Ce(d),D=(C-S)/(m+1);let M=k0((C-S)/x/v)*v,O,V,F,G;if(M<1e-14&&!b&&!k)return[{value:S},{value:C}];G=Math.ceil(C/M)-Math.floor(S/M),G>x&&(M=k0(G*M/x/v)*v),Ce(u)||(O=Math.pow(10,u),M=Math.ceil(M*O)/O),s==="ticks"?(V=Math.floor(S/M)*M,F=Math.ceil(C/M)*M):(V=S,F=C),b&&k&&o&&nL((c-a)/o,M/1e3)?(G=Math.round(Math.min((c-a)/M,p)),M=(c-a)/G,V=a,F=c):I?(V=b?a:V,F=k?c:F,G=d-1,M=(F-V)/G):(G=(F-V)/M,ia(G,Math.round(G),M/1e3)?G=Math.round(G):G=Math.ceil(G));const J=Math.max(E0(M),E0(V));O=Math.pow(10,Ce(u)?J:u),V=Math.round(V*O)/O,F=Math.round(F*O)/O;let ie=0;for(b&&(y&&V!==a?(t.push({value:a}),V<a&&ie++,ia(Math.round((V+ie*M)*O)/O,a,Dx(a,D,n))&&ie++):V<a&&ie++);ie<G;++ie){const ae=Math.round((V+ie*M)*O)/O;if(k&&ae>c)break;t.push({value:ae})}return k&&y&&F!==c?t.length&&ia(t[t.length-1].value,c,Dx(c,D,n))?t[t.length-1].value=c:t.push({value:c}):(!k||F===c)&&t.push({value:F}),t}function Dx(n,e,{horizontal:t,minRotation:i}){const s=En(i),o=(t?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+n).length;return Math.min(e/o,a)}class pu extends Us{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ce(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const a=u=>s=t?s:u,c=u=>o=i?o:u;if(e){const u=Vn(s),d=Vn(o);u<0&&d<0?c(0):u>0&&d>0&&a(0)}if(s===o){let u=o===0?1:Math.abs(o*.05);c(o+u),e||a(s-u)}this.min=s,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,a=v2(s,o);return e.bounds==="ticks"&&lb(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Ha(e,this.chart.options.locale,this.options.ticks.format)}}class x2 extends pu{static id="linear";static defaults={ticks:{callback:Ru.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=et(e)?e:0,this.max=et(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=En(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Ta=n=>Math.floor(Bi(n)),gs=(n,e)=>Math.pow(10,Ta(n)+e);function Lx(n){return n/Math.pow(10,Ta(n))===1}function Nx(n,e,t){const i=Math.pow(10,t),s=Math.floor(n/i);return Math.ceil(e/i)-s}function w2(n,e){const t=e-n;let i=Ta(t);for(;Nx(n,e,i)>10;)i++;for(;Nx(n,e,i)<10;)i--;return Math.min(i,Ta(n))}function S2(n,{min:e,max:t}){e=Jt(n.min,e);const i=[],s=Ta(e);let o=w2(e,t),a=o<0?Math.pow(10,Math.abs(o)):1;const c=Math.pow(10,o),u=s>o?Math.pow(10,s):0,d=Math.round((e-u)*a)/a,p=Math.floor((e-u)/c/10)*c*10;let m=Math.floor((d-p)/Math.pow(10,o)),y=Jt(n.min,Math.round((u+p+m*Math.pow(10,o))*a)/a);for(;y<t;)i.push({value:y,major:Lx(y),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(o++,m=2,a=o>=0?1:a),y=Math.round((u+p+m*Math.pow(10,o))*a)/a;const v=Jt(n.max,y);return i.push({value:v,major:Lx(v),significand:m}),i}class C2 extends Us{static id="logarithmic";static defaults={ticks:{callback:Ru.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=pu.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return et(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=et(e)?Math.max(0,e):null,this.max=et(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!et(this._userMin)&&(this.min=e===gs(this.min,0)?gs(this.min,-1):gs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,s=this.max;const o=c=>i=e?i:c,a=c=>s=t?s:c;i===s&&(i<=0?(o(1),a(10)):(o(gs(i,-1)),a(gs(s,1)))),i<=0&&o(gs(s,-1)),s<=0&&a(gs(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=S2(t,this);return e.bounds==="ticks"&&lb(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Ha(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Bi(e),this._valueRange=Bi(this.max)-Bi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Bi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function ip(n){const e=n.ticks;if(e.display&&n.display){const t=Rt(e.backdropPadding);return pe(e.font&&e.font.size,Ge.font.size)+t.height}return 0}function b2(n,e,t){return t=Ke(t)?t:[t],{w:vL(n,e.string,t),h:t.length*e.lineHeight}}function Ox(n,e,t,i,s){return n===i||n===s?{start:e-t/2,end:e+t/2}:n<i||n>s?{start:e-t,end:e}:{start:e,end:e+t}}function T2(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],s=[],o=n._pointLabels.length,a=n.options.pointLabels,c=a.centerPointLabels?Pe/o:0;for(let u=0;u<o;u++){const d=a.setContext(n.getPointLabelContext(u));s[u]=d.padding;const p=n.getPointPosition(u,n.drawingArea+s[u],c),m=ut(d.font),y=b2(n.ctx,m,n._pointLabels[u]);i[u]=y;const v=kt(n.getIndexAngle(u)+c),x=Math.round(Sm(v)),S=Ox(x,p.x,y.w,0,180),C=Ox(x,p.y,y.h,90,270);k2(t,e,v,S,C)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=I2(n,i,s)}function k2(n,e,t,i,s){const o=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let c=0,u=0;i.start<e.l?(c=(e.l-i.start)/o,n.l=Math.min(n.l,e.l-c)):i.end>e.r&&(c=(i.end-e.r)/o,n.r=Math.max(n.r,e.r+c)),s.start<e.t?(u=(e.t-s.start)/a,n.t=Math.min(n.t,e.t-u)):s.end>e.b&&(u=(s.end-e.b)/a,n.b=Math.max(n.b,e.b+u))}function E2(n,e,t){const i=n.drawingArea,{extra:s,additionalAngle:o,padding:a,size:c}=t,u=n.getPointPosition(e,i+s+a,o),d=Math.round(Sm(kt(u.angle+st))),p=A2(u.y,c.h,d),m=M2(d),y=R2(u.x,c.w,m);return{visible:!0,x:u.x,y:p,textAlign:m,left:y,top:p,right:y+c.w,bottom:p+c.h}}function P2(n,e){if(!e)return!0;const{left:t,top:i,right:s,bottom:o}=n;return!(oi({x:t,y:i},e)||oi({x:t,y:o},e)||oi({x:s,y:i},e)||oi({x:s,y:o},e))}function I2(n,e,t){const i=[],s=n._pointLabels.length,o=n.options,{centerPointLabels:a,display:c}=o.pointLabels,u={extra:ip(o)/2,additionalAngle:a?Pe/s:0};let d;for(let p=0;p<s;p++){u.padding=t[p],u.size=e[p];const m=E2(n,p,u);i.push(m),c==="auto"&&(m.visible=P2(m,d),m.visible&&(d=m))}return i}function M2(n){return n===0||n===180?"center":n<180?"left":"right"}function R2(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function A2(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function D2(n,e,t){const{left:i,top:s,right:o,bottom:a}=t,{backdropColor:c}=e;if(!Ce(c)){const u=Es(e.borderRadius),d=Rt(e.backdropPadding);n.fillStyle=c;const p=i-d.left,m=s-d.top,y=o-i+d.width,v=a-s+d.height;Object.values(u).some(x=>x!==0)?(n.beginPath(),Ca(n,{x:p,y:m,w:y,h:v,radius:u}),n.fill()):n.fillRect(p,m,y,v)}}function L2(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let s=e-1;s>=0;s--){const o=n._pointLabelItems[s];if(!o.visible)continue;const a=i.setContext(n.getPointLabelContext(s));D2(t,a,o);const c=ut(a.font),{x:u,y:d,textAlign:p}=o;Fs(t,n._pointLabels[s],u,d+c.lineHeight/2,c,{color:a.color,textAlign:p,textBaseline:"middle"})}}function tT(n,e,t,i){const{ctx:s}=n;if(t)s.arc(n.xCenter,n.yCenter,e,0,je);else{let o=n.getPointPosition(0,e);s.moveTo(o.x,o.y);for(let a=1;a<i;a++)o=n.getPointPosition(a,e),s.lineTo(o.x,o.y)}}function N2(n,e,t,i,s){const o=n.ctx,a=e.circular,{color:c,lineWidth:u}=e;!a&&!i||!c||!u||t<0||(o.save(),o.strokeStyle=c,o.lineWidth=u,o.setLineDash(s.dash||[]),o.lineDashOffset=s.dashOffset,o.beginPath(),tT(n,t,a,i),o.closePath(),o.stroke(),o.restore())}function O2(n,e,t){return Qi(n,{label:t,index:e,type:"pointLabel"})}class F2 extends pu{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ru.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Rt(ip(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=et(e)&&!isNaN(e)?e:0,this.max=et(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ip(this.options))}generateTickLabels(e){pu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const s=Fe(this.options.pointLabels.callback,[t,i],this);return s||s===0?s:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?T2(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,s){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,s))}getIndexAngle(e){const t=je/(this._pointLabels.length||1),i=this.options.startAngle||0;return kt(e*t+En(i))}getDistanceFromCenterForValue(e){if(Ce(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ce(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return O2(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const s=this.getIndexAngle(e)-st+i;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:s,bottom:o}=this._pointLabelItems[e];return{left:t,top:i,right:s,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),tT(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:s,border:o}=t,a=this._pointLabels.length;let c,u,d;if(t.pointLabels.display&&L2(this,a),s.display&&this.ticks.forEach((p,m)=>{if(m!==0||m===0&&this.min<0){u=this.getDistanceFromCenterForValue(p.value);const y=this.getContext(m),v=s.setContext(y),x=o.setContext(y);N2(this,v,u,a,x)}}),i.display){for(e.save(),c=a-1;c>=0;c--){const p=i.setContext(this.getPointLabelContext(c)),{color:m,lineWidth:y}=p;!y||!m||(e.lineWidth=y,e.strokeStyle=m,e.setLineDash(p.borderDash),e.lineDashOffset=p.borderDashOffset,u=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),d=this.getPointPosition(c,u),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let o,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((c,u)=>{if(u===0&&this.min>=0&&!t.reverse)return;const d=i.setContext(this.getContext(u)),p=ut(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[u].value),d.showLabelBackdrop){e.font=p.string,a=e.measureText(c.label).width,e.fillStyle=d.backdropColor;const m=Rt(d.backdropPadding);e.fillRect(-a/2-m.left,-o-p.size/2-m.top,a+m.width,p.size+m.height)}Fs(e,c.label,0,-o,p,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}const zu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},jt=Object.keys(zu);function Fx(n,e){return n-e}function Vx(n,e){if(Ce(e))return null;const t=n._adapter,{parser:i,round:s,isoWeekday:o}=n._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),et(a)||(a=typeof i=="string"?t.parse(a,i):t.parse(a)),a===null?null:(s&&(a=s==="week"&&(Or(o)||o===!0)?t.startOf(a,"isoWeek",o):t.startOf(a,s)),+a)}function zx(n,e,t,i){const s=jt.length;for(let o=jt.indexOf(n);o<s-1;++o){const a=zu[jt[o]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(c*a.size))<=i)return jt[o]}return jt[s-1]}function V2(n,e,t,i,s){for(let o=jt.length-1;o>=jt.indexOf(t);o--){const a=jt[o];if(zu[a].common&&n._adapter.diff(s,i,a)>=e-1)return a}return jt[t?jt.indexOf(t):0]}function z2(n){for(let e=jt.indexOf(n)+1,t=jt.length;e<t;++e)if(zu[jt[e]].common)return jt[e]}function Bx(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:s}=Cm(t,e),o=t[i]>=e?t[i]:t[s];n[o]=!0}}function B2(n,e,t,i){const s=n._adapter,o=+s.startOf(e[0].value,i),a=e[e.length-1].value;let c,u;for(c=o;c<=a;c=+s.add(c,1,i))u=t[c],u>=0&&(e[u].major=!0);return e}function Ux(n,e,t){const i=[],s={},o=e.length;let a,c;for(a=0;a<o;++a)c=e[a],s[c]=a,i.push({value:c,major:!1});return o===0||!t?i:B2(n,i,s,t)}class sp extends Us{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),s=this._adapter=new UN._date(e.adapters.date);s.init(t),na(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Vx(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=et(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),o=et(o)&&!isNaN(o)?o:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,a=this.max,c=oL(s,o,a);return this._unit=t.unit||(i.autoSkip?zx(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):V2(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:z2(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),Ux(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=yt(t,0,a),i=yt(i,0,a),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,o=s.time,a=o.unit||zx(o.minUnit,t,i,this._getLabelCapacity(t)),c=pe(s.ticks.stepSize,1),u=a==="week"?o.isoWeekday:!1,d=Or(u)||u===!0,p={};let m=t,y,v;if(d&&(m=+e.startOf(m,"isoWeek",u)),m=+e.startOf(m,d?"day":a),e.diff(i,t,a)>1e5*c)throw new Error(t+" and "+i+" are too far apart with stepSize of "+c+" "+a);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(y=m,v=0;y<i;y=+e.add(y,c,a),v++)Bx(p,y,x);return(y===i||s.bounds==="ticks"||v===1)&&Bx(p,y,x),Object.keys(p).sort(Fx).map(S=>+S)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,o=this._unit,a=t||s[o];return this._adapter.format(e,a)}_tickFormatFunction(e,t,i,s){const o=this.options,a=o.ticks.callback;if(a)return Fe(a,[e,t,i],this);const c=o.time.displayFormats,u=this._unit,d=this._majorUnit,p=u&&c[u],m=d&&c[d],y=i[t],v=d&&m&&y&&y.major;return this._adapter.format(e,s||(v?m:p))}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=En(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*o+c*a,h:i*a+c*o}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,o=this._tickFormatFunction(e,0,Ux(this,[e],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,i=s.length;t<i;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(Vx(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return hb(e.sort(Fx))}}function Sc(n,e,t){let i=0,s=n.length-1,o,a,c,u;t?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=ri(n,"pos",e)),{pos:o,time:c}=n[i],{pos:a,time:u}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=ri(n,"time",e)),{time:o,pos:c}=n[i],{time:a,pos:u}=n[s]);const d=a-o;return d?c+(u-c)*(e-o)/d:c}class U2 extends sp{static id="timeseries";static defaults=sp.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Sc(t,this.min),this._tableRange=Sc(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],o=[];let a,c,u,d,p;for(a=0,c=e.length;a<c;++a)d=e[a],d>=t&&d<=i&&s.push(d);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(a=0,c=s.length;a<c;++a)p=s[a+1],u=s[a-1],d=s[a],Math.round((p+u)/2)!==d&&o.push({time:d,pos:a/(c-1)});return o}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Sc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Sc(this._table,i*this._tableRange+this._minPos,!0)}}var j2=Object.freeze({__proto__:null,CategoryScale:_2,LinearScale:x2,LogarithmicScale:C2,RadialLinearScale:F2,TimeScale:sp,TimeSeriesScale:U2});const W2=[BN,vF,p2,j2],nT="label";function jx(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function H2(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function iT(n,e){n.labels=e}function sT(n,e,t=nT){const i=[];n.datasets=e.map(s=>{const o=n.datasets.find(a=>a[t]===s[t]);return!o||!s.data||i.includes(o)?{...s}:(i.push(o),Object.assign(o,s),o)})}function $2(n,e=nT){const t={labels:[],datasets:[]};return iT(t,n.labels),sT(t,n.datasets,e),t}function K2(n,e){const{height:t=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:a,data:c,options:u,plugins:d=[],fallbackContent:p,updateMode:m,...y}=n,v=$.useRef(null),x=$.useRef(null),S=()=>{v.current&&(x.current=new Ou(v.current,{type:a,data:$2(c,o),options:u&&{...u},plugins:d}),jx(e,x.current))},C=()=>{jx(e,null),x.current&&(x.current.destroy(),x.current=null)};return $.useEffect(()=>{!s&&x.current&&u&&H2(x.current,u)},[s,u]),$.useEffect(()=>{!s&&x.current&&iT(x.current.config.data,c.labels)},[s,c.labels]),$.useEffect(()=>{!s&&x.current&&c.datasets&&sT(x.current.config.data,c.datasets,o)},[s,c.datasets]),$.useEffect(()=>{x.current&&(s?(C(),setTimeout(S)):x.current.update(m))},[s,u,c.labels,c.datasets,m]),$.useEffect(()=>{x.current&&(C(),setTimeout(S))},[a]),$.useEffect(()=>(S(),()=>C()),[]),se.jsx("canvas",{ref:v,role:"img",height:t,width:i,...y,children:p})}const G2=$.forwardRef(K2);function Y2(n,e){return Ou.register(e),$.forwardRef((t,i)=>se.jsx(G2,{...t,ref:i,type:n}))}const q2=Y2("line",Lb),Nm=$.createContext({});function $a(n){const e=$.useRef(null);return e.current===null&&(e.current=n()),e.current}const Om=typeof window<"u",Fm=Om?$.useLayoutEffect:$.useEffect,Bu=$.createContext(null);function Vm(n,e){n.indexOf(e)===-1&&n.push(e)}function zm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ui=(n,e,t)=>t>e?e:t<n?n:t;let Bm=()=>{};const hi={},rT=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function oT(n){return typeof n=="object"&&n!==null}const aT=n=>/^0[^.\s]+$/u.test(n);function Um(n){let e;return()=>(e===void 0&&(e=n()),e)}const dn=n=>n,X2=(n,e)=>t=>e(n(t)),Ka=(...n)=>n.reduce(X2),ka=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class jm{constructor(){this.subscriptions=[]}add(e){return Vm(this.subscriptions,e),()=>zm(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zn=n=>n*1e3,hn=n=>n/1e3;function lT(n,e){return e?n*(1e3/e):0}const cT=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Q2=1e-7,J2=12;function Z2(n,e,t,i,s){let o,a,c=0;do a=e+(t-e)/2,o=cT(a,i,s)-n,o>0?t=a:e=a;while(Math.abs(o)>Q2&&++c<J2);return a}function Ga(n,e,t,i){if(n===e&&t===i)return dn;const s=o=>Z2(o,0,1,n,t);return o=>o===0||o===1?o:cT(s(o),e,i)}const uT=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,hT=n=>e=>1-n(1-e),dT=Ga(.33,1.53,.69,.99),Wm=hT(dT),fT=uT(Wm),pT=n=>(n*=2)<1?.5*Wm(n):.5*(2-Math.pow(2,-10*(n-1))),Hm=n=>1-Math.sin(Math.acos(n)),mT=hT(Hm),gT=uT(Hm),eV=Ga(.42,0,1,1),tV=Ga(0,0,.58,1),yT=Ga(.42,0,.58,1),nV=n=>Array.isArray(n)&&typeof n[0]!="number",_T=n=>Array.isArray(n)&&typeof n[0]=="number",iV={linear:dn,easeIn:eV,easeInOut:yT,easeOut:tV,circIn:Hm,circInOut:gT,circOut:mT,backIn:Wm,backInOut:fT,backOut:dT,anticipate:pT},sV=n=>typeof n=="string",Wx=n=>{if(_T(n)){Bm(n.length===4);const[e,t,i,s]=n;return Ga(e,t,i,s)}else if(sV(n))return iV[n];return n},Cc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function rV(n,e){let t=new Set,i=new Set,s=!1,o=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(p){a.has(p)&&(d.schedule(p),n()),p(c)}const d={schedule:(p,m=!1,y=!1)=>{const x=y&&s?t:i;return m&&a.add(p),x.has(p)||x.add(p),p},cancel:p=>{i.delete(p),a.delete(p)},process:p=>{if(c=p,s){o=!0;return}s=!0,[t,i]=[i,t],t.forEach(u),t.clear(),s=!1,o&&(o=!1,d.process(p))}};return d}const oV=40;function vT(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,a=Cc.reduce((I,D)=>(I[D]=rV(o),I),{}),{setup:c,read:u,resolveKeyframes:d,preUpdate:p,update:m,preRender:y,render:v,postRender:x}=a,S=()=>{const I=hi.useManualTiming?s.timestamp:performance.now();t=!1,hi.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(I-s.timestamp,oV),1)),s.timestamp=I,s.isProcessing=!0,c.process(s),u.process(s),d.process(s),p.process(s),m.process(s),y.process(s),v.process(s),x.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(S))},C=()=>{t=!0,i=!0,s.isProcessing||n(S)};return{schedule:Cc.reduce((I,D)=>{const M=a[D];return I[D]=(O,V=!1,F=!1)=>(t||C(),M.schedule(O,V,F)),I},{}),cancel:I=>{for(let D=0;D<Cc.length;D++)a[Cc[D]].cancel(I)},state:s,steps:a}}const{schedule:We,cancel:di,state:xt,steps:pf}=vT(typeof requestAnimationFrame<"u"?requestAnimationFrame:dn,!0);let Nc;function aV(){Nc=void 0}const $t={now:()=>(Nc===void 0&&$t.set(xt.isProcessing||hi.useManualTiming?xt.timestamp:performance.now()),Nc),set:n=>{Nc=n,queueMicrotask(aV)}},xT=n=>e=>typeof e=="string"&&e.startsWith(n),$m=xT("--"),lV=xT("var(--"),Km=n=>lV(n)?cV.test(n.split("/*")[0].trim()):!1,cV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$r={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ea={...$r,transform:n=>ui(0,1,n)},bc={...$r,default:1},oa=n=>Math.round(n*1e5)/1e5,Gm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uV(n){return n==null}const hV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ym=(n,e)=>t=>!!(typeof t=="string"&&hV.test(t)&&t.startsWith(n)||e&&!uV(t)&&Object.prototype.hasOwnProperty.call(t,e)),wT=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,o,a,c]=i.match(Gm);return{[n]:parseFloat(s),[e]:parseFloat(o),[t]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},dV=n=>ui(0,255,n),mf={...$r,transform:n=>Math.round(dV(n))},bs={test:Ym("rgb","red"),parse:wT("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+mf.transform(n)+", "+mf.transform(e)+", "+mf.transform(t)+", "+oa(Ea.transform(i))+")"};function fV(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const rp={test:Ym("#"),parse:fV,transform:bs.transform},Ya=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ni=Ya("deg"),Bn=Ya("%"),le=Ya("px"),pV=Ya("vh"),mV=Ya("vw"),Hx={...Bn,parse:n=>Bn.parse(n)/100,transform:n=>Bn.transform(n*100)},_r={test:Ym("hsl","hue"),parse:wT("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Bn.transform(oa(e))+", "+Bn.transform(oa(t))+", "+oa(Ea.transform(i))+")"},ot={test:n=>bs.test(n)||rp.test(n)||_r.test(n),parse:n=>bs.test(n)?bs.parse(n):_r.test(n)?_r.parse(n):rp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?bs.transform(n):_r.transform(n),getAnimatableNone:n=>{const e=ot.parse(n);return e.alpha=0,ot.transform(e)}},gV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yV(n){return isNaN(n)&&typeof n=="string"&&(n.match(Gm)?.length||0)+(n.match(gV)?.length||0)>0}const ST="number",CT="color",_V="var",vV="var(",$x="${}",xV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pa(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(xV,u=>(ot.test(u)?(i.color.push(o),s.push(CT),t.push(ot.parse(u))):u.startsWith(vV)?(i.var.push(o),s.push(_V),t.push(u)):(i.number.push(o),s.push(ST),t.push(parseFloat(u))),++o,$x)).split($x);return{values:t,split:c,indexes:i,types:s}}function bT(n){return Pa(n).values}function TT(n){const{split:e,types:t}=Pa(n),i=e.length;return s=>{let o="";for(let a=0;a<i;a++)if(o+=e[a],s[a]!==void 0){const c=t[a];c===ST?o+=oa(s[a]):c===CT?o+=ot.transform(s[a]):o+=s[a]}return o}}const wV=n=>typeof n=="number"?0:ot.test(n)?ot.getAnimatableNone(n):n;function SV(n){const e=bT(n);return TT(n)(e.map(wV))}const qi={test:yV,parse:bT,createTransformer:TT,getAnimatableNone:SV};function gf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function CV({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,o=0,a=0;if(!e)s=o=a=t;else{const c=t<.5?t*(1+e):t+e-t*e,u=2*t-c;s=gf(u,c,n+1/3),o=gf(u,c,n),a=gf(u,c,n-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:i}}function mu(n,e){return t=>t>0?e:n}const Xe=(n,e,t)=>n+(e-n)*t,yf=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},bV=[rp,bs,_r],TV=n=>bV.find(e=>e.test(n));function Kx(n){const e=TV(n);if(!e)return!1;let t=e.parse(n);return e===_r&&(t=CV(t)),t}const Gx=(n,e)=>{const t=Kx(n),i=Kx(e);if(!t||!i)return mu(n,e);const s={...t};return o=>(s.red=yf(t.red,i.red,o),s.green=yf(t.green,i.green,o),s.blue=yf(t.blue,i.blue,o),s.alpha=Xe(t.alpha,i.alpha,o),bs.transform(s))},op=new Set(["none","hidden"]);function kV(n,e){return op.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function EV(n,e){return t=>Xe(n,e,t)}function qm(n){return typeof n=="number"?EV:typeof n=="string"?Km(n)?mu:ot.test(n)?Gx:MV:Array.isArray(n)?kT:typeof n=="object"?ot.test(n)?Gx:PV:mu}function kT(n,e){const t=[...n],i=t.length,s=n.map((o,a)=>qm(o)(o,e[a]));return o=>{for(let a=0;a<i;a++)t[a]=s[a](o);return t}}function PV(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=qm(n[s])(n[s],e[s]));return s=>{for(const o in i)t[o]=i[o](s);return t}}function IV(n,e){const t=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=n.indexes[o][i[o]],c=n.values[a]??0;t[s]=c,i[o]++}return t}const MV=(n,e)=>{const t=qi.createTransformer(e),i=Pa(n),s=Pa(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?op.has(n)&&!s.values.length||op.has(e)&&!i.values.length?kV(n,e):Ka(kT(IV(i,s),s.values),t):mu(n,e)};function ET(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Xe(n,e,t):qm(n)(n,e)}const RV=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>We.update(e,t),stop:()=>di(e),now:()=>xt.isProcessing?xt.timestamp:$t.now()}},PT=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let o=0;o<s;o++)i+=Math.round(n(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},gu=2e4;function Xm(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<gu;)e+=t,i=n.next(e);return e>=gu?1/0:e}function AV(n,e=100,t){const i=t({...n,keyframes:[0,e]}),s=Math.min(Xm(i),gu);return{type:"keyframes",ease:o=>i.next(s*o).value/e,duration:hn(s)}}const DV=5;function IT(n,e,t){const i=Math.max(e-DV,0);return lT(t-n(i),e-i)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_f=.001;function LV({duration:n=Je.duration,bounce:e=Je.bounce,velocity:t=Je.velocity,mass:i=Je.mass}){let s,o,a=1-e;a=ui(Je.minDamping,Je.maxDamping,a),n=ui(Je.minDuration,Je.maxDuration,hn(n)),a<1?(s=d=>{const p=d*a,m=p*n,y=p-t,v=ap(d,a),x=Math.exp(-m);return _f-y/v*x},o=d=>{const m=d*a*n,y=m*t+t,v=Math.pow(a,2)*Math.pow(d,2)*n,x=Math.exp(-m),S=ap(Math.pow(d,2),a);return(-s(d)+_f>0?-1:1)*((y-v)*x)/S}):(s=d=>{const p=Math.exp(-d*n),m=(d-t)*n+1;return-_f+p*m},o=d=>{const p=Math.exp(-d*n),m=(t-d)*(n*n);return p*m});const c=5/n,u=OV(s,o,c);if(n=zn(n),isNaN(u))return{stiffness:Je.stiffness,damping:Je.damping,duration:n};{const d=Math.pow(u,2)*i;return{stiffness:d,damping:a*2*Math.sqrt(i*d),duration:n}}}const NV=12;function OV(n,e,t){let i=t;for(let s=1;s<NV;s++)i=i-n(i)/e(i);return i}function ap(n,e){return n*Math.sqrt(1-e*e)}const FV=["duration","bounce"],VV=["stiffness","damping","mass"];function Yx(n,e){return e.some(t=>n[t]!==void 0)}function zV(n){let e={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...n};if(!Yx(n,VV)&&Yx(n,FV))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,o=2*ui(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:Je.mass,stiffness:s,damping:o}}else{const t=LV(n);e={...e,...t,mass:Je.mass},e.isResolvedFromDuration=!0}return e}function yu(n=Je.visualDuration,e=Je.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const o=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],c={done:!1,value:o},{stiffness:u,damping:d,mass:p,duration:m,velocity:y,isResolvedFromDuration:v}=zV({...t,velocity:-hn(t.velocity||0)}),x=y||0,S=d/(2*Math.sqrt(u*p)),C=a-o,b=hn(Math.sqrt(u/p)),k=Math.abs(C)<5;i||(i=k?Je.restSpeed.granular:Je.restSpeed.default),s||(s=k?Je.restDelta.granular:Je.restDelta.default);let I;if(S<1){const M=ap(b,S);I=O=>{const V=Math.exp(-S*b*O);return a-V*((x+S*b*C)/M*Math.sin(M*O)+C*Math.cos(M*O))}}else if(S===1)I=M=>a-Math.exp(-b*M)*(C+(x+b*C)*M);else{const M=b*Math.sqrt(S*S-1);I=O=>{const V=Math.exp(-S*b*O),F=Math.min(M*O,300);return a-V*((x+S*b*C)*Math.sinh(F)+M*C*Math.cosh(F))/M}}const D={calculatedDuration:v&&m||null,next:M=>{const O=I(M);if(v)c.done=M>=m;else{let V=M===0?x:0;S<1&&(V=M===0?zn(x):IT(I,M,O));const F=Math.abs(V)<=i,G=Math.abs(a-O)<=s;c.done=F&&G}return c.value=c.done?a:O,c},toString:()=>{const M=Math.min(Xm(D),gu),O=PT(V=>D.next(M*V).value,M,30);return M+"ms "+O},toTransition:()=>{}};return D}yu.applyToOptions=n=>{const e=AV(n,100,yu);return n.ease=e.ease,n.duration=zn(e.duration),n.type="keyframes",n};function lp({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:c,max:u,restDelta:d=.5,restSpeed:p}){const m=n[0],y={done:!1,value:m},v=F=>c!==void 0&&F<c||u!==void 0&&F>u,x=F=>c===void 0?u:u===void 0||Math.abs(c-F)<Math.abs(u-F)?c:u;let S=t*e;const C=m+S,b=a===void 0?C:a(C);b!==C&&(S=b-m);const k=F=>-S*Math.exp(-F/i),I=F=>b+k(F),D=F=>{const G=k(F),J=I(F);y.done=Math.abs(G)<=d,y.value=y.done?b:J};let M,O;const V=F=>{v(y.value)&&(M=F,O=yu({keyframes:[y.value,x(y.value)],velocity:IT(I,F,y.value),damping:s,stiffness:o,restDelta:d,restSpeed:p}))};return V(0),{calculatedDuration:null,next:F=>{let G=!1;return!O&&M===void 0&&(G=!0,D(F),V(F)),M!==void 0&&F>=M?O.next(F-M):(!G&&D(F),y)}}}function BV(n,e,t){const i=[],s=t||hi.mix||ET,o=n.length-1;for(let a=0;a<o;a++){let c=s(n[a],n[a+1]);if(e){const u=Array.isArray(e)?e[a]||dn:e;c=Ka(u,c)}i.push(c)}return i}function MT(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const o=n.length;if(Bm(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=BV(e,i,s),u=c.length,d=p=>{if(a&&p<n[0])return e[0];let m=0;if(u>1)for(;m<n.length-2&&!(p<n[m+1]);m++);const y=ka(n[m],n[m+1],p);return c[m](y)};return t?p=>d(ui(n[0],n[o-1],p)):d}function UV(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=ka(0,e,i);n.push(Xe(t,1,s))}}function jV(n){const e=[0];return UV(e,n.length-1),e}function WV(n,e){return n.map(t=>t*e)}function HV(n,e){return n.map(()=>e||yT).splice(0,n.length-1)}function aa({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=nV(i)?i.map(Wx):Wx(i),o={done:!1,value:e[0]},a=WV(t&&t.length===e.length?t:jV(e),n),c=MT(a,e,{ease:Array.isArray(s)?s:HV(e,s)});return{calculatedDuration:n,next:u=>(o.value=c(u),o.done=u>=n,o)}}const $V=n=>n!==null;function Qm(n,{repeat:e,repeatType:t="loop"},i,s=1){const o=n.filter($V),c=s<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!c||i===void 0?o[c]:i}const KV={decay:lp,inertia:lp,tween:aa,keyframes:aa,spring:yu};function RT(n){typeof n.type=="string"&&(n.type=KV[n.type])}class Jm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const GV=n=>n/100;class Zm extends Jm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==$t.now()&&this.tick($t.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;RT(e);const{type:t=aa,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:a=0}=e;let{keyframes:c}=e;const u=t||aa;u!==aa&&typeof c[0]!="number"&&(this.mixKeyframes=Ka(GV,ET(c[0],c[1])),c=[0,100]);const d=u({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=Xm(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=d}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:p,repeat:m,repeatType:y,repeatDelay:v,type:x,onUpdate:S,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?b<0:b>s;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let I=this.currentTime,D=i;if(m){const F=Math.min(this.currentTime,s)/c;let G=Math.floor(F),J=F%1;!J&&F>=1&&(J=1),J===1&&G--,G=Math.min(G,m+1),!!(G%2)&&(y==="reverse"?(J=1-J,v&&(J-=v/c)):y==="mirror"&&(D=a)),I=ui(0,1,J)*c}const M=k?{done:!1,value:p[0]}:D.next(I);o&&(M.value=o(M.value));let{done:O}=M;!k&&u!==null&&(O=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return V&&x!==lp&&(M.value=Qm(p,this.options,C,this.speed)),S&&S(M.value),V&&this.finish(),M}then(e,t){return this.finished.then(e,t)}get duration(){return hn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hn(e)}get time(){return hn(this.currentTime)}set time(e){e=zn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime($t.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=hn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=RV,startTime:t}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($t.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function YV(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Ts=n=>n*180/Math.PI,cp=n=>{const e=Ts(Math.atan2(n[1],n[0]));return up(e)},qV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:cp,rotateZ:cp,skewX:n=>Ts(Math.atan(n[1])),skewY:n=>Ts(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},up=n=>(n=n%360,n<0&&(n+=360),n),qx=cp,Xx=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Qx=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),XV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Xx,scaleY:Qx,scale:n=>(Xx(n)+Qx(n))/2,rotateX:n=>up(Ts(Math.atan2(n[6],n[5]))),rotateY:n=>up(Ts(Math.atan2(-n[2],n[0]))),rotateZ:qx,rotate:qx,skewX:n=>Ts(Math.atan(n[4])),skewY:n=>Ts(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function hp(n){return n.includes("scale")?1:0}function dp(n,e){if(!n||n==="none")return hp(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(t)i=XV,s=t;else{const c=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=qV,s=c}if(!s)return hp(e);const o=i[e],a=s[1].split(",").map(JV);return typeof o=="function"?o(a):a[o]}const QV=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return dp(t,e)};function JV(n){return parseFloat(n.trim())}const Kr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gr=new Set(Kr),Jx=n=>n===$r||n===le,ZV=new Set(["x","y","z"]),ez=Kr.filter(n=>!ZV.has(n));function tz(n){const e=[];return ez.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Is={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>dp(e,"x"),y:(n,{transform:e})=>dp(e,"y")};Is.translateX=Is.x;Is.translateY=Is.y;const Ms=new Set;let fp=!1,pp=!1,mp=!1;function AT(){if(pp){const n=Array.from(Ms).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=tz(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([o,a])=>{i.getValue(o)?.set(a)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}pp=!1,fp=!1,Ms.forEach(n=>n.complete(mp)),Ms.clear()}function DT(){Ms.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(pp=!0)})}function nz(){mp=!0,DT(),AT(),mp=!1}class eg{constructor(e,t,i,s,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Ms.add(this),fp||(fp=!0,We.read(DT),We.resolveKeyframes(AT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;if(e[0]===null){const o=s?.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const c=i.readValue(t,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}YV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ms.delete(this)}cancel(){this.state==="scheduled"&&(Ms.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const iz=n=>n.startsWith("--");function sz(n,e,t){iz(e)?n.style.setProperty(e,t):n.style[e]=t}const rz=Um(()=>window.ScrollTimeline!==void 0),oz={};function az(n,e){const t=Um(n);return()=>oz[e]??t()}const LT=az(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qo=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Zx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qo([0,.65,.55,1]),circOut:qo([.55,0,1,.45]),backIn:qo([.31,.01,.66,-.59]),backOut:qo([.33,1.53,.69,.99])};function NT(n,e){if(n)return typeof n=="function"?LT()?PT(n,e):"ease-out":_T(n)?qo(n):Array.isArray(n)?n.map(t=>NT(t,e)||Zx.easeOut):Zx[n]}function lz(n,e,t,{delay:i=0,duration:s=300,repeat:o=0,repeatType:a="loop",ease:c="easeOut",times:u}={},d=void 0){const p={[e]:t};u&&(p.offset=u);const m=NT(c,s);Array.isArray(m)&&(p.easing=m);const y={delay:i,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),n.animate(p,y)}function OT(n){return typeof n=="function"&&"applyToOptions"in n}function cz({type:n,...e}){return OT(n)&&LT()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class uz extends Jm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:s,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,Bm(typeof e.type!="string");const d=cz(e);this.animation=lz(t,i,s,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=Qm(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):sz(t,i,p),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return hn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hn(e)}get time(){return hn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=zn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&rz()?(this.animation.timeline=e,dn):t(this)}}const FT={anticipate:pT,backInOut:fT,circInOut:gT};function hz(n){return n in FT}function dz(n){typeof n.ease=="string"&&hz(n.ease)&&(n.ease=FT[n.ease])}const ew=10;class fz extends uz{constructor(e){dz(e),RT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:s,element:o,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const c=new Zm({...a,autoplay:!1}),u=zn(this.finishedTime??this.time);t.setWithVelocity(c.sample(u-ew).value,c.sample(u).value,ew),c.stop()}}const tw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(qi.test(n)||n==="0")&&!n.startsWith("url("));function pz(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function mz(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],a=tw(s,e),c=tw(o,e);return!a||!c?!1:pz(n)||(t==="spring"||OT(t))&&i}function gp(n){n.duration=0,n.type="keyframes"}const gz=new Set(["opacity","clipPath","filter","transform"]),yz=Um(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _z(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:s,damping:o,type:a}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return yz()&&t&&gz.has(t)&&(t!=="transform"||!d)&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}const vz=40;class xz extends Jm{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",keyframes:c,name:u,motionValue:d,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=$t.now();const y={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:o,repeatType:a,name:u,motionValue:d,element:p,...m},v=p?.KeyframeResolver||eg;this.keyframeResolver=new v(c,(x,S,C)=>this.onKeyframesResolved(x,S,y,!C),u,d,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,s){this.keyframeResolver=void 0;const{name:o,type:a,velocity:c,delay:u,isHandoff:d,onUpdate:p}=i;this.resolvedAt=$t.now(),mz(e,o,a,c)||((hi.instantAnimations||!u)&&p?.(Qm(e,i,t)),e[0]=e[e.length-1],gp(i),i.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>vz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},v=!d&&_z(y)?new fz({...y,element:y.motionValue.owner.current}):new Zm(y);v.finished.then(()=>this.notifyFinished()).catch(dn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),nz()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const wz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Sz(n){const e=wz.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function VT(n,e,t=1){const[i,s]=Sz(n);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const a=o.trim();return rT(a)?parseFloat(a):a}return Km(s)?VT(s,e,t+1):s}function tg(n,e){return n?.[e]??n?.default??n}const zT=new Set(["width","height","top","left","right","bottom",...Kr]),Cz={test:n=>n==="auto",parse:n=>n},BT=n=>e=>e.test(n),UT=[$r,le,Bn,Ni,mV,pV,Cz],nw=n=>UT.find(BT(n));function bz(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||aT(n):!0}const Tz=new Set(["brightness","contrast","saturate","opacity"]);function kz(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Gm)||[];if(!i)return n;const s=t.replace(i,"");let o=Tz.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+s+")"}const Ez=/\b([a-z-]*)\(.*?\)/gu,yp={...qi,getAnimatableNone:n=>{const e=n.match(Ez);return e?e.map(kz).join(" "):n}},iw={...$r,transform:Math.round},Pz={rotate:Ni,rotateX:Ni,rotateY:Ni,rotateZ:Ni,scale:bc,scaleX:bc,scaleY:bc,scaleZ:bc,skew:Ni,skewX:Ni,skewY:Ni,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:Ea,originX:Hx,originY:Hx,originZ:le},ng={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...Pz,zIndex:iw,fillOpacity:Ea,strokeOpacity:Ea,numOctaves:iw},Iz={...ng,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:yp,WebkitFilter:yp},jT=n=>Iz[n];function WT(n,e){let t=jT(n);return t!==yp&&(t=qi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Mz=new Set(["auto","none","0"]);function Rz(n,e,t){let i=0,s;for(;i<n.length&&!s;){const o=n[i];typeof o=="string"&&!Mz.has(o)&&Pa(o).values.length&&(s=n[i]),i++}if(s&&t)for(const o of e)n[o]=WT(t,s)}class Az extends eg{constructor(e,t,i,s,o){super(e,t,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),Km(d))){const p=VT(d,t.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!zT.has(i)||e.length!==2)return;const[s,o]=e,a=nw(s),c=nw(o);if(a!==c)if(Jx(a)&&Jx(c))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else Is[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||bz(e[s]))&&i.push(s);i.length&&Rz(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Is[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Is[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Dz(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=t?.[n]??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const HT=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function $T(n){return oT(n)&&"offsetHeight"in n}const sw=30,Lz=n=>!isNaN(parseFloat(n)),la={current:void 0};class Nz{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=$t.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=$t.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Lz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new jm);const i=this.events[e].add(t);return e==="change"?()=>{i(),We.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return la.current&&la.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=$t.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sw)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,sw);return lT(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vs(n,e){return new Nz(n,e)}const{schedule:ig}=vT(queueMicrotask,!1),wn={x:!1,y:!1};function KT(){return wn.x||wn.y}function Oz(n){return n==="x"||n==="y"?wn[n]?null:(wn[n]=!0,()=>{wn[n]=!1}):wn.x||wn.y?null:(wn.x=wn.y=!0,()=>{wn.x=wn.y=!1})}function GT(n,e){const t=Dz(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function rw(n){return!(n.pointerType==="touch"||KT())}function Fz(n,e,t={}){const[i,s,o]=GT(n,t),a=c=>{if(!rw(c))return;const{target:u}=c,d=e(u,c);if(typeof d!="function"||!u)return;const p=m=>{rw(m)&&(d(m),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,s)};return i.forEach(c=>{c.addEventListener("pointerenter",a,s)}),o}const YT=(n,e)=>e?n===e?!0:YT(n,e.parentElement):!1,sg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Vz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zz(n){return Vz.has(n.tagName)||n.tabIndex!==-1}const Oc=new WeakSet;function ow(n){return e=>{e.key==="Enter"&&n(e)}}function vf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Bz=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=ow(()=>{if(Oc.has(t))return;vf(t,"down");const s=ow(()=>{vf(t,"up")}),o=()=>vf(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function aw(n){return sg(n)&&!KT()}function Uz(n,e,t={}){const[i,s,o]=GT(n,t),a=c=>{const u=c.currentTarget;if(!aw(c))return;Oc.add(u);const d=e(u,c),p=(v,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),Oc.has(u)&&Oc.delete(u),aw(v)&&typeof d=="function"&&d(v,{success:x})},m=v=>{p(v,u===window||u===document||t.useGlobalTarget||YT(u,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",y,s)};return i.forEach(c=>{(t.useGlobalTarget?window:c).addEventListener("pointerdown",a,s),$T(c)&&(c.addEventListener("focus",d=>Bz(d,s)),!zz(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function qT(n){return oT(n)&&"ownerSVGElement"in n}function jz(n){return qT(n)&&n.tagName==="svg"}function Wz(...n){const e=!Array.isArray(n[0]),t=e?0:-1,i=n[0+t],s=n[1+t],o=n[2+t],a=n[3+t],c=MT(s,o,a);return e?c(i):c}const Mt=n=>!!(n&&n.getVelocity),Hz=[...UT,ot,qi],$z=n=>Hz.find(BT(n)),Uu=$.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function lw(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Kz(...n){return e=>{let t=!1;const i=n.map(s=>{const o=lw(s,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():lw(n[s],null)}}}}function Gz(...n){return $.useCallback(Kz(...n),n)}class Yz extends $.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,s=$T(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qz({children:n,isPresent:e,anchorX:t,root:i}){const s=$.useId(),o=$.useRef(null),a=$.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=$.useContext(Uu),u=Gz(o,n?.ref);return $.useInsertionEffect(()=>{const{width:d,height:p,top:m,left:y,right:v}=a.current;if(e||!o.current||!d||!p)return;const x=t==="left"?`left: ${y}`:`right: ${v}`;o.current.dataset.motionPopId=s;const S=document.createElement("style");c&&(S.nonce=c);const C=i??document.head;return C.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            ${x}px !important;
            top: ${m}px !important;
          }
        `),()=>{C.contains(S)&&C.removeChild(S)}},[e]),se.jsx(Yz,{isPresent:e,childRef:o,sizeRef:a,children:$.cloneElement(n,{ref:u})})}const Xz=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:a,anchorX:c,root:u})=>{const d=$a(Qz),p=$.useId();let m=!0,y=$.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:t,custom:s,onExitComplete:v=>{d.set(v,!0);for(const x of d.values())if(!x)return;i&&i()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[t,d,i]);return o&&m&&(y={...y}),$.useMemo(()=>{d.forEach((v,x)=>d.set(x,!1))},[t]),$.useEffect(()=>{!t&&!d.size&&i&&i()},[t]),a==="popLayout"&&(n=se.jsx(qz,{isPresent:t,anchorX:c,root:u,children:n})),se.jsx(Bu.Provider,{value:y,children:n})};function Qz(){return new Map}function XT(n=!0){const e=$.useContext(Bu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:s}=e,o=$.useId();$.useEffect(()=>{if(n)return s(o)},[n]);const a=$.useCallback(()=>n&&i&&i(o),[o,i,n]);return!t&&i?[!1,a]:[!0]}const Tc=n=>n.key||"";function cw(n){const e=[];return $.Children.forEach(n,t=>{$.isValidElement(t)&&e.push(t)}),e}const Jz=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:a=!1,anchorX:c="left",root:u})=>{const[d,p]=XT(a),m=$.useMemo(()=>cw(n),[n]),y=a&&!d?[]:m.map(Tc),v=$.useRef(!0),x=$.useRef(m),S=$a(()=>new Map),[C,b]=$.useState(m),[k,I]=$.useState(m);Fm(()=>{v.current=!1,x.current=m;for(let O=0;O<k.length;O++){const V=Tc(k[O]);y.includes(V)?S.delete(V):S.get(V)!==!0&&S.set(V,!1)}},[k,y.length,y.join("-")]);const D=[];if(m!==C){let O=[...m];for(let V=0;V<k.length;V++){const F=k[V],G=Tc(F);y.includes(G)||(O.splice(V,0,F),D.push(F))}return o==="wait"&&D.length&&(O=D),I(cw(O)),b(m),null}const{forceRender:M}=$.useContext(Nm);return se.jsx(se.Fragment,{children:k.map(O=>{const V=Tc(O),F=a&&!d?!1:m===k||y.includes(V),G=()=>{if(S.has(V))S.set(V,!0);else return;let J=!0;S.forEach(ie=>{ie||(J=!1)}),J&&(M?.(),I(x.current),a&&p?.(),i&&i())};return se.jsx(Xz,{isPresent:F,initial:!v.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:u,onExitComplete:F?void 0:G,anchorX:c,children:O},V)})})},QT=$.createContext({strict:!1}),uw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zr={};for(const n in uw)zr[n]={isEnabled:e=>uw[n].some(t=>!!e[t])};function Zz(n){for(const e in n)zr[e]={...zr[e],...n[e]}}const eB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _u(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||eB.has(n)}let JT=n=>!_u(n);function tB(n){typeof n=="function"&&(JT=e=>e.startsWith("on")?!_u(e):n(e))}try{tB(require("@emotion/is-prop-valid").default)}catch{}function nB(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(JT(s)||t===!0&&_u(s)||!e&&!_u(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}const ju=$.createContext({});function Wu(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ia(n){return typeof n=="string"||Array.isArray(n)}const rg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],og=["initial",...rg];function Hu(n){return Wu(n.animate)||og.some(e=>Ia(n[e]))}function ZT(n){return!!(Hu(n)||n.variants)}function iB(n,e){if(Hu(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Ia(t)?t:void 0,animate:Ia(i)?i:void 0}}return n.inherit!==!1?e:{}}function sB(n){const{initial:e,animate:t}=iB(n,$.useContext(ju));return $.useMemo(()=>({initial:e,animate:t}),[hw(e),hw(t)])}function hw(n){return Array.isArray(n)?n.join(" "):n}const Ma={};function rB(n){for(const e in n)Ma[e]=n[e],$m(e)&&(Ma[e].isCSSVariable=!0)}function ek(n,{layout:e,layoutId:t}){return Gr.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Ma[n]||n==="opacity")}const oB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aB=Kr.length;function lB(n,e,t){let i="",s=!0;for(let o=0;o<aB;o++){const a=Kr[o],c=n[a];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(a.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||t){const d=HT(c,ng[a]);if(!u){s=!1;const p=oB[a]||a;i+=`${p}(${d}) `}t&&(e[a]=d)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function ag(n,e,t){const{style:i,vars:s,transformOrigin:o}=n;let a=!1,c=!1;for(const u in e){const d=e[u];if(Gr.has(u)){a=!0;continue}else if($m(u)){s[u]=d;continue}else{const p=HT(d,ng[u]);u.startsWith("origin")?(c=!0,o[u]=p):i[u]=p}}if(e.transform||(a||t?i.transform=lB(e,n.transform,t):i.transform&&(i.transform="none")),c){const{originX:u="50%",originY:d="50%",originZ:p=0}=o;i.transformOrigin=`${u} ${d} ${p}`}}const lg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tk(n,e,t){for(const i in e)!Mt(e[i])&&!ek(i,t)&&(n[i]=e[i])}function cB({transformTemplate:n},e){return $.useMemo(()=>{const t=lg();return ag(t,e,n),Object.assign({},t.vars,t.style)},[e])}function uB(n,e){const t=n.style||{},i={};return tk(i,t,n),Object.assign(i,cB(n,e)),i}function hB(n,e){const t={},i=uB(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const dB={offset:"stroke-dashoffset",array:"stroke-dasharray"},fB={offset:"strokeDashoffset",array:"strokeDasharray"};function pB(n,e,t=1,i=0,s=!0){n.pathLength=1;const o=s?dB:fB;n[o.offset]=le.transform(-i);const a=le.transform(e),c=le.transform(t);n[o.array]=`${a} ${c}`}function nk(n,{attrX:e,attrY:t,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...c},u,d,p){if(ag(n,c,d),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:y}=n;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),i!==void 0&&(m.scale=i),s!==void 0&&pB(m,s,o,a,!1)}const ik=()=>({...lg(),attrs:{}}),sk=n=>typeof n=="string"&&n.toLowerCase()==="svg";function mB(n,e,t,i){const s=$.useMemo(()=>{const o=ik();return nk(o,e,sk(i),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};tk(o,n.style,n),s.style={...o,...s.style}}return s}const gB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cg(n){return typeof n!="string"||n.includes("-")?!1:!!(gB.indexOf(n)>-1||/[A-Z]/u.test(n))}function yB(n,e,t,{latestValues:i},s,o=!1){const c=(cg(n)?mB:hB)(e,i,s,n),u=nB(e,typeof n=="string",o),d=n!==$.Fragment?{...u,...c,ref:t}:{},{children:p}=e,m=$.useMemo(()=>Mt(p)?p.get():p,[p]);return $.createElement(n,{...d,children:m})}function dw(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function ug(n,e,t,i){if(typeof e=="function"){const[s,o]=dw(i);e=e(t!==void 0?t:n.custom,s,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,o]=dw(i);e=e(t!==void 0?t:n.custom,s,o)}return e}function Fc(n){return Mt(n)?n.get():n}function _B({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,s){return{latestValues:vB(t,i,s,n),renderState:e()}}function vB(n,e,t,i){const s={},o=i(n,{});for(const y in o)s[y]=Fc(o[y]);let{initial:a,animate:c}=n;const u=Hu(n),d=ZT(n);e&&d&&!u&&n.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let p=t?t.initial===!1:!1;p=p||a===!1;const m=p?c:a;if(m&&typeof m!="boolean"&&!Wu(m)){const y=Array.isArray(m)?m:[m];for(let v=0;v<y.length;v++){const x=ug(n,y[v]);if(x){const{transitionEnd:S,transition:C,...b}=x;for(const k in b){let I=b[k];if(Array.isArray(I)){const D=p?I.length-1:0;I=I[D]}I!==null&&(s[k]=I)}for(const k in S)s[k]=S[k]}}}return s}const rk=n=>(e,t)=>{const i=$.useContext(ju),s=$.useContext(Bu),o=()=>_B(n,e,i,s);return t?o():$a(o)};function hg(n,e,t){const{style:i}=n,s={};for(const o in i)(Mt(i[o])||e.style&&Mt(e.style[o])||ek(o,n)||t?.getValue(o)?.liveStyle!==void 0)&&(s[o]=i[o]);return s}const xB=rk({scrapeMotionValuesFromProps:hg,createRenderState:lg});function ok(n,e,t){const i=hg(n,e,t);for(const s in n)if(Mt(n[s])||Mt(e[s])){const o=Kr.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=n[s]}return i}const wB=rk({scrapeMotionValuesFromProps:ok,createRenderState:ik}),SB=Symbol.for("motionComponentSymbol");function vr(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function CB(n,e,t){return $.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):vr(t)&&(t.current=i))},[e])}const dg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bB="framerAppearId",ak="data-"+dg(bB),lk=$.createContext({});function TB(n,e,t,i,s){const{visualElement:o}=$.useContext(ju),a=$.useContext(QT),c=$.useContext(Bu),u=$.useContext(Uu).reducedMotion,d=$.useRef(null);i=i||a.renderer,!d.current&&i&&(d.current=i(n,{visualState:e,parent:o,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const p=d.current,m=$.useContext(lk);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&kB(d.current,t,s,m);const y=$.useRef(!1);$.useInsertionEffect(()=>{p&&y.current&&p.update(t,c)});const v=t[ak],x=$.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return Fm(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),x.current&&p.animationState&&p.animationState.animateChanges())}),$.useEffect(()=>{p&&(!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),x.current=!1),p.enteringChildren=void 0)}),p}function kB(n,e,t,i){const{layoutId:s,layout:o,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:d,layoutCrossfade:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:ck(n.parent)),n.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!a||c&&vr(c),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:u,layoutRoot:d})}function ck(n){if(n)return n.options.allowProjection!==!1?n.projection:ck(n.parent)}function xf(n,{forwardMotionProps:e=!1}={},t,i){t&&Zz(t);const s=cg(n)?wB:xB;function o(c,u){let d;const p={...$.useContext(Uu),...c,layoutId:EB(c)},{isStatic:m}=p,y=sB(c),v=s(c,m);if(!m&&Om){PB();const x=IB(p);d=x.MeasureLayout,y.visualElement=TB(n,v,p,i,x.ProjectionNode)}return se.jsxs(ju.Provider,{value:y,children:[d&&y.visualElement?se.jsx(d,{visualElement:y.visualElement,...p}):null,yB(n,c,CB(v,y.visualElement,u),v,m,e)]})}o.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const a=$.forwardRef(o);return a[SB]=n,a}function EB({layoutId:n}){const e=$.useContext(Nm).id;return e&&n!==void 0?e+"-"+n:n}function PB(n,e){$.useContext(QT).strict}function IB(n){const{drag:e,layout:t}=zr;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function MB(n,e){if(typeof Proxy>"u")return xf;const t=new Map,i=(o,a)=>xf(o,a,n,e),s=(o,a)=>i(o,a);return new Proxy(s,{get:(o,a)=>a==="create"?i:(t.has(a)||t.set(a,xf(a,void 0,n,e)),t.get(a))})}function uk({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function RB({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function AB(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function wf(n){return n===void 0||n===1}function _p({scale:n,scaleX:e,scaleY:t}){return!wf(n)||!wf(e)||!wf(t)}function ws(n){return _p(n)||hk(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function hk(n){return fw(n.x)||fw(n.y)}function fw(n){return n&&n!=="0%"}function vu(n,e,t){const i=n-t,s=e*i;return t+s}function pw(n,e,t,i,s){return s!==void 0&&(n=vu(n,s,i)),vu(n,t,i)+e}function vp(n,e=0,t=1,i,s){n.min=pw(n.min,e,t,i,s),n.max=pw(n.max,e,t,i,s)}function dk(n,{x:e,y:t}){vp(n.x,e.translate,e.scale,e.originPoint),vp(n.y,t.translate,t.scale,t.originPoint)}const mw=.999999999999,gw=1.0000000000001;function DB(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let o,a;for(let c=0;c<s;c++){o=t[c],a=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&wr(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,dk(n,a)),i&&ws(o.latestValues)&&wr(n,o.latestValues))}e.x<gw&&e.x>mw&&(e.x=1),e.y<gw&&e.y>mw&&(e.y=1)}function xr(n,e){n.min=n.min+e,n.max=n.max+e}function yw(n,e,t,i,s=.5){const o=Xe(n.min,n.max,s);vp(n,e,t,o,i)}function wr(n,e){yw(n.x,e.x,e.scaleX,e.scale,e.originX),yw(n.y,e.y,e.scaleY,e.scale,e.originY)}function fk(n,e){return uk(AB(n.getBoundingClientRect(),e))}function LB(n,e,t){const i=fk(n,t),{scroll:s}=e;return s&&(xr(i.x,s.offset.x),xr(i.y,s.offset.y)),i}const _w=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sr=()=>({x:_w(),y:_w()}),vw=()=>({min:0,max:0}),it=()=>({x:vw(),y:vw()}),xp={current:null},pk={current:!1};function NB(){if(pk.current=!0,!!Om)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>xp.current=n.matches;n.addEventListener("change",e),e()}else xp.current=!1}const OB=new WeakMap;function FB(n,e,t){for(const i in e){const s=e[i],o=t[i];if(Mt(s))n.addValue(i,s);else if(Mt(o))n.addValue(i,Vs(s,{owner:n}));else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,Vs(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const xw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VB{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=eg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=$t.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,We.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Hu(t),this.isVariantNode=ZT(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in m){const v=m[y];u[y]!==void 0&&Mt(v)&&v.set(u[y])}}mount(e){this.current=e,OB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),pk.current||NB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),di(this.notifyUpdate),di(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Gr.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&We.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zr){const t=zr[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<xw.length;i++){const s=xw[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,a=e[o];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=FB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Vs(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(rT(i)||aT(i))?i=parseFloat(i):!$z(i)&&qi.test(t)&&(i=WT(e,t)),this.setBaseTarget(e,Mt(i)?i.get():i)),Mt(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const o=ug(this.props,t,this.presenceContext?.custom);o&&(i=o[e])}if(t&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Mt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new jm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){ig.render(this.render)}}class mk extends VB{constructor(){super(...arguments),this.KeyframeResolver=Az}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function gk(n,{style:e,vars:t},i,s){const o=n.style;let a;for(a in e)o[a]=e[a];s?.applyProjectionStyles(o,i);for(a in t)o.setProperty(a,t[a])}function zB(n){return window.getComputedStyle(n)}class BB extends mk{constructor(){super(...arguments),this.type="html",this.renderInstance=gk}readValueFromInstance(e,t){if(Gr.has(t))return this.projection?.isProjecting?hp(t):QV(e,t);{const i=zB(e),s=($m(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return fk(e,t)}build(e,t,i){ag(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return hg(e,t,i)}}const yk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UB(n,e,t,i){gk(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(yk.has(s)?s:dg(s),e.attrs[s])}class jB extends mk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Gr.has(t)){const i=jT(t);return i&&i.default||0}return t=yk.has(t)?t:dg(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return ok(e,t,i)}build(e,t,i){nk(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,s){UB(e,t,i,s)}mount(e){this.isSVGTag=sk(e.tagName),super.mount(e)}}const WB=(n,e)=>cg(n)?new jB(e):new BB(e,{allowProjection:n!==$.Fragment});function Mr(n,e,t){const i=n.getProps();return ug(i,e,t!==void 0?t:i.custom,n)}const wp=n=>Array.isArray(n);function HB(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Vs(t))}function $B(n){return wp(n)?n[n.length-1]||0:n}function KB(n,e){const t=Mr(n,e);let{transitionEnd:i={},transition:s={},...o}=t||{};o={...o,...i};for(const a in o){const c=$B(o[a]);HB(n,a,c)}}function GB(n){return!!(Mt(n)&&n.add)}function Sp(n,e){const t=n.getValue("willChange");if(GB(t))return t.add(e);if(!t&&hi.WillChange){const i=new hi.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function _k(n){return n.props[ak]}const YB=n=>n!==null;function qB(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(YB),o=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[o]}const XB={type:"spring",stiffness:500,damping:25,restSpeed:10},QB=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),JB={type:"keyframes",duration:.8},ZB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eU=(n,{keyframes:e})=>e.length>2?JB:Gr.has(n)?n.startsWith("scale")?QB(e[1]):XB:ZB;function tU({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:c,from:u,elapsed:d,...p}){return!!Object.keys(p).length}const fg=(n,e,t,i={},s,o)=>a=>{const c=tg(i,n)||{},u=c.delay||i.delay||0;let{elapsed:d=0}=i;d=d-zn(u);const p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-d,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:o?void 0:s};tU(c)||Object.assign(p,eU(n,p)),p.duration&&(p.duration=zn(p.duration)),p.repeatDelay&&(p.repeatDelay=zn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(gp(p),p.delay===0&&(m=!0)),(hi.instantAnimations||hi.skipAnimations)&&(m=!0,gp(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,m&&!o&&e.get()!==void 0){const y=qB(p.keyframes,c);if(y!==void 0){We.update(()=>{p.onUpdate(y),p.onComplete()});return}}return c.isSync?new Zm(p):new xz(p)};function nU({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function vk(n,e,{delay:t=0,transitionOverride:i,type:s}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:a,...c}=e;i&&(o=i);const u=[],d=s&&n.animationState&&n.animationState.getState()[s];for(const p in c){const m=n.getValue(p,n.latestValues[p]??null),y=c[p];if(y===void 0||d&&nU(d,p))continue;const v={delay:t,...tg(o||{},p)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===x&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const b=_k(n);if(b){const k=window.MotionHandoffAnimation(b,p,We);k!==null&&(v.startTime=k,S=!0)}}Sp(n,p),m.start(fg(p,m,y,n.shouldReduceMotion&&zT.has(p)?{type:!1}:v,n,S));const C=m.animation;C&&u.push(C)}return a&&Promise.all(u).then(()=>{We.update(()=>{a&&KB(n,a)})}),u}function xk(n,e,t,i=0,s=1){const o=Array.from(n).sort((d,p)=>d.sortNodePosition(p)).indexOf(e),a=n.size,c=(a-1)*i;return typeof t=="function"?t(o,a):s===1?o*i:c-o*i}function Cp(n,e,t={}){const i=Mr(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const o=i?()=>Promise.all(vk(n,i,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:m}=s;return iU(n,e,u,d,p,m,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,d]=c==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(t.delay)])}function iU(n,e,t=0,i=0,s=0,o=1,a){const c=[];for(const u of n.variantChildren)u.notify("AnimationStart",e),c.push(Cp(u,e,{...a,delay:t+(typeof i=="function"?0:i)+xk(n.variantChildren,u,i,s,o)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function sU(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>Cp(n,o,t));i=Promise.all(s)}else if(typeof e=="string")i=Cp(n,e,t);else{const s=typeof e=="function"?Mr(n,e,t.custom):e;i=Promise.all(vk(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function wk(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const rU=og.length;function Sk(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Sk(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<rU;t++){const i=og[t],s=n.props[i];(Ia(s)||s===!1)&&(e[i]=s)}return e}const oU=[...rg].reverse(),aU=rg.length;function lU(n){return e=>Promise.all(e.map(({animation:t,options:i})=>sU(n,t,i)))}function cU(n){let e=lU(n),t=ww(),i=!0;const s=u=>(d,p)=>{const m=Mr(n,p,u==="exit"?n.presenceContext?.custom:void 0);if(m){const{transition:y,transitionEnd:v,...x}=m;d={...d,...x,...v}}return d};function o(u){e=u(n)}function a(u){const{props:d}=n,p=Sk(n.parent)||{},m=[],y=new Set;let v={},x=1/0;for(let C=0;C<aU;C++){const b=oU[C],k=t[b],I=d[b]!==void 0?d[b]:p[b],D=Ia(I),M=b===u?k.isActive:null;M===!1&&(x=C);let O=I===p[b]&&I!==d[b]&&D;if(O&&i&&n.manuallyAnimateOnMount&&(O=!1),k.protectedKeys={...v},!k.isActive&&M===null||!I&&!k.prevProp||Wu(I)||typeof I=="boolean")continue;const V=uU(k.prevProp,I);let F=V||b===u&&k.isActive&&!O&&D||C>x&&D,G=!1;const J=Array.isArray(I)?I:[I];let ie=J.reduce(s(b),{});M===!1&&(ie={});const{prevResolvedValues:ae={}}=k,Te={...ae,...ie},De=ee=>{F=!0,y.has(ee)&&(G=!0,y.delete(ee)),k.needsAnimating[ee]=!0;const j=n.getValue(ee);j&&(j.liveStyle=!1)};for(const ee in Te){const j=ie[ee],q=ae[ee];if(v.hasOwnProperty(ee))continue;let Y=!1;wp(j)&&wp(q)?Y=!wk(j,q):Y=j!==q,Y?j!=null?De(ee):y.add(ee):j!==void 0&&y.has(ee)?De(ee):k.protectedKeys[ee]=!0}k.prevProp=I,k.prevResolvedValues=ie,k.isActive&&(v={...v,...ie}),i&&n.blockInitialAnimation&&(F=!1);const me=O&&V;F&&(!me||G)&&m.push(...J.map(ee=>{const j={type:b};if(typeof ee=="string"&&i&&!me&&n.manuallyAnimateOnMount&&n.parent){const{parent:q}=n,Y=Mr(q,ee);if(q.enteringChildren&&Y){const{delayChildren:R}=Y.transition||{};j.delay=xk(q.enteringChildren,n,R)}}return{animation:ee,options:j}}))}if(y.size){const C={};if(typeof d.initial!="boolean"){const b=Mr(n,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(C.transition=b.transition)}y.forEach(b=>{const k=n.getBaseTarget(b),I=n.getValue(b);I&&(I.liveStyle=!0),C[b]=k??null}),m.push({animation:C})}let S=!!m.length;return i&&(d.initial===!1||d.initial===d.animate)&&!n.manuallyAnimateOnMount&&(S=!1),i=!1,S?e(m):Promise.resolve()}function c(u,d){if(t[u].isActive===d)return Promise.resolve();n.variantChildren?.forEach(m=>m.animationState?.setActive(u,d)),t[u].isActive=d;const p=a(u);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:a,setActive:c,setAnimateFunction:o,getState:()=>t,reset:()=>{t=ww()}}}function uU(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!wk(e,n):!1}function ys(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ww(){return{animate:ys(!0),whileInView:ys(),whileHover:ys(),whileTap:ys(),whileDrag:ys(),whileFocus:ys(),exit:ys()}}class Zi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class hU extends Zi{constructor(e){super(e),e.animationState||(e.animationState=cU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let dU=0;class fU extends Zi{constructor(){super(...arguments),this.id=dU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const pU={animation:{Feature:hU},exit:{Feature:fU}};function Ra(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function qa(n){return{point:{x:n.pageX,y:n.pageY}}}const mU=n=>e=>sg(e)&&n(e,qa(e));function ca(n,e,t,i){return Ra(n,e,mU(t),i)}const Ck=1e-4,gU=1-Ck,yU=1+Ck,bk=.01,_U=0-bk,vU=0+bk;function Lt(n){return n.max-n.min}function xU(n,e,t){return Math.abs(n-e)<=t}function Sw(n,e,t,i=.5){n.origin=i,n.originPoint=Xe(e.min,e.max,n.origin),n.scale=Lt(t)/Lt(e),n.translate=Xe(t.min,t.max,n.origin)-n.originPoint,(n.scale>=gU&&n.scale<=yU||isNaN(n.scale))&&(n.scale=1),(n.translate>=_U&&n.translate<=vU||isNaN(n.translate))&&(n.translate=0)}function ua(n,e,t,i){Sw(n.x,e.x,t.x,i?i.originX:void 0),Sw(n.y,e.y,t.y,i?i.originY:void 0)}function Cw(n,e,t){n.min=t.min+e.min,n.max=n.min+Lt(e)}function wU(n,e,t){Cw(n.x,e.x,t.x),Cw(n.y,e.y,t.y)}function bw(n,e,t){n.min=e.min-t.min,n.max=n.min+Lt(e)}function ha(n,e,t){bw(n.x,e.x,t.x),bw(n.y,e.y,t.y)}function un(n){return[n("x"),n("y")]}const Tk=({current:n})=>n?n.ownerDocument.defaultView:null,Tw=(n,e)=>Math.abs(n-e);function SU(n,e){const t=Tw(n.x,e.x),i=Tw(n.y,e.y);return Math.sqrt(t**2+i**2)}class kk{constructor(e,t,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Cf(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=SU(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:S}=y,{timestamp:C}=xt;this.history.push({...S,timestamp:C});const{onStart:b,onMove:k}=this.handlers;v||(b&&b(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Sf(v,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Cf(y.type==="pointercancel"?this.lastMoveEventInfo:Sf(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(y,b),S&&S(y,b)},!sg(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=a,this.contextWindow=s||window;const c=qa(e),u=Sf(c,this.transformPagePoint),{point:d}=u,{timestamp:p}=xt;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=t;m&&m(e,Cf(u,this.history)),this.removeListeners=Ka(ca(this.contextWindow,"pointermove",this.handlePointerMove),ca(this.contextWindow,"pointerup",this.handlePointerUp),ca(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),di(this.updatePoint)}}function Sf(n,e){return e?{point:e(n.point)}:n}function kw(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Cf({point:n},e){return{point:n,delta:kw(n,Ek(e)),offset:kw(n,CU(e)),velocity:bU(e,.1)}}function CU(n){return n[0]}function Ek(n){return n[n.length-1]}function bU(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=Ek(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>zn(e)));)t--;if(!i)return{x:0,y:0};const o=hn(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function TU(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Xe(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Xe(t,n,i.max):Math.min(n,t)),n}function Ew(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function kU(n,{top:e,left:t,bottom:i,right:s}){return{x:Ew(n.x,t,s),y:Ew(n.y,e,i)}}function Pw(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function EU(n,e){return{x:Pw(n.x,e.x),y:Pw(n.y,e.y)}}function PU(n,e){let t=.5;const i=Lt(n),s=Lt(e);return s>i?t=ka(e.min,e.max-i,n.min):i>s&&(t=ka(n.min,n.max-s,e.min)),ui(0,1,t)}function IU(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const bp=.35;function MU(n=bp){return n===!1?n=0:n===!0&&(n=bp),{x:Iw(n,"left","right"),y:Iw(n,"top","bottom")}}function Iw(n,e,t){return{min:Mw(n,e),max:Mw(n,t)}}function Mw(n,e){return typeof n=="number"?n:n[e]||0}const RU=new WeakMap;class AU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(qa(m).point)},a=(m,y)=>{const{drag:v,dragPropagation:x,onDragStart:S}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Oz(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),un(b=>{let k=this.getAxisMotionValue(b).get()||0;if(Bn.test(k)){const{projection:I}=this.visualElement;if(I&&I.layout){const D=I.layout.layoutBox[b];D&&(k=Lt(D)*(parseFloat(k)/100))}}this.originPoint[b]=k}),S&&We.postRender(()=>S(m,y)),Sp(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},c=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:S,onDrag:C}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:b}=y;if(x&&this.currentDirection===null){this.currentDirection=DU(b),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,b),this.updateAxis("y",y.point,b),this.visualElement.render(),C&&C(m,y)},u=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y,this.stop(m,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>un(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new kk(e,{onSessionStart:o,onStart:a,onMove:c,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:Tk(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,s=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&We.postRender(()=>c(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!kc(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=TU(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&vr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=kU(i.layoutBox,e):this.constraints=!1,this.elastic=MU(t),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&un(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=IU(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!vr(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=LB(i,s.root,this.visualElement.getTransformPagePoint());let a=EU(s.layout.layoutBox,o);if(t){const c=t(RB(a));this.hasMutatedConstraints=!!c,c&&(a=uk(c))}return a}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},d=un(p=>{if(!kc(p,t,this.currentDirection))return;let m=u&&u[p]||{};a&&(m={min:0,max:0});const y=s?200:1e6,v=s?40:1e7,x={type:"inertia",velocity:i?e[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(p,x)});return Promise.all(d).then(c)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Sp(this.visualElement,e),i.start(fg(e,i,0,t,this.visualElement,!1))}stopAnimation(){un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){un(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[t];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){un(t=>{const{drag:i}=this.getProps();if(!kc(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(t);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[t];o.set(e[t]-Xe(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!vr(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};un(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();s[a]=PU({min:u,max:u},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),un(a=>{if(!kc(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:d}=this.constraints[a];c.set(Xe(u,d,s[a]))})}addListeners(){if(!this.visualElement.current)return;RU.set(this.visualElement,this);const e=this.visualElement.current,t=ca(e,"pointerdown",u=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();vr(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),We.read(i);const a=Ra(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(un(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=u[p].translate,m.set(m.get()+u[p].translate))}),this.visualElement.render())}));return()=>{a(),t(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=bp,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:c}}}function kc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function DU(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class LU extends Zi{constructor(e){super(e),this.removeGroupControls=dn,this.removeListeners=dn,this.controls=new AU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rw=n=>(e,t)=>{n&&We.postRender(()=>n(e,t))};class NU extends Zi{constructor(){super(...arguments),this.removePointerDownListener=dn}onPointerDown(e){this.session=new kk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:Rw(e),onStart:Rw(t),onMove:i,onEnd:(o,a)=>{delete this.session,s&&We.postRender(()=>s(o,a))}}}mount(){this.removePointerDownListener=ca(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Aw(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ho={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(le.test(n))n=parseFloat(n);else return n;const t=Aw(n,e.target.x),i=Aw(n,e.target.y);return`${t}% ${i}%`}},OU={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=qi.parse(n);if(s.length>5)return i;const o=qi.createTransformer(n),a=typeof s[0]!="number"?1:0,c=t.x.scale*e.x,u=t.y.scale*e.y;s[0+a]/=c,s[1+a]/=u;const d=Xe(c,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=d),typeof s[3+a]=="number"&&(s[3+a]/=d),o(s)}};let bf=!1;class FU extends $.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;rB(VU),o&&(t.group&&t.group.add(o),i&&i.register&&s&&i.register(o),bf&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Vc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:o}=this.props,{projection:a}=i;return a&&(a.isPresent=o,bf=!0,s||e.layoutDependency!==t||t===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||We.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ig.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;bf=!0,s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Pk(n){const[e,t]=XT(),i=$.useContext(Nm);return se.jsx(FU,{...n,layoutGroup:i,switchLayoutGroup:$.useContext(lk),isPresent:e,safeToRemove:t})}const VU={borderRadius:{...Ho,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ho,borderTopRightRadius:Ho,borderBottomLeftRadius:Ho,borderBottomRightRadius:Ho,boxShadow:OU};function zU(n,e,t){const i=Mt(n)?n:Vs(n);return i.start(fg("",i,e,t)),i.animation}const BU=(n,e)=>n.depth-e.depth;class UU{constructor(){this.children=[],this.isDirty=!1}add(e){Vm(this.children,e),this.isDirty=!0}remove(e){zm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(BU),this.isDirty=!1,this.children.forEach(e)}}function jU(n,e){const t=$t.now(),i=({timestamp:s})=>{const o=s-t;o>=e&&(di(i),n(o-e))};return We.setup(i,!0),()=>di(i)}const Ik=["TopLeft","TopRight","BottomLeft","BottomRight"],WU=Ik.length,Dw=n=>typeof n=="string"?parseFloat(n):n,Lw=n=>typeof n=="number"||le.test(n);function HU(n,e,t,i,s,o){s?(n.opacity=Xe(0,t.opacity??1,$U(i)),n.opacityExit=Xe(e.opacity??1,0,KU(i))):o&&(n.opacity=Xe(e.opacity??1,t.opacity??1,i));for(let a=0;a<WU;a++){const c=`border${Ik[a]}Radius`;let u=Nw(e,c),d=Nw(t,c);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||Lw(u)===Lw(d)?(n[c]=Math.max(Xe(Dw(u),Dw(d),i),0),(Bn.test(d)||Bn.test(u))&&(n[c]+="%")):n[c]=d}(e.rotate||t.rotate)&&(n.rotate=Xe(e.rotate||0,t.rotate||0,i))}function Nw(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const $U=Mk(0,.5,mT),KU=Mk(.5,.95,dn);function Mk(n,e,t){return i=>i<n?0:i>e?1:t(ka(n,e,i))}function Ow(n,e){n.min=e.min,n.max=e.max}function cn(n,e){Ow(n.x,e.x),Ow(n.y,e.y)}function Fw(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Vw(n,e,t,i,s){return n-=e,n=vu(n,1/t,i),s!==void 0&&(n=vu(n,1/s,i)),n}function GU(n,e=0,t=1,i=.5,s,o=n,a=n){if(Bn.test(e)&&(e=parseFloat(e),e=Xe(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=Xe(o.min,o.max,i);n===o&&(c-=e),n.min=Vw(n.min,e,t,c,s),n.max=Vw(n.max,e,t,c,s)}function zw(n,e,[t,i,s],o,a){GU(n,e[t],e[i],e[s],e.scale,o,a)}const YU=["x","scaleX","originX"],qU=["y","scaleY","originY"];function Bw(n,e,t,i){zw(n.x,e,YU,t?t.x:void 0,i?i.x:void 0),zw(n.y,e,qU,t?t.y:void 0,i?i.y:void 0)}function Uw(n){return n.translate===0&&n.scale===1}function Rk(n){return Uw(n.x)&&Uw(n.y)}function jw(n,e){return n.min===e.min&&n.max===e.max}function XU(n,e){return jw(n.x,e.x)&&jw(n.y,e.y)}function Ww(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Ak(n,e){return Ww(n.x,e.x)&&Ww(n.y,e.y)}function Hw(n){return Lt(n.x)/Lt(n.y)}function $w(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class QU{constructor(){this.members=[]}add(e){Vm(this.members,e),e.scheduleRender()}remove(e){if(zm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JU(n,e,t){let i="";const s=n.x.translate/e.x,o=n.y.translate/e.y,a=t?.z||0;if((s||o||a)&&(i=`translate3d(${s}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:d,rotate:p,rotateX:m,rotateY:y,skewX:v,skewY:x}=t;d&&(i=`perspective(${d}px) ${i}`),p&&(i+=`rotate(${p}deg) `),m&&(i+=`rotateX(${m}deg) `),y&&(i+=`rotateY(${y}deg) `),v&&(i+=`skewX(${v}deg) `),x&&(i+=`skewY(${x}deg) `)}const c=n.x.scale*e.x,u=n.y.scale*e.y;return(c!==1||u!==1)&&(i+=`scale(${c}, ${u})`),i||"none"}const Tf=["","X","Y","Z"],ZU=1e3;let ej=0;function kf(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function Dk(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=_k(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",We,!(s||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&Dk(i)}function Lk({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},c=e?.()){this.id=ej++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ij),this.nodes.forEach(aj),this.nodes.forEach(lj),this.nodes.forEach(sj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new UU)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new jm),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=qT(a)&&!jz(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),n){let p,m=0;const y=()=>this.root.updateBlockedByResize=!1;We.read(()=>{m=window.innerWidth}),n(a,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,p&&p(),p=jU(y,250),Vc.hasAnimatedSinceResize&&(Vc.hasAnimatedSinceResize=!1,this.nodes.forEach(Yw)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||fj,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=d.getProps(),b=!this.targetLayout||!Ak(this.targetLayout,v),k=!m&&y;if(this.options.layoutRoot||this.resumeFrom||k||m&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={...tg(x,"layout"),onPlay:S,onComplete:C};(d.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(p,k)}else m||Yw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),di(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cj),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Dk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Gw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oj),this.nodes.forEach(tj),this.nodes.forEach(nj)):this.nodes.forEach(Gw),this.clearAllSnapshots();const c=$t.now();xt.delta=ui(0,1e3/60,c-xt.timestamp),xt.timestamp=c,xt.isProcessing=!0,pf.update.process(xt),pf.preRender.process(xt),pf.render.process(xt),xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ig.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rj),this.sharedNodes.forEach(uj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Lt(this.snapshot.measuredBox.x)&&!Lt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!Rk(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;a&&this.instance&&(c||ws(this.latestValues)||p)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),pj(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return it();const c=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(mj))){const{scroll:d}=this.root;d&&(xr(c.x,d.offset.x),xr(c.y,d.offset.y))}return c}removeElementScroll(a){const c=it();if(cn(c,a),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:p,options:m}=d;d!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&cn(c,a),xr(c.x,p.offset.x),xr(c.y,p.offset.y))}return c}applyTransform(a,c=!1){const u=it();cn(u,a);for(let d=0;d<this.path.length;d++){const p=this.path[d];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&wr(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ws(p.latestValues)&&wr(u,p.latestValues)}return ws(this.latestValues)&&wr(u,this.latestValues),u}removeTransform(a){const c=it();cn(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!ws(d.latestValues))continue;_p(d.latestValues)&&d.updateSnapshot();const p=it(),m=d.measurePageBox();cn(p,m),Bw(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return ws(this.latestValues)&&Bw(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=xt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),ha(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),dk(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),ha(this.relativeTargetOrigin,this.target,y.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_p(this.parent.latestValues)||hk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===xt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;cn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;DB(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=it());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Fw(this.prevProjectionDelta.x,this.projectionDelta.x),Fw(this.prevProjectionDelta.y,this.projectionDelta.y)),ua(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!$w(this.projectionDelta.x,this.prevProjectionDelta.x)||!$w(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sr(),this.projectionDelta=Sr(),this.projectionDeltaWithTransform=Sr()}setAnimationOrigin(a,c=!1){const u=this.snapshot,d=u?u.latestValues:{},p={...this.latestValues},m=Sr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=it(),v=u?u.source:void 0,x=this.layout?this.layout.source:void 0,S=v!==x,C=this.getStack(),b=!C||C.members.length<=1,k=!!(S&&!b&&this.options.crossfade===!0&&!this.path.some(dj));this.animationProgress=0;let I;this.mixTargetDelta=D=>{const M=D/1e3;qw(m.x,a.x,M),qw(m.y,a.y,M),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ha(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hj(this.relativeTarget,this.relativeTargetOrigin,y,M),I&&XU(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=it()),cn(I,this.relativeTarget)),S&&(this.animationValues=p,HU(p,d,this.latestValues,M,k,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(di(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{Vc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vs(0)),this.currentAnimation=zU(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:d,latestValues:p}=a;if(!(!c||!u||!d)){if(this!==a&&this.layout&&d&&Nk(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||it();const m=Lt(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+m;const y=Lt(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+y}cn(c,u),wr(c,p),ua(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new QU),this.sharedNodes.get(a).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const d={};u.z&&kf("z",a,d,this.animationValues);for(let p=0;p<Tf.length;p++)kf(`rotate${Tf[p]}`,a,d,this.animationValues),kf(`skew${Tf[p]}`,a,d,this.animationValues);a.render();for(const p in d)a.setStaticValue(p,d[p]),this.animationValues&&(this.animationValues[p]=d[p]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Fc(c?.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Fc(c?.pointerEvents)||""),this.hasProjected&&!ws(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const p=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=JU(this.projectionDeltaWithTransform,this.treeScale,p);u&&(m=u(p,m)),a.transform=m;const{x:y,y:v}=this.projectionDelta;a.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,d.animationValues?a.opacity=d===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:a.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in Ma){if(p[x]===void 0)continue;const{correct:S,applyTo:C,isCSSVariable:b}=Ma[x],k=m==="none"?p[x]:S(p[x],d);if(C){const I=C.length;for(let D=0;D<I;D++)a[C[D]]=k}else b?this.options.visualElement.renderState.vars[x]=k:a[x]=k}this.options.layoutId&&(a.pointerEvents=d===this?Fc(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(Kw),this.root.sharedNodes.clear()}}}function tj(n){n.updateLayout()}function nj(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:s}=n.options,o=e.source!==n.layout.source;s==="size"?un(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],y=Lt(m);m.min=t[p].min,m.max=m.min+y}):Nk(s,e.layoutBox,t)&&un(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],y=Lt(t[p]);m.max=m.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[p].max=n.relativeTarget[p].min+y)});const a=Sr();ua(a,t,e.layoutBox);const c=Sr();o?ua(c,n.applyTransform(i,!0),e.measuredBox):ua(c,t,e.layoutBox);const u=!Rk(a);let d=!1;if(!n.resumeFrom){const p=n.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const v=it();ha(v,e.layoutBox,m.layoutBox);const x=it();ha(x,t,y.layoutBox),Ak(v,x)||(d=!0),p.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=v,n.relativeParent=p)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function ij(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function sj(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function rj(n){n.clearSnapshot()}function Kw(n){n.clearMeasurements()}function Gw(n){n.isLayoutDirty=!1}function oj(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Yw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function aj(n){n.resolveTargetDelta()}function lj(n){n.calcProjection()}function cj(n){n.resetSkewAndRotation()}function uj(n){n.removeLeadSnapshot()}function qw(n,e,t){n.translate=Xe(e.translate,0,t),n.scale=Xe(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Xw(n,e,t,i){n.min=Xe(e.min,t.min,i),n.max=Xe(e.max,t.max,i)}function hj(n,e,t,i){Xw(n.x,e.x,t.x,i),Xw(n.y,e.y,t.y,i)}function dj(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const fj={duration:.45,ease:[.4,0,.1,1]},Qw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Jw=Qw("applewebkit/")&&!Qw("chrome/")?Math.round:dn;function Zw(n){n.min=Jw(n.min),n.max=Jw(n.max)}function pj(n){Zw(n.x),Zw(n.y)}function Nk(n,e,t){return n==="position"||n==="preserve-aspect"&&!xU(Hw(e),Hw(t),.2)}function mj(n){return n!==n.root&&n.scroll?.wasRoot}const gj=Lk({attachResizeListener:(n,e)=>Ra(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ef={current:void 0},Ok=Lk({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ef.current){const n=new gj({});n.mount(window),n.setOptions({layoutScroll:!0}),Ef.current=n}return Ef.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),yj={pan:{Feature:NU},drag:{Feature:LU,ProjectionNode:Ok,MeasureLayout:Pk}};function eS(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,o=i[s];o&&We.postRender(()=>o(e,qa(e)))}class _j extends Zi{mount(){const{current:e}=this.node;e&&(this.unmount=Fz(e,(t,i)=>(eS(this.node,i,"Start"),s=>eS(this.node,s,"End"))))}unmount(){}}class vj extends Zi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ka(Ra(this.node.current,"focus",()=>this.onFocus()),Ra(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tS(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),o=i[s];o&&We.postRender(()=>o(e,qa(e)))}class xj extends Zi{mount(){const{current:e}=this.node;e&&(this.unmount=Uz(e,(t,i)=>(tS(this.node,i,"Start"),(s,{success:o})=>tS(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tp=new WeakMap,Pf=new WeakMap,wj=n=>{const e=Tp.get(n.target);e&&e(n)},Sj=n=>{n.forEach(wj)};function Cj({root:n,...e}){const t=n||document;Pf.has(t)||Pf.set(t,{});const i=Pf.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(Sj,{root:n,...e})),i[s]}function bj(n,e,t){const i=Cj(e);return Tp.set(n,t),i.observe(n),()=>{Tp.delete(n),i.unobserve(n)}}const Tj={some:0,all:1};class kj extends Zi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:o}=e,a={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Tj[s]},c=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),y=d?p:m;y&&y(u)};return bj(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Ej(e,t))&&this.startObserver()}unmount(){}}function Ej({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Pj={inView:{Feature:kj},tap:{Feature:xj},focus:{Feature:vj},hover:{Feature:_j}},Ij={layout:{ProjectionNode:Ok,MeasureLayout:Pk}},Mj={...pU,...Pj,...yj,...Ij},Ec=MB(Mj,WB);function Fk(n){const e=$a(()=>Vs(n)),{isStatic:t}=$.useContext(Uu);if(t){const[,i]=$.useState(n);$.useEffect(()=>e.on("change",i),[])}return e}function Vk(n,e){const t=Fk(e()),i=()=>t.set(e());return i(),Fm(()=>{const s=()=>We.preRender(i,!1,!0),o=n.map(a=>a.on("change",s));return()=>{o.forEach(a=>a()),di(i)}}),t}function Rj(n){la.current=[],n();const e=Vk(la.current,n);return la.current=void 0,e}function Aj(n,e,t,i){if(typeof n=="function")return Rj(n);const s=typeof e=="function"?e:Wz(e,t,i);return Array.isArray(n)?nS(n,s):nS([n],([o])=>s(o))}function nS(n,e){const t=$a(()=>[]);return Vk(n,()=>{t.length=0;const i=n.length;for(let s=0;s<i;s++)t[s]=n[s].get();return e(t)})}Ou.register(...W2);function Dj(n,e){const i=`timestamp,value,unit
`+e.map(c=>`${new Date(c.t).toISOString()},${c.v},${c.u||""}`).join(`
`),s=new Blob([i],{type:"text/csv"}),o=URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download=n,a.click(),URL.revokeObjectURL(o)}function Lj({warnThreshold:n=null,dangerThreshold:e=null}){const[t,i]=$.useState(null),[s,o]=$.useState("cm"),[a,c]=$.useState([]),[u,d]=$.useState([]),p=Fk(0),m=Aj(p,b=>(Math.round(b*10)/10).toFixed(1));$.useEffect(()=>{t!==null&&p.set(Number(t))},[t]),$.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().catch(()=>{});const b=Jv(_0,"/TOF_Sensor/value"),k=Jv(_0,"/TOF_Sensor/unit"),I=Zv(b,M=>{if(!M.exists())return;const O=Number(M.val());i(O),c(V=>{const F=[...V,{t:Date.now(),v:O,u:s}];return F.length>120&&F.shift(),F}),e!==null&&O>=e?(y("CRITICAL: value is above danger threshold","danger"),v("CRITICAL",`Value ${O} ${s} above ${e}`),x()):n!==null&&O>=n&&(y("Warning: value above warning threshold","warning"),v("Warning",`Value ${O} ${s} above ${n}`))}),D=Zv(k,M=>{M.exists()&&o(M.val())});return()=>{I(),D()}},[e,n,s]);function y(b,k="info"){const I=Date.now()+Math.random();d(D=>[...D,{id:I,message:b,level:k}]),setTimeout(()=>d(D=>D.filter(M=>M.id!==I)),6e3)}function v(b,k){"Notification"in window&&Notification.permission==="granted"&&new Notification(b,{body:k})}function x(){try{const b=new(window.AudioContext||window.webkitAudioContext),k=b.createOscillator(),I=b.createGain();k.type="sine",k.frequency.value=880,I.gain.value=.05,k.connect(I),I.connect(b.destination),k.start(0),setTimeout(()=>{k.stop(),b.close()},500)}catch{}}const S={labels:a.map(b=>new Date(b.t).toLocaleTimeString()),datasets:[{label:`Distance (${s})`,data:a.map(b=>b.v),tension:.36,fill:!0,borderWidth:2,pointRadius:0,borderColor:"rgba(79, 70, 229, 1)",backgroundColor:b=>{const k=b.chart.ctx.createLinearGradient(0,0,0,200);return k.addColorStop(0,"rgba(99,102,241,0.18)"),k.addColorStop(1,"rgba(99,102,241,0.02)"),k}}]},C={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},interaction:{intersect:!1,mode:"index"},scales:{x:{display:!0,grid:{display:!1}},y:{display:!0,grid:{color:"#f1f5f9"}}},animation:{duration:400,easing:"easeOutCubic"}};return se.jsxs(Ec.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"p-6 bg-white rounded-2xl shadow-soft-lg",children:[se.jsxs("div",{className:"flex items-center justify-between",children:[se.jsxs("div",{children:[se.jsx("h3",{className:"text-sm text-muted",children:"Live Distance"}),se.jsxs("div",{className:"flex items-baseline gap-3 mt-2",children:[se.jsx(Jz,{mode:"wait",children:se.jsx(Ec.span,{initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.96,opacity:0},transition:{duration:.28},className:"text-4xl font-extrabold text-primary",style:{willChange:"transform"},children:se.jsx(Ec.span,{style:{fontVariantNumeric:"tabular-nums"},children:m?se.jsx(Ec.span,{children:m}):""})},t??"empty")}),se.jsx("span",{className:"text-lg text-gray-600",children:s})]}),se.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Realtime"})]}),se.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[se.jsx("div",{className:"text-xs text-gray-500",children:"Last sample"}),se.jsx("div",{className:"text-sm text-gray-700",children:a.length?new Date(a[a.length-1].t).toLocaleString():""}),se.jsxs("div",{className:"mt-2 flex gap-2",children:[se.jsx("button",{onClick:()=>Dj("rangefinder-history.csv",a),className:"px-3 py-1 rounded bg-gray-100 hover:bg-gray-200 text-sm",children:"Export CSV"}),se.jsx("button",{onClick:()=>{navigator.clipboard?.writeText(`${t} ${s}`).then(()=>y("Copied value to clipboard","info"))},className:"px-3 py-1 rounded bg-primary text-white text-sm",children:"Copy"})]})]})]}),se.jsx("div",{className:"mt-4",style:{height:260},children:se.jsx(q2,{data:S,options:C})}),se.jsx("div",{className:"fixed bottom-6 right-6 flex flex-col gap-2 z-50",children:u.map(b=>se.jsx("div",{className:`px-4 py-2 rounded shadow text-sm ${b.level==="danger"?"bg-red-600 text-white":b.level==="warning"?"bg-yellow-400 text-black":"bg-gray-800 text-white"}`,children:b.message},b.id))})]})}function Nj(){const[n,e]=$.useState(null);$.useEffect(()=>{const s=cA(Jd,o=>e(o));return()=>s()},[]);const t=async()=>{const s=new ei;try{await MA(Jd,s)}catch(o){console.error("Google login failed",o),alert("Login failed: "+o.message)}},i=async()=>{await uA(Jd)};return se.jsx("div",{className:"flex items-center gap-4",children:n?se.jsxs(se.Fragment,{children:[se.jsxs("div",{className:"text-sm text-gray-700",children:["Signed in as ",se.jsx("strong",{children:n.email??n.displayName??n.uid})]}),se.jsx("button",{onClick:i,className:"px-3 py-1 rounded bg-gray-100 hover:bg-gray-200",children:"Sign out"})]}):se.jsx("button",{onClick:t,className:"px-3 py-1 rounded bg-indigo-600 text-white hover:opacity-90",children:"Sign in with Google"})})}function Oj(){return se.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:se.jsxs("div",{className:"w-full max-w-5xl",children:[se.jsxs("header",{className:"flex items-center justify-between mb-6",children:[se.jsxs("div",{children:[se.jsx("h1",{className:"text-3xl font-semibold text-indigo-800",children:"Rangefinder Realtime Dashboard"}),se.jsx("p",{className:"text-sm text-gray-600",children:"Live ToF sensor readings from Firebase Realtime Database"})]}),se.jsx(Nj,{})]}),se.jsxs("main",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[se.jsx(Lj,{warnThreshold:80,dangerThreshold:120}),se.jsxs("div",{className:"p-6 bg-white rounded-2xl shadow",children:[se.jsx("h2",{className:"text-lg font-medium mb-2",children:"Controls & Info"}),se.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[se.jsx("li",{children:"- Live updates via Firebase `onValue` listeners"}),se.jsx("li",{children:"- Chart displays recent samples"}),se.jsx("li",{children:"- Export CSV and browser notifications included"})]})]})]})]})})}lI.createRoot(document.getElementById("root")).render(se.jsx(nI.StrictMode,{children:se.jsx(Oj,{})}));
